{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./node_modules/@materializecss/materialize/dist/js/materialize.js","webpack:///webpack/bootstrap","webpack:///./src/js/plot/interactive.ts","webpack:///./node_modules/gridstack/dist/utils.js","webpack:///./node_modules/gridstack/dist/gridstack-engine.js","webpack:///./node_modules/gridstack/dist/types.js","webpack:///./node_modules/gridstack/dist/dd-manager.js","webpack:///./node_modules/gridstack/dist/dd-touch.js","webpack:///./node_modules/gridstack/dist/dd-resizable-handle.js","webpack:///./node_modules/gridstack/dist/dd-base-impl.js","webpack:///./node_modules/gridstack/dist/dd-resizable.js","webpack:///./node_modules/gridstack/dist/dd-draggable.js","webpack:///./node_modules/gridstack/dist/dd-droppable.js","webpack:///./node_modules/gridstack/dist/dd-element.js","webpack:///./node_modules/gridstack/dist/gridstack.js","webpack:///./node_modules/gridstack/dist/dd-gridstack.js","webpack:///./src/js/plot/grid.ts","webpack:///./src/js/plot.ts","webpack:///./src/js/panel.ts","webpack:///./src/js/index.ts"],"sourcesContent":["/*!\n * Materialize v2.0.3 (https://materializecss.github.io/materialize)\n * Copyright 2014-2023 Materialize\n * MIT License (https://raw.githubusercontent.com/materializecss/materialize/master/LICENSE)\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/autocomplete.ts\":\n/*!*****************************!*\\\n  !*** ./src/autocomplete.ts ***!\n  \\*****************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Autocomplete = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    data: [],\n    onAutocomplete: null,\n    dropdownOptions: {\n        // Default dropdown options\n        autoFocus: false,\n        closeOnClick: false,\n        coverTrigger: false\n    },\n    minLength: 1,\n    isMultiSelect: false,\n    onSearch: (text, autocomplete) => {\n        const normSearch = text.toLocaleLowerCase();\n        autocomplete.setMenuItems(autocomplete.options.data.filter((option) => {\n            var _a;\n            return option.id.toString().toLocaleLowerCase().includes(normSearch)\n                || ((_a = option.text) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase().includes(normSearch));\n        }));\n    },\n    maxDropDownHeight: '300px',\n    allowUnsafeHTML: false\n};\nclass Autocomplete extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Autocomplete);\n        this._handleInputBlur = () => {\n            if (!this._mousedown) {\n                this.close();\n                this._resetAutocomplete();\n            }\n        };\n        this._handleInputKeyupAndFocus = (e) => {\n            if (e.type === 'keyup')\n                Autocomplete._keydown = false;\n            this.count = 0;\n            const actualValue = this.el.value.toLocaleLowerCase();\n            // Don't capture enter or arrow key usage.\n            if (utils_1.Utils.keys.ENTER.includes(e.key) || utils_1.Utils.keys.ARROW_UP.includes(e.key) || utils_1.Utils.keys.ARROW_DOWN.includes(e.key))\n                return;\n            // Check if the input isn't empty\n            // Check if focus triggered by tab\n            if (this.oldVal !== actualValue && (utils_1.Utils.tabPressed || e.type !== 'focus')) {\n                this.open();\n            }\n            // Value has changed!\n            if (this.oldVal !== actualValue) {\n                this._setStatusLoading();\n                this.options.onSearch(this.el.value, this);\n            }\n            // Reset Single-Select when Input cleared\n            if (!this.options.isMultiSelect && this.el.value.length === 0) {\n                this.selectedValues = [];\n                this._triggerChanged();\n            }\n            this.oldVal = actualValue;\n        };\n        this._handleInputKeydown = (e) => {\n            var _a, _b;\n            Autocomplete._keydown = true;\n            // Arrow keys and enter key usage\n            const numItems = this.container.querySelectorAll('li').length;\n            // select element on Enter\n            if (utils_1.Utils.keys.ENTER.includes(e.key) && this.activeIndex >= 0) {\n                const liElement = this.container.querySelectorAll('li')[this.activeIndex];\n                if (liElement) {\n                    this.selectOption(liElement.getAttribute('data-id'));\n                    e.preventDefault();\n                }\n                return;\n            }\n            // Capture up and down key\n            if (utils_1.Utils.keys.ARROW_UP.includes(e.key) || utils_1.Utils.keys.ARROW_DOWN.includes(e.key)) {\n                e.preventDefault();\n                if (utils_1.Utils.keys.ARROW_UP.includes(e.key) && this.activeIndex > 0)\n                    this.activeIndex--;\n                if (utils_1.Utils.keys.ARROW_DOWN.includes(e.key) && this.activeIndex < numItems - 1)\n                    this.activeIndex++;\n                (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n                if (this.activeIndex >= 0) {\n                    this.$active = this.container.querySelectorAll('li')[this.activeIndex];\n                    (_b = this.$active) === null || _b === void 0 ? void 0 : _b.classList.add('active');\n                    // Focus selected\n                    this.container.children[this.activeIndex].scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'nearest',\n                        inline: 'nearest'\n                    });\n                }\n            }\n        };\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleContainerMousedownAndTouchstart = () => {\n            this._mousedown = true;\n        };\n        this._handleContainerMouseupAndTouchend = () => {\n            this._mousedown = false;\n        };\n        /**\n         * Show autocomplete.\n         */\n        this.open = () => {\n            const inputText = this.el.value.toLocaleLowerCase();\n            this._resetAutocomplete();\n            if (inputText.length >= this.options.minLength) {\n                this.isOpen = true;\n                this._renderDropdown();\n            }\n            // Open dropdown\n            if (!this.dropdown.isOpen) {\n                setTimeout(() => {\n                    this.dropdown.open();\n                }, 100);\n            }\n            else\n                this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\n        };\n        /**\n         * Hide autocomplete.\n         */\n        this.close = () => {\n            this.dropdown.close();\n        };\n        this.el.M_Autocomplete = this;\n        this.options = Object.assign(Object.assign({}, Autocomplete.defaults), options);\n        this.isOpen = false;\n        this.count = 0;\n        this.activeIndex = -1;\n        this.oldVal = \"\";\n        this.selectedValues = [];\n        this.menuItems = [];\n        this.$active = null;\n        this._mousedown = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Autocomplete.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Autocomplete);\n    }\n    static getInstance(el) {\n        return el.M_Autocomplete;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_Autocomplete = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('blur', this._handleInputBlur);\n        this.el.addEventListener('keyup', this._handleInputKeyupAndFocus);\n        this.el.addEventListener('focus', this._handleInputKeyupAndFocus);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.el.addEventListener('click', this._handleInputClick);\n        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\n        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\n            this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchend);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('blur', this._handleInputBlur);\n        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocus);\n        this.el.removeEventListener('focus', this._handleInputKeyupAndFocus);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\n        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\n            this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchend);\n        }\n    }\n    _setupDropdown() {\n        this.container = document.createElement('ul');\n        this.container.style.maxHeight = this.options.maxDropDownHeight;\n        this.container.id = `autocomplete-options-${utils_1.Utils.guid()}`;\n        this.container.classList.add('autocomplete-content', 'dropdown-content');\n        this.el.setAttribute('data-target', this.container.id);\n        // ! Issue in Component Dropdown: _placeDropdown moves dom-position\n        this.el.parentElement.appendChild(this.container);\n        // Initialize dropdown\n        let dropdownOptions = Object.assign(Object.assign({}, Autocomplete.defaults.dropdownOptions), this.options.dropdownOptions);\n        let userOnItemClick = dropdownOptions.onItemClick;\n        // Ensuring the select Option call when user passes custom onItemClick function to dropdown\n        dropdownOptions.onItemClick = (li) => {\n            if (!li)\n                return;\n            const entryID = li.getAttribute('data-id');\n            this.selectOption(entryID);\n            // Handle user declared onItemClick if needed\n            if (userOnItemClick && typeof userOnItemClick === 'function')\n                userOnItemClick.call(this.dropdown, this.el);\n        };\n        this.dropdown = dropdown_1.Dropdown.init(this.el, dropdownOptions);\n        // ! Workaround for Label: move label up again\n        // TODO: Just use PopperJS in future!\n        const label = this.el.parentElement.querySelector('label');\n        if (label)\n            this.el.after(label);\n        // Sketchy removal of dropdown click handler\n        this.el.removeEventListener('click', this.dropdown._handleClick);\n        // Set Value if already set in HTML\n        if (this.el.value)\n            this.selectOption(this.el.value);\n        // Add StatusInfo\n        const div = document.createElement('div');\n        div.classList.add('status-info');\n        div.setAttribute('style', 'position: absolute;right:0;top:0;');\n        this.el.parentElement.appendChild(div);\n        this._updateSelectedInfo();\n    }\n    _removeDropdown() {\n        this.container.parentNode.removeChild(this.container);\n    }\n    _resetCurrentElementPosition() {\n        var _a;\n        this.activeIndex = -1;\n        (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n    }\n    _resetAutocomplete() {\n        this.container.replaceChildren();\n        this._resetCurrentElementPosition();\n        this.oldVal = null;\n        this.isOpen = false;\n        this._mousedown = false;\n    }\n    _highlightPartialText(input, label) {\n        const start = label.toLocaleLowerCase().indexOf('' + input.toLocaleLowerCase() + '');\n        const end = start + input.length - 1;\n        //custom filters may return results where the string does not match any part\n        if (start == -1 || end == -1) {\n            return [label, '', ''];\n        }\n        return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\n    }\n    _createDropdownItem(entry) {\n        const item = document.createElement('li');\n        item.setAttribute('data-id', entry.id);\n        item.setAttribute('style', 'display:grid; grid-auto-flow: column; user-select: none; align-items: center;');\n        // Checkbox\n        if (this.options.isMultiSelect) {\n            item.innerHTML = `\n        <div class=\"item-selection\" style=\"text-align:center;\">\n        <input type=\"checkbox\"${this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''}><span style=\"padding-left:21px;\"></span>\n      </div>`;\n        }\n        // Image\n        if (entry.image) {\n            const img = document.createElement('img');\n            img.classList.add('circle');\n            img.src = entry.image;\n            item.appendChild(img);\n        }\n        // Text\n        const inputText = this.el.value.toLocaleLowerCase();\n        const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\n        const div = document.createElement('div');\n        div.setAttribute('style', 'line-height:1.2;font-weight:500;');\n        if (this.options.allowUnsafeHTML) {\n            div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\n        }\n        else {\n            div.appendChild(document.createTextNode(parts[0]));\n            if (parts[1]) {\n                const highlight = document.createElement('span');\n                highlight.textContent = parts[1];\n                highlight.classList.add('highlight');\n                div.appendChild(highlight);\n                div.appendChild(document.createTextNode(parts[2]));\n            }\n        }\n        const itemText = document.createElement('div');\n        itemText.classList.add('item-text');\n        itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\n        item.appendChild(itemText);\n        item.querySelector('.item-text').appendChild(div);\n        // Description\n        if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\n            const description = document.createElement('small');\n            description.setAttribute('style', 'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;');\n            description.innerText = entry.description;\n            item.querySelector('.item-text').appendChild(description);\n        }\n        // Set Grid\n        const getGridConfig = () => {\n            if (this.options.isMultiSelect) {\n                if (entry.image)\n                    return '40px min-content auto'; // cb-img-txt\n                return '40px auto'; // cb-txt\n            }\n            if (entry.image)\n                return 'min-content auto'; // img-txt\n            return 'auto'; // txt\n        };\n        item.style.gridTemplateColumns = getGridConfig();\n        return item;\n    }\n    _renderDropdown() {\n        this._resetAutocomplete();\n        // Check if Data is empty\n        if (this.menuItems.length === 0) {\n            this.menuItems = this.selectedValues; // Show selected Items\n        }\n        for (let i = 0; i < this.menuItems.length; i++) {\n            const item = this._createDropdownItem(this.menuItems[i]);\n            this.container.append(item);\n        }\n    }\n    _setStatusLoading() {\n        this.el.parentElement.querySelector('.status-info').innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\n  </svg></div>`;\n    }\n    _updateSelectedInfo() {\n        const statusElement = this.el.parentElement.querySelector('.status-info');\n        if (statusElement) {\n            if (this.options.isMultiSelect)\n                statusElement.innerHTML = this.selectedValues.length.toString();\n            else\n                statusElement.innerHTML = '';\n        }\n    }\n    _refreshInputText() {\n        if (this.selectedValues.length === 1) {\n            const entry = this.selectedValues[0];\n            this.el.value = entry.text || entry.id; // Write Text to Input\n        }\n    }\n    _triggerChanged() {\n        this.el.dispatchEvent(new Event('change'));\n        // Trigger Autocomplete Event\n        if (typeof this.options.onAutocomplete === 'function')\n            this.options.onAutocomplete.call(this, this.selectedValues);\n    }\n    /**\n     * Updates the visible or selectable items shown in the menu.\n     * @param menuItems Items to be available.\n     */\n    setMenuItems(menuItems) {\n        this.menuItems = menuItems;\n        this.open();\n        this._updateSelectedInfo();\n    }\n    /**\n     * Sets selected values.\n     * @param entries\n     */\n    setValues(entries) {\n        this.selectedValues = entries;\n        this._updateSelectedInfo();\n        if (!this.options.isMultiSelect) {\n            this._refreshInputText();\n        }\n        this._triggerChanged();\n    }\n    /**\n     * Select a specific autocomplete option via id-property.\n     * @param id The id of a data-entry.\n     */\n    selectOption(id) {\n        const entry = this.menuItems.find((item) => item.id == id);\n        if (!entry)\n            return;\n        // Toggle Checkbox\n        const li = this.container.querySelector('li[data-id=\"' + id + '\"]');\n        if (!li)\n            return;\n        if (this.options.isMultiSelect) {\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\n            checkbox.checked = !checkbox.checked;\n            if (checkbox.checked)\n                this.selectedValues.push(entry);\n            else\n                this.selectedValues = this.selectedValues.filter((selectedEntry) => selectedEntry.id !== entry.id);\n            this.el.focus();\n        }\n        else {\n            // Single-Select\n            this.selectedValues = [entry];\n            this._refreshInputText();\n            this._resetAutocomplete();\n            this.close();\n        }\n        this._updateSelectedInfo();\n        this._triggerChanged();\n    }\n}\nexports.Autocomplete = Autocomplete;\n\n\n/***/ }),\n\n/***/ \"./src/buttons.ts\":\n/*!************************!*\\\n  !*** ./src/buttons.ts ***!\n  \\************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FloatingActionButton = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    direction: 'top',\n    hoverEnabled: true,\n    toolbarEnabled: false\n};\nclass FloatingActionButton extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, FloatingActionButton);\n        this._handleFABClick = () => {\n            if (this.isOpen) {\n                this.close();\n            }\n            else {\n                this.open();\n            }\n        };\n        this._handleDocumentClick = (e) => {\n            const elem = e.target;\n            if (elem !== this._menu)\n                this.close;\n        };\n        /**\n         * Open FAB.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            if (this.options.toolbarEnabled)\n                this._animateInToolbar();\n            else\n                this._animateInFAB();\n            this.isOpen = true;\n        };\n        /**\n         * Close FAB.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            if (this.options.toolbarEnabled) {\n                window.removeEventListener('scroll', this.close, true);\n                document.body.removeEventListener('click', this._handleDocumentClick, true);\n            }\n            else {\n                this._animateOutFAB();\n            }\n            this.isOpen = false;\n        };\n        this.el.M_FloatingActionButton = this;\n        this.options = Object.assign(Object.assign({}, FloatingActionButton.defaults), options);\n        this.isOpen = false;\n        this._anchor = this.el.querySelector('a');\n        this._menu = this.el.querySelector('ul');\n        this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\n        this._floatingBtnsReverse = this._floatingBtns.reverse();\n        this.offsetY = 0;\n        this.offsetX = 0;\n        this.el.classList.add(`direction-${this.options.direction}`);\n        if (this.options.direction === 'top')\n            this.offsetY = 40;\n        else if (this.options.direction === 'right')\n            this.offsetX = -40;\n        else if (this.options.direction === 'bottom')\n            this.offsetY = -40;\n        else\n            this.offsetX = 40;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of FloatingActionButton.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, FloatingActionButton);\n    }\n    static getInstance(el) {\n        return el.M_FloatingActionButton;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_FloatingActionButton = undefined;\n    }\n    _setupEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.addEventListener('mouseenter', this.open);\n            this.el.addEventListener('mouseleave', this.close);\n        }\n        else {\n            this.el.addEventListener('click', this._handleFABClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.removeEventListener('mouseenter', this.open);\n            this.el.removeEventListener('mouseleave', this.close);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleFABClick);\n        }\n    }\n    _animateInFAB() {\n        this.el.classList.add('active');\n        const delayIncrement = 40;\n        const duration = 275;\n        this._floatingBtnsReverse.forEach((el, index) => {\n            const delay = delayIncrement * index;\n            el.style.transition = 'none';\n            el.style.opacity = '0';\n            el.style.transform = `translate(${this.offsetX}px, ${this.offsetY}px) scale(0.4)`;\n            setTimeout(() => {\n                // from:\n                el.style.opacity = '0.4';\n                // easeInOutQuad\n                setTimeout(() => {\n                    // to:\n                    el.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n                    el.style.opacity = '1';\n                    el.style.transform = 'translate(0, 0) scale(1)';\n                }, 1);\n            }, delay);\n        });\n    }\n    _animateOutFAB() {\n        const duration = 175;\n        setTimeout(() => this.el.classList.remove('active'), duration);\n        this._floatingBtnsReverse.forEach((el) => {\n            el.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n            // to\n            el.style.opacity = '0';\n            el.style.transform = `translate(${this.offsetX}px, ${this.offsetY}px) scale(0.4)`;\n        });\n    }\n    _animateInToolbar() {\n        let scaleFactor;\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let btnRect = this.el.getBoundingClientRect();\n        const backdrop = document.createElement('div');\n        backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\n        const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\n        this._anchor.append(backdrop);\n        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\n        this.offsetY = windowHeight - btnRect.bottom;\n        scaleFactor = windowWidth / backdrop[0].clientWidth;\n        this.btnBottom = btnRect.bottom;\n        this.btnLeft = btnRect.left;\n        this.btnWidth = btnRect.width;\n        // Set initial state\n        this.el.classList.add('active');\n        this.el.style.textAlign = 'center';\n        this.el.style.width = '100%';\n        this.el.style.bottom = '0';\n        this.el.style.left = '0';\n        this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\n        this.el.style.transition = 'none';\n        this._anchor.style.transform = `translateY(${this.offsetY}px`;\n        this._anchor.style.transition = 'none';\n        backdrop.style.backgroundColor = fabColor;\n        setTimeout(() => {\n            this.el.style.transform = '';\n            this.el.style.transition = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\n            this._anchor.style.overflow = 'visible';\n            this._anchor.style.transform = '';\n            this._anchor.style.transition = 'transform .2s';\n            setTimeout(() => {\n                this.el.style.overflow = 'hidden';\n                this.el.style.backgroundColor = fabColor;\n                backdrop.style.transform = 'scale(' + scaleFactor + ')';\n                backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\n                this._menu.querySelectorAll('li > a').forEach((a) => a.style.opacity = '1');\n                // Scroll to close.\n                window.addEventListener('scroll', this.close, true);\n                document.body.addEventListener('click', this._handleDocumentClick, true);\n            }, 100);\n        }, 0);\n    }\n}\nexports.FloatingActionButton = FloatingActionButton;\n\n\n/***/ }),\n\n/***/ \"./src/cards.ts\":\n/*!**********************!*\\\n  !*** ./src/cards.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Cards = void 0;\nclass Cards {\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const card = trigger.closest('.card');\n                if (!card)\n                    return;\n                const cardReveal = Array.from(card.children).find(elem => elem.classList.contains('card-reveal'));\n                if (!cardReveal)\n                    return;\n                const initialOverflow = getComputedStyle(card).overflow;\n                // Close Card\n                const closeArea = cardReveal.querySelector('.card-reveal .card-title');\n                if (trigger === closeArea || closeArea.contains(trigger)) {\n                    const duration = 225;\n                    cardReveal.style.transition = `transform ${duration}ms ease`; //easeInOutQuad\n                    cardReveal.style.transform = 'translateY(0)';\n                    setTimeout(() => {\n                        cardReveal.style.display = 'none';\n                        card.style.overflow = initialOverflow;\n                    }, duration);\n                }\n                ;\n                // Reveal Card\n                const activators = card.querySelectorAll('.activator');\n                activators.forEach(activator => {\n                    if (trigger === activator || activator.contains(trigger)) {\n                        card.style.overflow = 'hidden';\n                        cardReveal.style.display = 'block';\n                        setTimeout(() => {\n                            const duration = 300;\n                            cardReveal.style.transition = `transform ${duration}ms ease`; //easeInOutQuad\n                            cardReveal.style.transform = 'translateY(-100%)';\n                        }, 1);\n                    }\n                });\n            });\n        });\n    }\n}\nexports.Cards = Cards;\n\n\n/***/ }),\n\n/***/ \"./src/carousel.ts\":\n/*!*************************!*\\\n  !*** ./src/carousel.ts ***!\n  \\*************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Carousel = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    duration: 200,\n    dist: -100,\n    shift: 0,\n    padding: 0,\n    numVisible: 5,\n    fullWidth: false,\n    indicators: false,\n    noWrap: false,\n    onCycleTo: null // Callback for when a new slide is cycled to.\n};\nclass Carousel extends component_1.Component {\n    constructor(el, options) {\n        var _a;\n        super(el, options, Carousel);\n        /** The index of the center carousel item. */\n        this.center = 0;\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleResize(); }, 200, null).bind(this);\n        this._handleCarouselTap = (e) => {\n            // Fixes firefox draggable image bug\n            if (e.type === 'mousedown' && e.target.tagName === 'IMG') {\n                e.preventDefault();\n            }\n            this.pressed = true;\n            this.dragged = false;\n            this.verticalDragged = false;\n            this.reference = this._xpos(e);\n            this.referenceY = this._ypos(e);\n            this.velocity = this.amplitude = 0;\n            this.frame = this.offset;\n            this.timestamp = Date.now();\n            clearInterval(this.ticker);\n            this.ticker = setInterval(this._track, 100);\n        };\n        this._handleCarouselDrag = (e) => {\n            let x, y, delta, deltaY;\n            if (this.pressed) {\n                x = this._xpos(e);\n                y = this._ypos(e);\n                delta = this.reference - x;\n                deltaY = Math.abs(this.referenceY - y);\n                if (deltaY < 30 && !this.verticalDragged) {\n                    // If vertical scrolling don't allow dragging.\n                    if (delta > 2 || delta < -2) {\n                        this.dragged = true;\n                        this.reference = x;\n                        this._scroll(this.offset + delta);\n                    }\n                }\n                else if (this.dragged) {\n                    // If dragging don't allow vertical scroll.\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n                else {\n                    // Vertical scrolling.\n                    this.verticalDragged = true;\n                }\n            }\n            if (this.dragged) {\n                // If dragging don't allow vertical scroll.\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n        };\n        this._handleCarouselRelease = (e) => {\n            if (this.pressed) {\n                this.pressed = false;\n            }\n            else {\n                return;\n            }\n            clearInterval(this.ticker);\n            this.target = this.offset;\n            if (this.velocity > 10 || this.velocity < -10) {\n                this.amplitude = 0.9 * this.velocity;\n                this.target = this.offset + this.amplitude;\n            }\n            this.target = Math.round(this.target / this.dim) * this.dim;\n            // No wrap of items.\n            if (this.noWrap) {\n                if (this.target >= this.dim * (this.count - 1)) {\n                    this.target = this.dim * (this.count - 1);\n                }\n                else if (this.target < 0) {\n                    this.target = 0;\n                }\n            }\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScroll);\n            if (this.dragged) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            return false;\n        };\n        this._handleCarouselClick = (e) => {\n            // Disable clicks if carousel was dragged.\n            if (this.dragged) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n            else if (!this.options.fullWidth) {\n                const clickedElem = e.target.closest('.carousel-item');\n                if (!clickedElem)\n                    return;\n                const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\n                const diff = this._wrap(this.center) - clickedIndex;\n                // Disable clicks if carousel was shifted by click\n                if (diff !== 0) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                // fixes https://github.com/materializecss/materialize/issues/180\n                if (clickedIndex < 0) {\n                    // relative X position > center of carousel = clicked at the right part of the carousel\n                    if (e.clientX - e.target.getBoundingClientRect().left > this.el.clientWidth / 2) {\n                        this.next();\n                    }\n                    else {\n                        this.prev();\n                    }\n                }\n                else {\n                    this._cycleTo(clickedIndex);\n                }\n            }\n        };\n        this._handleIndicatorClick = (e) => {\n            e.stopPropagation();\n            const indicator = e.target.closest('.indicator-item');\n            if (indicator) {\n                const index = [...indicator.parentNode.children].indexOf(indicator);\n                this._cycleTo(index);\n            }\n        };\n        this._handleResize = () => {\n            if (this.options.fullWidth) {\n                this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n                this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\n                this.dim = this.itemWidth * 2 + this.options.padding;\n                this.offset = this.center * 2 * this.itemWidth;\n                this.target = this.offset;\n                this._setCarouselHeight(true);\n            }\n            else {\n                this._scroll();\n            }\n        };\n        this._track = () => {\n            let now, elapsed, delta, v;\n            now = Date.now();\n            elapsed = now - this.timestamp;\n            this.timestamp = now;\n            delta = this.offset - this.frame;\n            this.frame = this.offset;\n            v = (1000 * delta) / (1 + elapsed);\n            this.velocity = 0.8 * v + 0.2 * this.velocity;\n        };\n        this._autoScroll = () => {\n            let elapsed, delta;\n            if (this.amplitude) {\n                elapsed = Date.now() - this.timestamp;\n                delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\n                if (delta > 2 || delta < -2) {\n                    this._scroll(this.target - delta);\n                    requestAnimationFrame(this._autoScroll);\n                }\n                else {\n                    this._scroll(this.target);\n                }\n            }\n        };\n        this.el.M_Carousel = this;\n        this.options = Object.assign(Object.assign({}, Carousel.defaults), options);\n        // Setup\n        this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\n        this.showIndicators = this.options.indicators && this.hasMultipleSlides;\n        this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\n        this.pressed = false;\n        this.dragged = false;\n        this.offset = this.target = 0;\n        this.images = [];\n        this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n        this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\n        this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\n        // Full Width carousel setup\n        if (this.options.fullWidth) {\n            this.options.dist = 0;\n            this._setCarouselHeight();\n            // Offset fixed items when indicators.\n            if (this.showIndicators) {\n                (_a = this.el.querySelector('.carousel-fixed-item')) === null || _a === void 0 ? void 0 : _a.classList.add('with-indicators');\n            }\n        }\n        // Iterate through slides\n        this._indicators = document.createElement('ul');\n        this._indicators.classList.add('indicators');\n        this.el.querySelectorAll('.carousel-item').forEach((item, i) => {\n            this.images.push(item);\n            if (this.showIndicators) {\n                const indicator = document.createElement('li');\n                indicator.classList.add('indicator-item');\n                if (i === 0) {\n                    indicator.classList.add('active');\n                }\n                this._indicators.appendChild(indicator);\n            }\n        });\n        if (this.showIndicators)\n            this.el.appendChild(this._indicators);\n        this.count = this.images.length;\n        // Cap numVisible at count\n        this.options.numVisible = Math.min(this.count, this.options.numVisible);\n        // Setup cross browser string\n        this.xform = 'transform';\n        ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\n            var e = prefix + 'Transform';\n            if (typeof document.body.style[e] !== 'undefined') {\n                this.xform = e;\n                return false;\n            }\n            return true;\n        });\n        this._setupEventHandlers();\n        this._scroll(this.offset);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Carousel.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Carousel);\n    }\n    static getInstance(el) {\n        return el.M_Carousel;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Carousel = undefined;\n    }\n    _setupEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.addEventListener('touchstart', this._handleCarouselTap);\n            this.el.addEventListener('touchmove', this._handleCarouselDrag);\n            this.el.addEventListener('touchend', this._handleCarouselRelease);\n        }\n        this.el.addEventListener('mousedown', this._handleCarouselTap);\n        this.el.addEventListener('mousemove', this._handleCarouselDrag);\n        this.el.addEventListener('mouseup', this._handleCarouselRelease);\n        this.el.addEventListener('mouseleave', this._handleCarouselRelease);\n        this.el.addEventListener('click', this._handleCarouselClick);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClick);\n            });\n        }\n        // Resize\n        window.addEventListener('resize', this._handleThrottledResize);\n    }\n    _removeEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.removeEventListener('touchstart', this._handleCarouselTap);\n            this.el.removeEventListener('touchmove', this._handleCarouselDrag);\n            this.el.removeEventListener('touchend', this._handleCarouselRelease);\n        }\n        this.el.removeEventListener('mousedown', this._handleCarouselTap);\n        this.el.removeEventListener('mousemove', this._handleCarouselDrag);\n        this.el.removeEventListener('mouseup', this._handleCarouselRelease);\n        this.el.removeEventListener('mouseleave', this._handleCarouselRelease);\n        this.el.removeEventListener('click', this._handleCarouselClick);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClick);\n            });\n        }\n        window.removeEventListener('resize', this._handleThrottledResize);\n    }\n    _setCarouselHeight(imageOnly = false) {\n        const firstSlide = this.el.querySelector('.carousel-item.active')\n            ? this.el.querySelector('.carousel-item.active')\n            : this.el.querySelector('.carousel-item');\n        const firstImage = firstSlide.querySelector('img');\n        if (firstImage) {\n            if (firstImage.complete) {\n                // If image won't trigger the load event\n                const imageHeight = firstImage.clientHeight;\n                if (imageHeight > 0) {\n                    this.el.style.height = imageHeight + 'px';\n                }\n                else {\n                    // If image still has no height, use the natural dimensions to calculate\n                    const naturalWidth = firstImage.naturalWidth;\n                    const naturalHeight = firstImage.naturalHeight;\n                    const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\n                    this.el.style.height = adjustedHeight + 'px';\n                }\n            }\n            else {\n                // Get height when image is loaded normally\n                firstImage.addEventListener('load', () => {\n                    this.el.style.height = firstImage.offsetHeight + 'px';\n                });\n            }\n        }\n        else if (!imageOnly) {\n            const slideHeight = firstSlide.clientHeight;\n            this.el.style.height = slideHeight + 'px';\n        }\n    }\n    _xpos(e) {\n        // touch event\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    _ypos(e) {\n        // touch event\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientY;\n        }\n        // mouse event\n        return e.clientY;\n    }\n    _wrap(x) {\n        return x >= this.count\n            ? x % this.count\n            : x < 0\n                ? this._wrap(this.count + (x % this.count))\n                : x;\n    }\n    _scroll(x = 0) {\n        // Track scrolling state\n        if (!this.el.classList.contains('scrolling')) {\n            this.el.classList.add('scrolling');\n        }\n        if (this.scrollingTimeout != null) {\n            window.clearTimeout(this.scrollingTimeout);\n        }\n        this.scrollingTimeout = window.setTimeout(() => {\n            this.el.classList.remove('scrolling');\n        }, this.options.duration);\n        // Start actual scroll\n        let i, half, delta, dir, tween, el, alignment, zTranslation, tweenedOpacity, centerTweenedOpacity;\n        let lastCenter = this.center;\n        let numVisibleOffset = 1 / this.options.numVisible;\n        this.offset = typeof x === 'number' ? x : this.offset;\n        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\n        delta = this.offset - this.center * this.dim;\n        dir = delta < 0 ? 1 : -1;\n        tween = (-dir * delta * 2) / this.dim;\n        half = this.count >> 1;\n        if (this.options.fullWidth) {\n            alignment = 'translateX(0)';\n            centerTweenedOpacity = 1;\n        }\n        else {\n            alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\n            alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\n            centerTweenedOpacity = 1 - numVisibleOffset * tween;\n        }\n        // Set indicator active\n        if (this.showIndicators) {\n            const diff = this.center % this.count;\n            const activeIndicator = this._indicators.querySelector('.indicator-item.active');\n            const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\n            if (activeIndicatorIndex !== diff) {\n                activeIndicator.classList.remove('active');\n                const pos = diff < 0 ? this.count + diff : diff;\n                this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            // Add active class to center item.\n            if (!el.classList.contains('active')) {\n                this.el.querySelector('.carousel-item').classList.remove('active');\n                el.classList.add('active');\n            }\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween *\n                i}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        for (i = 1; i <= half; ++i) {\n            // right side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 + tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center + i < this.count) {\n                el = this.images[this._wrap(this.center + i)];\n                let transformString = `${alignment} translateX(${this.options.shift +\n                    (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n            // left side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 - tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center - i >= 0) {\n                el = this.images[this._wrap(this.center - i)];\n                let transformString = `${alignment} translateX(${-this.options.shift +\n                    (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        // onCycleTo callback\n        const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\n        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\n            this.options.onCycleTo.call(this, _currItem, this.dragged);\n        }\n        // One time callback\n        if (typeof this.oneTimeCallback === 'function') {\n            this.oneTimeCallback.call(this, _currItem, this.dragged);\n            this.oneTimeCallback = null;\n        }\n    }\n    _updateItemStyle(el, opacity, zIndex, transform) {\n        el.style[this.xform] = transform;\n        el.style.zIndex = zIndex.toString();\n        el.style.opacity = opacity.toString();\n        el.style.visibility = 'visible';\n    }\n    _cycleTo(n, callback = null) {\n        let diff = (this.center % this.count) - n;\n        // Account for wraparound.\n        if (!this.noWrap) {\n            if (diff < 0) {\n                if (Math.abs(diff + this.count) < Math.abs(diff)) {\n                    diff += this.count;\n                }\n            }\n            else if (diff > 0) {\n                if (Math.abs(diff - this.count) < diff) {\n                    diff -= this.count;\n                }\n            }\n        }\n        this.target = this.dim * Math.round(this.offset / this.dim);\n        // Next\n        if (diff < 0) {\n            this.target += this.dim * Math.abs(diff);\n        } // Prev\n        else if (diff > 0) {\n            this.target -= this.dim * diff;\n        }\n        // Set one time callback\n        if (typeof callback === 'function') {\n            this.oneTimeCallback = callback;\n        }\n        // Scroll\n        if (this.offset !== this.target) {\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScroll);\n        }\n    }\n    /**\n     * Move carousel to next slide or go forward a given amount of slides.\n     * @param n How many times the carousel slides.\n     */\n    next(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center + n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    /**\n     * Move carousel to previous slide or go back a given amount of slides.\n     * @param n How many times the carousel slides.\n     */\n    prev(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center - n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    /**\n     * Move carousel to nth slide.\n     * @param n Index of slide.\n     * @param callback \"onCycleTo\" optional callback.\n     */\n    set(n, callback) {\n        if (n === undefined || isNaN(n)) {\n            n = 0;\n        }\n        if (n > this.count || n < 0) {\n            if (this.noWrap)\n                return;\n            n = this._wrap(n);\n        }\n        this._cycleTo(n, callback);\n    }\n}\nexports.Carousel = Carousel;\n\n\n/***/ }),\n\n/***/ \"./src/characterCounter.ts\":\n/*!*********************************!*\\\n  !*** ./src/characterCounter.ts ***!\n  \\*********************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CharacterCounter = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nconst _defaults = Object.freeze({});\nclass CharacterCounter extends component_1.Component {\n    constructor(el, options) {\n        super(el, {}, CharacterCounter);\n        this.updateCounter = () => {\n            let maxLength = parseInt(this.el.getAttribute('maxlength')), actualLength = this.el.value.length;\n            this.isValidLength = actualLength <= maxLength;\n            let counterString = actualLength.toString();\n            if (maxLength) {\n                counterString += '/' + maxLength;\n                this._validateInput();\n            }\n            this.counterEl.innerHTML = counterString;\n        };\n        this.el.M_CharacterCounter = this;\n        this.options = Object.assign(Object.assign({}, CharacterCounter.defaults), options);\n        this.isInvalid = false;\n        this.isValidLength = false;\n        this._setupCounter();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of CharacterCounter.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, CharacterCounter);\n    }\n    static getInstance(el) {\n        return el.M_CharacterCounter;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.CharacterCounter = undefined;\n        this._removeCounter();\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('focus', this.updateCounter, true);\n        this.el.addEventListener('input', this.updateCounter, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('focus', this.updateCounter, true);\n        this.el.removeEventListener('input', this.updateCounter, true);\n    }\n    _setupCounter() {\n        this.counterEl = document.createElement('span');\n        this.counterEl.classList.add('character-counter');\n        this.counterEl.style.float = 'right';\n        this.counterEl.style.fontSize = '12px';\n        this.counterEl.style.height = '1';\n        this.el.parentElement.appendChild(this.counterEl);\n    }\n    _removeCounter() {\n        this.counterEl.remove();\n    }\n    _validateInput() {\n        if (this.isValidLength && this.isInvalid) {\n            this.isInvalid = false;\n            this.el.classList.remove('invalid');\n        }\n        else if (!this.isValidLength && !this.isInvalid) {\n            this.isInvalid = true;\n            this.el.classList.remove('valid');\n            this.el.classList.add('invalid');\n        }\n    }\n}\nexports.CharacterCounter = CharacterCounter;\n\n\n/***/ }),\n\n/***/ \"./src/chips.ts\":\n/*!**********************!*\\\n  !*** ./src/chips.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Chips = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    data: [],\n    placeholder: '',\n    secondaryPlaceholder: '',\n    closeIconClass: 'material-icons',\n    autocompleteOptions: {},\n    autocompleteOnly: false,\n    limit: Infinity,\n    onChipAdd: null,\n    onChipSelect: null,\n    onChipDelete: null\n};\nfunction gGetIndex(el) {\n    return [...el.parentNode.children].indexOf(el);\n}\nclass Chips extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Chips);\n        this._handleChipClick = (e) => {\n            const _chip = e.target.closest('.chip');\n            const clickedClose = e.target.classList.contains('close');\n            if (_chip) {\n                const index = [..._chip.parentNode.children].indexOf(_chip);\n                if (clickedClose) {\n                    this.deleteChip(index);\n                    this._input.focus();\n                }\n                else {\n                    this.selectChip(index);\n                }\n                // Default handle click to focus on input\n            }\n            else {\n                this._input.focus();\n            }\n        };\n        this._handleInputFocus = () => {\n            this.el.classList.add('focus');\n        };\n        this._handleInputBlur = () => {\n            this.el.classList.remove('focus');\n        };\n        this._handleInputKeydown = (e) => {\n            Chips._keydown = true;\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                // Override enter if autocompleting.\n                if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\n                    return;\n                }\n                e.preventDefault();\n                if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\n                    this.addChip({ id: this._input.value });\n                }\n                this._input.value = '';\n            }\n            else if ((utils_1.Utils.keys.BACKSPACE.includes(e.key) || utils_1.Utils.keys.ARROW_LEFT.includes(e.key)) &&\n                this._input.value === '' &&\n                this.chipsData.length) {\n                e.preventDefault();\n                this.selectChip(this.chipsData.length - 1);\n            }\n        };\n        this.el.M_Chips = this;\n        this.options = Object.assign(Object.assign({}, Chips.defaults), options);\n        this.el.classList.add('chips', 'input-field');\n        this.chipsData = [];\n        this._chips = [];\n        this._setupInput();\n        this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\n        // Set input id\n        if (!this._input.getAttribute('id'))\n            this._input.setAttribute('id', utils_1.Utils.guid());\n        // Render initial chips\n        if (this.options.data.length) {\n            this.chipsData = this.options.data;\n            this._renderChips();\n        }\n        // Setup autocomplete if needed\n        if (this.hasAutocomplete)\n            this._setupAutocomplete();\n        this._setPlaceholder();\n        this._setupLabel();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Chips.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Chips);\n    }\n    static getInstance(el) {\n        return el.M_Chips;\n    }\n    getData() {\n        return this.chipsData;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._chips.forEach(c => c.remove());\n        this._chips = [];\n        this.el.M_Chips = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleChipClick);\n        document.addEventListener('keydown', Chips._handleChipsKeydown);\n        document.addEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.addEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.addEventListener('focus', this._handleInputFocus);\n        this._input.addEventListener('blur', this._handleInputBlur);\n        this._input.addEventListener('keydown', this._handleInputKeydown);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleChipClick);\n        document.removeEventListener('keydown', Chips._handleChipsKeydown);\n        document.removeEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.removeEventListener('focus', this._handleInputFocus);\n        this._input.removeEventListener('blur', this._handleInputBlur);\n        this._input.removeEventListener('keydown', this._handleInputKeydown);\n    }\n    static _handleChipsKeydown(e) {\n        Chips._keydown = true;\n        const chips = e.target.closest('.chips');\n        const chipsKeydown = e.target && chips;\n        // Don't handle keydown inputs on input and textarea\n        const tag = e.target.tagName;\n        if (tag === 'INPUT' || tag === 'TEXTAREA' || !chipsKeydown)\n            return;\n        const currChips = chips.M_Chips;\n        if (utils_1.Utils.keys.BACKSPACE.includes(e.key) || utils_1.Utils.keys.DELETE.includes(e.key)) {\n            e.preventDefault();\n            let selectIndex = currChips.chipsData.length;\n            if (currChips._selectedChip) {\n                const index = gGetIndex(currChips._selectedChip);\n                currChips.deleteChip(index);\n                currChips._selectedChip = null;\n                // Make sure selectIndex doesn't go negative\n                selectIndex = Math.max(index - 1, 0);\n            }\n            if (currChips.chipsData.length)\n                currChips.selectChip(selectIndex);\n            else\n                currChips._input.focus();\n        }\n        else if (utils_1.Utils.keys.ARROW_LEFT.includes(e.key)) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) - 1;\n                if (selectIndex < 0)\n                    return;\n                currChips.selectChip(selectIndex);\n            }\n        }\n        else if (utils_1.Utils.keys.ARROW_RIGHT.includes(e.key)) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) + 1;\n                if (selectIndex >= currChips.chipsData.length)\n                    currChips._input.focus();\n                else\n                    currChips.selectChip(selectIndex);\n            }\n        }\n    }\n    static _handleChipsKeyup(e) {\n        Chips._keydown = false;\n    }\n    static _handleChipsBlur(e) {\n        if (!Chips._keydown && document.hidden) {\n            const chips = e.target.closest('.chips');\n            const currChips = chips.M_Chips;\n            currChips._selectedChip = null;\n        }\n    }\n    _renderChip(chip) {\n        if (!chip.id)\n            return;\n        const renderedChip = document.createElement('div');\n        renderedChip.classList.add('chip');\n        renderedChip.innerText = chip.text || chip.id;\n        renderedChip.setAttribute('tabindex', \"0\");\n        const closeIcon = document.createElement('i');\n        closeIcon.classList.add(this.options.closeIconClass, 'close');\n        closeIcon.innerText = 'close';\n        // attach image if needed\n        if (chip.image) {\n            const img = document.createElement('img');\n            img.setAttribute('src', chip.image);\n            renderedChip.insertBefore(img, renderedChip.firstChild);\n        }\n        renderedChip.appendChild(closeIcon);\n        return renderedChip;\n    }\n    _renderChips() {\n        this._chips = []; //.remove();\n        for (let i = 0; i < this.chipsData.length; i++) {\n            const chipElem = this._renderChip(this.chipsData[i]);\n            this.el.appendChild(chipElem);\n            this._chips.push(chipElem);\n        }\n        // move input to end\n        this.el.append(this._input);\n    }\n    _setupAutocomplete() {\n        this.options.autocompleteOptions.onAutocomplete = (items) => {\n            if (items.length > 0)\n                this.addChip({\n                    id: items[0].id,\n                    text: items[0].text,\n                    image: items[0].image\n                });\n            this._input.value = '';\n            this._input.focus();\n        };\n        this.autocomplete = autocomplete_1.Autocomplete.init(this._input, this.options.autocompleteOptions);\n    }\n    _setupInput() {\n        this._input = this.el.querySelector('input');\n        if (!this._input) {\n            this._input = document.createElement('input');\n            this.el.append(this._input);\n        }\n        this._input.classList.add('input');\n    }\n    _setupLabel() {\n        this._label = this.el.querySelector('label');\n        if (this._label)\n            this._label.setAttribute('for', this._input.getAttribute('id'));\n    }\n    _setPlaceholder() {\n        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\n            this._input.placeholder = this.options.placeholder;\n        }\n        else if ((this.chipsData === undefined || !!this.chipsData.length) &&\n            this.options.secondaryPlaceholder) {\n            this._input.placeholder = this.options.secondaryPlaceholder;\n        }\n    }\n    _isValidAndNotExist(chip) {\n        const isValid = !!chip.id;\n        const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\n        return isValid && doesNotExist;\n    }\n    /**\n     * Add chip to input.\n     * @param chip Chip data object\n     */\n    addChip(chip) {\n        if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit)\n            return;\n        const renderedChip = this._renderChip(chip);\n        this._chips.push(renderedChip);\n        this.chipsData.push(chip);\n        //$(this._input).before(renderedChip);\n        this._input.before(renderedChip);\n        this._setPlaceholder();\n        // fire chipAdd callback\n        if (typeof this.options.onChipAdd === 'function') {\n            this.options.onChipAdd(this.el, renderedChip);\n        }\n    }\n    /**\n     * Delete nth chip.\n     * @param chipIndex  Index of chip\n     */\n    deleteChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._chips[chipIndex].remove();\n        this._chips.splice(chipIndex, 1);\n        this.chipsData.splice(chipIndex, 1);\n        this._setPlaceholder();\n        // fire chipDelete callback\n        if (typeof this.options.onChipDelete === 'function') {\n            this.options.onChipDelete(this.el, chip);\n        }\n    }\n    /**\n     * Select nth chip.\n     * @param chipIndex Index of chip\n     */\n    selectChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._selectedChip = chip;\n        chip.focus();\n        // fire chipSelect callback\n        if (typeof this.options.onChipSelect === 'function') {\n            this.options.onChipSelect(this.el, chip);\n        }\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            // Handle removal of static chips.\n            document.body.addEventListener('click', e => {\n                if (e.target.closest('.chip .close')) {\n                    const chips = e.target.closest('.chips');\n                    if (chips && chips.M_Chips == undefined)\n                        return;\n                    e.target.closest('.chip').remove();\n                }\n            });\n        });\n    }\n}\nexports.Chips = Chips;\n(() => {\n    Chips._keydown = false;\n})();\n\n\n/***/ }),\n\n/***/ \"./src/collapsible.ts\":\n/*!****************************!*\\\n  !*** ./src/collapsible.ts ***!\n  \\****************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Collapsible = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    accordion: true,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    inDuration: 300,\n    outDuration: 300\n};\nclass Collapsible extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Collapsible);\n        this._handleCollapsibleClick = (e) => {\n            const header = e.target.closest('.collapsible-header');\n            if (e.target && header) {\n                const collapsible = header.closest('.collapsible');\n                if (collapsible !== this.el)\n                    return;\n                const li = header.closest('li');\n                const isActive = li.classList.contains('active');\n                const index = [...li.parentNode.children].indexOf(li);\n                if (isActive)\n                    this.close(index);\n                else\n                    this.open(index);\n            }\n        };\n        this._handleCollapsibleKeydown = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                this._handleCollapsibleClick(e);\n            }\n        };\n        /**\n         * Open collapsible section.\n         * @param n Nth section to open.\n         */\n        this.open = (index) => {\n            const listItems = Array.from(this.el.children).filter(c => c.tagName === 'LI');\n            const li = listItems[index];\n            if (li && !li.classList.contains('active')) {\n                // onOpenStart callback\n                if (typeof this.options.onOpenStart === 'function') {\n                    this.options.onOpenStart.call(this, li);\n                }\n                // Handle accordion behavior\n                if (this.options.accordion) {\n                    const activeLis = listItems.filter(li => li.classList.contains('active'));\n                    activeLis.forEach(activeLi => {\n                        const index = listItems.indexOf(activeLi);\n                        this.close(index);\n                    });\n                }\n                // Animate in\n                li.classList.add('active');\n                this._animateIn(index);\n            }\n        };\n        /**\n         * Close collapsible section.\n         * @param n Nth section to close.\n         */\n        this.close = (index) => {\n            const li = Array.from(this.el.children).filter(c => c.tagName === 'LI')[index];\n            if (li && li.classList.contains('active')) {\n                // onCloseStart callback\n                if (typeof this.options.onCloseStart === 'function') {\n                    this.options.onCloseStart.call(this, li);\n                }\n                // Animate out\n                li.classList.remove('active');\n                this._animateOut(index);\n            }\n        };\n        this.el.M_Collapsible = this;\n        this.options = Object.assign(Object.assign({}, Collapsible.defaults), options);\n        // Setup tab indices\n        this._headers = Array.from(this.el.querySelectorAll('li > .collapsible-header'));\n        this._headers.forEach(el => el.tabIndex = 0);\n        this._setupEventHandlers();\n        // Open active\n        const activeBodies = Array.from(this.el.querySelectorAll('li.active > .collapsible-body'));\n        if (this.options.accordion)\n            if (activeBodies.length > 0) {\n                // Accordion => open first active only\n                this._setExpanded(activeBodies[0]);\n            }\n            else {\n                // Expandables => all active\n                activeBodies.forEach(el => this._setExpanded(el));\n            }\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Collapsible.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Collapsible);\n    }\n    static getInstance(el) {\n        return el.M_Collapsible;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Collapsible = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleCollapsibleClick);\n        this._headers.forEach(header => header.addEventListener('keydown', this._handleCollapsibleKeydown));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleCollapsibleClick);\n        this._headers.forEach(header => header.removeEventListener('keydown', this._handleCollapsibleKeydown));\n    }\n    _setExpanded(li) {\n        li.style.maxHeight = li.scrollHeight + \"px\";\n    }\n    _animateIn(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        const duration = this.options.inDuration; // easeInOutCubic\n        body.style.transition = `max-height ${duration}ms ease-out`;\n        this._setExpanded(body);\n        setTimeout(() => {\n            if (typeof this.options.onOpenEnd === 'function') {\n                this.options.onOpenEnd.call(this, li);\n            }\n        }, duration);\n    }\n    _animateOut(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        const duration = this.options.outDuration; // easeInOutCubic\n        body.style.transition = `max-height ${duration}ms ease-out`;\n        body.style.maxHeight = \"0\";\n        setTimeout(() => {\n            if (typeof this.options.onCloseEnd === 'function') {\n                this.options.onCloseEnd.call(this, li);\n            }\n        }, duration);\n    }\n}\nexports.Collapsible = Collapsible;\n\n\n/***/ }),\n\n/***/ \"./src/component.ts\":\n/*!**************************!*\\\n  !*** ./src/component.ts ***!\n  \\**************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Component = void 0;\n;\n;\n/**\n * Base class implementation for Materialize components.\n */\nclass Component {\n    /**\n     * Constructs component instance and set everything up.\n     */\n    constructor(el, options, classDef) {\n        // Display error if el is not a valid HTML Element\n        if (!(el instanceof HTMLElement)) {\n            console.error(Error(el + ' is not an HTML Element'));\n        }\n        // If exists, destroy and reinitialize in child\n        let ins = classDef.getInstance(el);\n        if (!!ins) {\n            ins.destroy();\n        }\n        this.el = el;\n    }\n    /**\n     * Initializes component instances.\n     * @param els HTML elements.\n     * @param options Component options.\n     * @param classDef Class definition.\n     */\n    static init(els, options, classDef) {\n        let instances = null;\n        if (els instanceof Element) {\n            instances = new classDef(els, options);\n        }\n        else if (!!els && els.length) {\n            instances = [];\n            for (let i = 0; i < els.length; i++) {\n                instances.push(new classDef(els[i], options));\n            }\n        }\n        return instances;\n    }\n    /**\n     * @returns default options for component instance.\n     */\n    static get defaults() { return {}; }\n    /**\n     * Retrieves component instance for the given element.\n     * @param el Associated HTML Element.\n     */\n    static getInstance(el) {\n        throw new Error(\"This method must be implemented.\");\n    }\n    /**\n     * Destroy plugin instance and teardown.\n     */\n    destroy() { throw new Error(\"This method must be implemented.\"); }\n}\nexports.Component = Component;\n\n\n/***/ }),\n\n/***/ \"./src/datepicker.ts\":\n/*!***************************!*\\\n  !*** ./src/datepicker.ts ***!\n  \\***************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Datepicker = void 0;\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    // Close when date is selected\n    autoClose: false,\n    // the default output format for the input field value\n    format: 'mmm dd, yyyy',\n    // Used to create date object from current input string\n    parse: null,\n    // The initial date to view when first opened\n    defaultDate: null,\n    // Make the `defaultDate` the initial selected value\n    setDefaultDate: false,\n    disableWeekends: false,\n    disableDayFn: null,\n    // First day of week (0: Sunday, 1: Monday etc)\n    firstDay: 0,\n    // The earliest date that can be selected\n    minDate: null,\n    // Thelatest date that can be selected\n    maxDate: null,\n    // Number of years either side, or array of upper/lower range\n    yearRange: 10,\n    // used internally (don't config outside)\n    minYear: 0,\n    maxYear: 9999,\n    minMonth: undefined,\n    maxMonth: undefined,\n    startRange: null,\n    endRange: null,\n    isRTL: false,\n    yearRangeReverse: false,\n    // Render the month after year in the calendar title\n    showMonthAfterYear: false,\n    // Render days of the calendar grid that fall in the next or previous month\n    showDaysInNextAndPreviousMonths: false,\n    // Specify a DOM element to render the calendar in\n    container: null,\n    // Show clear button\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok',\n        previousMonth: '',\n        nextMonth: '',\n        months: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ],\n        monthsShort: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n    },\n    // events array\n    events: [],\n    // callback function\n    onSelect: null,\n    onOpen: null,\n    onClose: null,\n    onDraw: null\n};\nclass Datepicker extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Datepicker);\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleInputKeydown = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleCalendarClick = (e) => {\n            if (!this.isOpen)\n                return;\n            const target = (e.target);\n            if (!target.classList.contains('is-disabled')) {\n                if (target.classList.contains('datepicker-day-button') &&\n                    !target.classList.contains('is-empty') &&\n                    !target.parentElement.classList.contains('is-disabled')) {\n                    this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));\n                    if (this.options.autoClose) {\n                        this._finishSelection();\n                    }\n                }\n                else if (target.closest('.month-prev')) {\n                    this.prevMonth();\n                }\n                else if (target.closest('.month-next')) {\n                    this.nextMonth();\n                }\n            }\n        };\n        this._handleClearClick = () => {\n            this.date = null;\n            this.setInputValue();\n            this.close();\n        };\n        this._handleMonthChange = (e) => {\n            this.gotoMonth(e.target.value);\n        };\n        this._handleYearChange = (e) => {\n            this.gotoYear(e.target.value);\n        };\n        this._handleInputChange = (e) => {\n            var _a;\n            let date;\n            // Prevent change event from being fired when triggered by the plugin\n            if (((_a = e['detail']) === null || _a === void 0 ? void 0 : _a.firedBy) === this)\n                return;\n            if (this.options.parse) {\n                date = this.options.parse(this.el.value, typeof this.options.format === \"function\"\n                    ? this.options.format(new Date(this.el.value))\n                    : this.options.format);\n            }\n            else {\n                date = new Date(Date.parse(this.el.value));\n            }\n            if (Datepicker._isDate(date))\n                this.setDate(date);\n        };\n        // Set input value to the selected date and close Datepicker\n        this._finishSelection = () => {\n            this.setInputValue();\n            this.close();\n        };\n        /**\n         * Open datepicker.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            if (typeof this.options.onOpen === 'function') {\n                this.options.onOpen.call(this);\n            }\n            this.draw();\n            this.modal.open(undefined);\n            return this;\n        };\n        /**\n         * Close datepicker.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            if (typeof this.options.onClose === 'function') {\n                this.options.onClose.call(this);\n            }\n            this.modal.close();\n            return this;\n        };\n        this.el.M_Datepicker = this;\n        this.options = Object.assign(Object.assign({}, Datepicker.defaults), options);\n        // make sure i18n defaults are not lost when only few i18n option properties are passed\n        if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\n            this.options.i18n = Object.assign(Object.assign({}, Datepicker.defaults.i18n), options.i18n);\n        }\n        // Remove time component from minDate and maxDate options\n        if (this.options.minDate)\n            this.options.minDate.setHours(0, 0, 0, 0);\n        if (this.options.maxDate)\n            this.options.maxDate.setHours(0, 0, 0, 0);\n        this.id = utils_1.Utils.guid();\n        this._setupVariables();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupEventHandlers();\n        if (!this.options.defaultDate) {\n            this.options.defaultDate = new Date(Date.parse(this.el.value));\n        }\n        let defDate = this.options.defaultDate;\n        if (Datepicker._isDate(defDate)) {\n            if (this.options.setDefaultDate) {\n                this.setDate(defDate, true);\n                this.setInputValue();\n            }\n            else {\n                this.gotoDate(defDate);\n            }\n        }\n        else {\n            this.gotoDate(new Date());\n        }\n        this.isOpen = false;\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Datepicker.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Datepicker);\n    }\n    static _isDate(obj) {\n        return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    }\n    static _isWeekend(date) {\n        let day = date.getDay();\n        return day === 0 || day === 6;\n    }\n    static _setToStartOfDay(date) {\n        if (Datepicker._isDate(date))\n            date.setHours(0, 0, 0, 0);\n    }\n    static _getDaysInMonth(year, month) {\n        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    }\n    static _isLeapYear(year) {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n    static _compareDates(a, b) {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    }\n    static getInstance(el) {\n        return el.M_Datepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.destroySelects();\n        this.el.M_Datepicker = undefined;\n    }\n    destroySelects() {\n        let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\n        if (oldYearSelect) {\n            select_1.FormSelect.getInstance(oldYearSelect).destroy();\n        }\n        let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\n        if (oldMonthSelect) {\n            select_1.FormSelect.getInstance(oldMonthSelect).destroy();\n        }\n    }\n    _insertHTMLIntoDOM() {\n        if (this.options.showClearBtn) {\n            this.clearBtn.style.visibility = '';\n            this.clearBtn.innerText = this.options.i18n.clear;\n        }\n        this.doneBtn.innerText = this.options.i18n.done;\n        this.cancelBtn.innerText = this.options.i18n.cancel;\n        if (this.options.container) {\n            const optEl = this.options.container;\n            this.options.container =\n                optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n            this.options.container.append(this.modalEl);\n        }\n        else {\n            //this.modalEl.before(this.el);\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modalEl.id = 'modal-' + this.id;\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onCloseEnd: () => {\n                this.isOpen = false;\n            }\n        });\n    }\n    /**\n     * Gets a string representation of the selected date.\n     */\n    toString(format = null) {\n        format = format || this.options.format;\n        if (typeof format === 'function')\n            return format(this.date);\n        if (!Datepicker._isDate(this.date))\n            return '';\n        // String Format\n        const formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\n        const formattedDate = formatArray\n            .map(label => this.formats[label] ? this.formats[label]() : label)\n            .join('');\n        return formattedDate;\n    }\n    /**\n     * Set a date on the datepicker.\n     * @param date Date to set on the datepicker.\n     * @param preventOnSelect Undocumented as of 5 March 2018.\n     */\n    setDate(date = null, preventOnSelect = false) {\n        if (!date) {\n            this.date = null;\n            this._renderDateDisplay();\n            return this.draw();\n        }\n        if (typeof date === 'string') {\n            date = new Date(Date.parse(date));\n        }\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        let min = this.options.minDate, max = this.options.maxDate;\n        if (Datepicker._isDate(min) && date < min) {\n            date = min;\n        }\n        else if (Datepicker._isDate(max) && date > max) {\n            date = max;\n        }\n        this.date = new Date(date.getTime());\n        this._renderDateDisplay();\n        Datepicker._setToStartOfDay(this.date);\n        this.gotoDate(this.date);\n        if (!preventOnSelect && typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.date);\n        }\n    }\n    /**\n     * Sets current date as the input value.\n     */\n    setInputValue() {\n        this.el.value = this.toString();\n        this.el.dispatchEvent(new CustomEvent('change', { bubbles: true, cancelable: true, composed: true, detail: { firedBy: this } }));\n    }\n    _renderDateDisplay() {\n        let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\n        let i18n = this.options.i18n;\n        let day = i18n.weekdaysShort[displayDate.getDay()];\n        let month = i18n.monthsShort[displayDate.getMonth()];\n        let date = displayDate.getDate();\n        this.yearTextEl.innerHTML = displayDate.getFullYear().toString();\n        this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\n    }\n    /**\n     * Change date view to a specific date on the datepicker.\n     * @param date Date to show on the datepicker.\n     */\n    gotoDate(date) {\n        let newCalendar = true;\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        if (this.calendars) {\n            let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1), lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), visibleDate = date.getTime();\n            // get the end of the month\n            lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n            lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n            newCalendar =\n                visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n        }\n        if (newCalendar) {\n            this.calendars = [\n                {\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }\n            ];\n        }\n        this.adjustCalendars();\n    }\n    adjustCalendars() {\n        this.calendars[0] = this.adjustCalendar(this.calendars[0]);\n        this.draw();\n    }\n    adjustCalendar(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    }\n    nextMonth() {\n        this.calendars[0].month++;\n        this.adjustCalendars();\n    }\n    prevMonth() {\n        this.calendars[0].month--;\n        this.adjustCalendars();\n    }\n    render(year, month, randId) {\n        let opts = this.options, now = new Date(), days = Datepicker._getDaysInMonth(year, month), before = new Date(year, month, 1).getDay(), data = [], row = [];\n        Datepicker._setToStartOfDay(now);\n        if (opts.firstDay > 0) {\n            before -= opts.firstDay;\n            if (before < 0) {\n                before += 7;\n            }\n        }\n        let previousMonth = month === 0 ? 11 : month - 1, nextMonth = month === 11 ? 0 : month + 1, yearOfPreviousMonth = month === 0 ? year - 1 : year, yearOfNextMonth = month === 11 ? year + 1 : year, daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\n        let cells = days + before, after = cells;\n        while (after > 7) {\n            after -= 7;\n        }\n        cells += 7 - after;\n        let isWeekSelected = false;\n        for (let i = 0, r = 0; i < cells; i++) {\n            let day = new Date(year, month, 1 + (i - before)), isSelected = Datepicker._isDate(this.date)\n                ? Datepicker._compareDates(day, this.date)\n                : false, isToday = Datepicker._compareDates(day, now), hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false, isEmpty = i < before || i >= days + before, dayNumber = 1 + (i - before), monthNumber = month, yearNumber = year, isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day), isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day), isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange, isDisabled = (opts.minDate && day < opts.minDate) ||\n                (opts.maxDate && day > opts.maxDate) ||\n                (opts.disableWeekends && Datepicker._isWeekend(day)) ||\n                (opts.disableDayFn && opts.disableDayFn(day));\n            if (isEmpty) {\n                if (i < before) {\n                    dayNumber = daysInPreviousMonth + dayNumber;\n                    monthNumber = previousMonth;\n                    yearNumber = yearOfPreviousMonth;\n                }\n                else {\n                    dayNumber = dayNumber - days;\n                    monthNumber = nextMonth;\n                    yearNumber = yearOfNextMonth;\n                }\n            }\n            let dayConfig = {\n                day: dayNumber,\n                month: monthNumber,\n                year: yearNumber,\n                hasEvent: hasEvent,\n                isSelected: isSelected,\n                isToday: isToday,\n                isDisabled: isDisabled,\n                isEmpty: isEmpty,\n                isStartRange: isStartRange,\n                isEndRange: isEndRange,\n                isInRange: isInRange,\n                showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\n            };\n            row.push(this.renderDay(dayConfig));\n            if (++r === 7) {\n                data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\n                row = [];\n                r = 0;\n                isWeekSelected = false;\n            }\n        }\n        return this.renderTable(opts, data, randId);\n    }\n    renderDay(opts) {\n        let arr = [];\n        let ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n                arr.push('is-selection-disabled');\n            }\n            else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return (`<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\n            `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\n            '</td>');\n    }\n    renderRow(days, isRTL, isRowSelected) {\n        return ('<tr class=\"datepicker-row' +\n            (isRowSelected ? ' is-selected' : '') +\n            '\">' +\n            (isRTL ? days.reverse() : days).join('') +\n            '</tr>');\n    }\n    renderTable(opts, data, randId) {\n        return ('<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\n            randId +\n            '\">' +\n            this.renderHead(opts) +\n            this.renderBody(data) +\n            '</table></div>');\n    }\n    renderHead(opts) {\n        let i, arr = [];\n        for (i = 0; i < 7; i++) {\n            arr.push(`<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(opts, i, true)}</abbr></th>`);\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    }\n    renderBody(rows) {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    }\n    renderTitle(instance, c, year, month, refYear, randId) {\n        let i, j, arr, opts = this.options, isMinYear = year === opts.minYear, isMaxYear = year === opts.maxYear, html = '<div id=\"' +\n            randId +\n            '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">', monthHtml, yearHtml, prev = true, next = true;\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' +\n                (year === refYear ? i - c : 12 + i - c) +\n                '\"' +\n                (i === month ? ' selected=\"selected\"' : '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\n                    ? 'disabled=\"disabled\"'\n                    : '') +\n                '>' +\n                opts.i18n.months[i] +\n                '</option>');\n        }\n        monthHtml = '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">' + arr.join('') + '</select>';\n        if (Array.isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        }\n        else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\n            }\n        }\n        if (opts.yearRangeReverse)\n            arr.reverse();\n        yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\n        let leftArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-prev${prev ? '' : ' is-disabled'} btn-flat\" type=\"button\">${leftArrow}</button>`;\n        html += '<div class=\"selects-container\">';\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        }\n        else {\n            html += monthHtml + yearHtml;\n        }\n        html += '</div>';\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n        let rightArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-next${next ? '' : ' is-disabled'} btn-flat\" type=\"button\">${rightArrow}</button>`;\n        return (html += '</div>');\n    }\n    // refresh HTML\n    draw(force = false) {\n        if (!this.isOpen && !force)\n            return;\n        let opts = this.options, minYear = opts.minYear, maxYear = opts.maxYear, minMonth = opts.minMonth, maxMonth = opts.maxMonth, html = '', randId;\n        if (this._y <= minYear) {\n            this._y = minYear;\n            if (!isNaN(minMonth) && this._m < minMonth) {\n                this._m = minMonth;\n            }\n        }\n        if (this._y >= maxYear) {\n            this._y = maxYear;\n            if (!isNaN(maxMonth) && this._m > maxMonth) {\n                this._m = maxMonth;\n            }\n        }\n        randId =\n            'datepicker-title-' +\n                Math.random()\n                    .toString(36)\n                    .replace(/[^a-z]+/g, '')\n                    .substr(0, 2);\n        for (let c = 0; c < 1; c++) {\n            this._renderDateDisplay();\n            html +=\n                this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\n        }\n        this.destroySelects();\n        this.calendarEl.innerHTML = html;\n        // Init Materialize Select\n        let yearSelect = this.calendarEl.querySelector('.orig-select-year');\n        let monthSelect = this.calendarEl.querySelector('.orig-select-month');\n        select_1.FormSelect.init(yearSelect, {\n            classes: 'select-year',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        select_1.FormSelect.init(monthSelect, {\n            classes: 'select-month',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        // Add change handlers for select\n        yearSelect.addEventListener('change', this._handleYearChange);\n        monthSelect.addEventListener('change', this._handleMonthChange);\n        if (typeof this.options.onDraw === 'function') {\n            this.options.onDraw.call(this);\n        }\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleInputClick);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.el.addEventListener('change', this._handleInputChange);\n        this.calendarEl.addEventListener('click', this._handleCalendarClick);\n        this.doneBtn.addEventListener('click', this._finishSelection);\n        this.cancelBtn.addEventListener('click', this.close);\n        if (this.options.showClearBtn) {\n            this.clearBtn.addEventListener('click', this._handleClearClick);\n        }\n    }\n    _setupVariables() {\n        const template = document.createElement('template');\n        template.innerHTML = Datepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\n        this.yearTextEl = this.modalEl.querySelector('.year-text');\n        this.dateTextEl = this.modalEl.querySelector('.date-text');\n        if (this.options.showClearBtn) {\n            this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\n        }\n        this.doneBtn = this.modalEl.querySelector('.datepicker-done');\n        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\n        this.formats = {\n            d: () => {\n                return this.date.getDate();\n            },\n            dd: () => {\n                let d = this.date.getDate();\n                return (d < 10 ? '0' : '') + d;\n            },\n            ddd: () => {\n                return this.options.i18n.weekdaysShort[this.date.getDay()];\n            },\n            dddd: () => {\n                return this.options.i18n.weekdays[this.date.getDay()];\n            },\n            m: () => {\n                return this.date.getMonth() + 1;\n            },\n            mm: () => {\n                let m = this.date.getMonth() + 1;\n                return (m < 10 ? '0' : '') + m;\n            },\n            mmm: () => {\n                return this.options.i18n.monthsShort[this.date.getMonth()];\n            },\n            mmmm: () => {\n                return this.options.i18n.months[this.date.getMonth()];\n            },\n            yy: () => {\n                return ('' + this.date.getFullYear()).slice(2);\n            },\n            yyyy: () => {\n                return this.date.getFullYear();\n            }\n        };\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n        this.el.removeEventListener('change', this._handleInputChange);\n        this.calendarEl.removeEventListener('click', this._handleCalendarClick);\n    }\n    // change view to a specific month (zero-index, e.g. 0: January)\n    gotoMonth(month) {\n        if (!isNaN(month)) {\n            this.calendars[0].month = parseInt(month, 10);\n            this.adjustCalendars();\n        }\n    }\n    // change view to a specific full year (e.g. \"2012\")\n    gotoYear(year) {\n        if (!isNaN(year)) {\n            this.calendars[0].year = parseInt(year, 10);\n            this.adjustCalendars();\n        }\n    }\n    renderDayName(opts, day, abbr = false) {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\n    }\n}\nexports.Datepicker = Datepicker;\n(() => {\n    Datepicker._template = `\n      <div class=\"modal datepicker-modal\">\n        <div class=\"modal-content datepicker-container\">\n          <div class=\"datepicker-date-display\">\n            <span class=\"year-text\"></span>\n            <span class=\"date-text\"></span>\n          </div>\n          <div class=\"datepicker-calendar-container\">\n            <div class=\"datepicker-calendar\"></div>\n            <div class=\"datepicker-footer\">\n              <button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>\n              <div class=\"confirmation-btns\">\n                <button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>\n                <button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;\n})();\n\n\n/***/ }),\n\n/***/ \"./src/dropdown.ts\":\n/*!*************************!*\\\n  !*** ./src/dropdown.ts ***!\n  \\*************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dropdown = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nconst _defaults = {\n    alignment: 'left',\n    autoFocus: true,\n    constrainWidth: true,\n    container: null,\n    coverTrigger: true,\n    closeOnClick: true,\n    hover: false,\n    inDuration: 150,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onItemClick: null\n};\nclass Dropdown extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Dropdown);\n        this._handleClick = (e) => {\n            e.preventDefault();\n            this.open();\n        };\n        this._handleMouseEnter = () => {\n            this.open();\n        };\n        this._handleMouseLeave = (e) => {\n            const toEl = e.relatedTarget;\n            const leaveToDropdownContent = !!toEl.closest('.dropdown-content');\n            let leaveToActiveDropdownTrigger = false;\n            const closestTrigger = toEl.closest('.dropdown-trigger');\n            if (closestTrigger &&\n                !!closestTrigger.M_Dropdown &&\n                closestTrigger.M_Dropdown.isOpen) {\n                leaveToActiveDropdownTrigger = true;\n            }\n            // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\n            if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\n                this.close();\n            }\n        };\n        this._handleDocumentClick = (e) => {\n            const target = e.target;\n            if (this.options.closeOnClick &&\n                target.closest('.dropdown-content') &&\n                !this.isTouchMoving) {\n                // isTouchMoving to check if scrolling on mobile.\n                //setTimeout(() => {\n                this.close();\n                //}, 0);\n            }\n            else if (target.closest('.dropdown-trigger') ||\n                !target.closest('.dropdown-content')) {\n                //setTimeout(() => {\n                this.close();\n                //}, 0);\n            }\n            this.isTouchMoving = false;\n        };\n        this._handleTriggerKeydown = (e) => {\n            // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\n            const arrowDownOrEnter = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) || utils_1.Utils.keys.ENTER.includes(e.key);\n            if (arrowDownOrEnter && !this.isOpen) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleDocumentTouchmove = (e) => {\n            const target = e.target;\n            if (target.closest('.dropdown-content')) {\n                this.isTouchMoving = true;\n            }\n        };\n        this._handleDropdownClick = (e) => {\n            // onItemClick callback\n            if (typeof this.options.onItemClick === 'function') {\n                const itemEl = e.target.closest('li');\n                this.options.onItemClick.call(this, itemEl);\n            }\n        };\n        this._handleDropdownKeydown = (e) => {\n            const arrowUpOrDown = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) || utils_1.Utils.keys.ARROW_UP.includes(e.key);\n            if (utils_1.Utils.keys.TAB.includes(e.key)) {\n                e.preventDefault();\n                this.close();\n            }\n            // Navigate down dropdown list\n            else if (arrowUpOrDown && this.isOpen) {\n                e.preventDefault();\n                const direction = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) ? 1 : -1;\n                let newFocusedIndex = this.focusedIndex;\n                let hasFoundNewIndex = false;\n                do {\n                    newFocusedIndex = newFocusedIndex + direction;\n                    if (!!this.dropdownEl.children[newFocusedIndex] &&\n                        this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {\n                        hasFoundNewIndex = true;\n                        break;\n                    }\n                } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\n                if (hasFoundNewIndex) {\n                    // Remove active class from old element\n                    if (this.focusedIndex >= 0)\n                        this.dropdownEl.children[this.focusedIndex].classList.remove('active');\n                    this.focusedIndex = newFocusedIndex;\n                    this._focusFocusedItem();\n                }\n            }\n            // ENTER selects choice on focused item\n            else if (utils_1.Utils.keys.ENTER.includes(e.key) && this.isOpen) {\n                // Search for <a> and <button>\n                const focusedElement = this.dropdownEl.children[this.focusedIndex];\n                const activatableElement = focusedElement.querySelector('a, button');\n                // Click a or button tag if exists, otherwise click li tag\n                if (!!activatableElement) {\n                    activatableElement.click();\n                }\n                else if (!!focusedElement) {\n                    if (focusedElement instanceof HTMLElement) {\n                        focusedElement.click();\n                    }\n                }\n            }\n            // Close dropdown on ESC\n            else if (utils_1.Utils.keys.ESC.includes(e.key) && this.isOpen) {\n                e.preventDefault();\n                this.close();\n            }\n            // CASE WHEN USER TYPE LTTERS\n            const keyText = e.key.toLowerCase();\n            const isLetter = /[a-zA-Z0-9-_]/.test(keyText);\n            const specialKeys = [...utils_1.Utils.keys.ARROW_DOWN, ...utils_1.Utils.keys.ARROW_UP, ...utils_1.Utils.keys.ENTER, ...utils_1.Utils.keys.ESC, ...utils_1.Utils.keys.TAB];\n            if (isLetter && !specialKeys.includes(e.key)) {\n                this.filterQuery.push(keyText);\n                const string = this.filterQuery.join('');\n                const newOptionEl = Array.from(this.dropdownEl.querySelectorAll('li'))\n                    .find((el) => el.innerText.toLowerCase().indexOf(string) === 0);\n                if (newOptionEl) {\n                    this.focusedIndex = [...newOptionEl.parentNode.children].indexOf(newOptionEl);\n                    this._focusFocusedItem();\n                }\n            }\n            this.filterTimeout = setTimeout(this._resetFilterQuery, 1000);\n        };\n        this._resetFilterQuery = () => {\n            this.filterQuery = [];\n        };\n        /**\n         * Open dropdown.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el);\n            }\n            // Reset styles\n            this._resetDropdownStyles();\n            this.dropdownEl.style.display = 'block';\n            this._placeDropdown();\n            this._animateIn();\n            this._setupTemporaryEventHandlers();\n        };\n        /**\n         * Close dropdown.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            this.focusedIndex = -1;\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            this._animateOut();\n            this._removeTemporaryEventHandlers();\n            if (this.options.autoFocus) {\n                this.el.focus();\n            }\n        };\n        /**\n         * While dropdown is open, you can recalculate its dimensions if its contents have changed.\n         */\n        this.recalculateDimensions = () => {\n            if (this.isOpen) {\n                this.dropdownEl.style.width = '';\n                this.dropdownEl.style.height = '';\n                this.dropdownEl.style.left = '';\n                this.dropdownEl.style.top = '';\n                this.dropdownEl.style.transformOrigin = '';\n                this._placeDropdown();\n            }\n        };\n        this.el.M_Dropdown = this;\n        Dropdown._dropdowns.push(this);\n        this.id = utils_1.Utils.getIdFromTrigger(el);\n        this.dropdownEl = document.getElementById(this.id);\n        this.options = Object.assign(Object.assign({}, Dropdown.defaults), options);\n        this.isOpen = false;\n        this.isScrollable = false;\n        this.isTouchMoving = false;\n        this.focusedIndex = -1;\n        this.filterQuery = [];\n        // Move dropdown-content after dropdown-trigger\n        this._moveDropdown();\n        this._makeDropdownFocusable();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Dropdown.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Dropdown);\n    }\n    static getInstance(el) {\n        return el.M_Dropdown;\n    }\n    destroy() {\n        this._resetDropdownStyles();\n        this._removeEventHandlers();\n        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\n        this.el.M_Dropdown = undefined;\n    }\n    _setupEventHandlers() {\n        var _a;\n        // Trigger keydown handler\n        this.el.addEventListener('keydown', this._handleTriggerKeydown);\n        // Item click handler\n        (_a = this.dropdownEl) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this._handleDropdownClick);\n        // Hover event handlers\n        if (this.options.hover) {\n            this.el.addEventListener('mouseenter', this._handleMouseEnter);\n            this.el.addEventListener('mouseleave', this._handleMouseLeave);\n            this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeave);\n            // Click event handlers\n        }\n        else {\n            this.el.addEventListener('click', this._handleClick);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('keydown', this._handleTriggerKeydown);\n        this.dropdownEl.removeEventListener('click', this._handleDropdownClick);\n        if (this.options.hover) {\n            this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n            this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n            this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeave);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleClick);\n        }\n    }\n    _setupTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.addEventListener('click', this._handleDocumentClick, true);\n        document.body.addEventListener('touchmove', this._handleDocumentTouchmove);\n        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydown);\n    }\n    _removeTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.removeEventListener('click', this._handleDocumentClick, true);\n        document.body.removeEventListener('touchmove', this._handleDocumentTouchmove);\n        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydown);\n    }\n    _resetDropdownStyles() {\n        this.dropdownEl.style.display = '';\n        this.dropdownEl.style.width = '';\n        this.dropdownEl.style.height = '';\n        this.dropdownEl.style.left = '';\n        this.dropdownEl.style.top = '';\n        this.dropdownEl.style.transformOrigin = '';\n        this.dropdownEl.style.transform = '';\n        this.dropdownEl.style.opacity = '';\n    }\n    // Move dropdown after container or trigger\n    _moveDropdown(containerEl = null) {\n        if (!!this.options.container) {\n            this.options.container.append(this.dropdownEl);\n        }\n        else if (containerEl) {\n            if (!containerEl.contains(this.dropdownEl)) {\n                containerEl.append(this.dropdownEl);\n            }\n        }\n        else {\n            this.el.after(this.dropdownEl);\n        }\n    }\n    _makeDropdownFocusable() {\n        if (!this.dropdownEl)\n            return;\n        // Needed for arrow key navigation\n        this.dropdownEl.tabIndex = 0;\n        // Only set tabindex if it hasn't been set by user\n        Array.from(this.dropdownEl.children).forEach((el) => {\n            if (!el.getAttribute('tabindex'))\n                el.setAttribute('tabindex', '0');\n        });\n    }\n    _focusFocusedItem() {\n        if (this.focusedIndex >= 0 &&\n            this.focusedIndex < this.dropdownEl.children.length &&\n            this.options.autoFocus) {\n            this.dropdownEl.children[this.focusedIndex].focus({\n                preventScroll: true\n            });\n            this.dropdownEl.children[this.focusedIndex].scrollIntoView({\n                behavior: 'smooth',\n                block: 'nearest',\n                inline: 'nearest'\n            });\n        }\n    }\n    _getDropdownPosition(closestOverflowParent) {\n        const offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\n        const triggerBRect = this.el.getBoundingClientRect();\n        const dropdownBRect = this.dropdownEl.getBoundingClientRect();\n        let idealHeight = dropdownBRect.height;\n        let idealWidth = dropdownBRect.width;\n        let idealXPos = triggerBRect.left - dropdownBRect.left;\n        let idealYPos = triggerBRect.top - dropdownBRect.top;\n        const dropdownBounds = {\n            left: idealXPos,\n            top: idealYPos,\n            height: idealHeight,\n            width: idealWidth\n        };\n        const alignments = utils_1.Utils.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);\n        let verticalAlignment = 'top';\n        let horizontalAlignment = this.options.alignment;\n        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\n        // Reset isScrollable\n        this.isScrollable = false;\n        if (!alignments.top) {\n            if (alignments.bottom) {\n                verticalAlignment = 'bottom';\n                if (!this.options.coverTrigger) {\n                    idealYPos -= triggerBRect.height;\n                }\n            }\n            else {\n                this.isScrollable = true;\n                // Determine which side has most space and cutoff at correct height\n                idealHeight -= 20; // Add padding when cutoff\n                if (alignments.spaceOnTop > alignments.spaceOnBottom) {\n                    verticalAlignment = 'bottom';\n                    idealHeight += alignments.spaceOnTop;\n                    idealYPos -= this.options.coverTrigger\n                        ? alignments.spaceOnTop - 20\n                        : alignments.spaceOnTop - 20 + triggerBRect.height;\n                }\n                else {\n                    idealHeight += alignments.spaceOnBottom;\n                }\n            }\n        }\n        // If preferred horizontal alignment is possible\n        if (!alignments[horizontalAlignment]) {\n            const oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\n            if (alignments[oppositeAlignment]) {\n                horizontalAlignment = oppositeAlignment;\n            }\n            else {\n                // Determine which side has most space and cutoff at correct height\n                if (alignments.spaceOnLeft > alignments.spaceOnRight) {\n                    horizontalAlignment = 'right';\n                    idealWidth += alignments.spaceOnLeft;\n                    idealXPos -= alignments.spaceOnLeft;\n                }\n                else {\n                    horizontalAlignment = 'left';\n                    idealWidth += alignments.spaceOnRight;\n                }\n            }\n        }\n        if (verticalAlignment === 'bottom') {\n            idealYPos =\n                idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\n        }\n        if (horizontalAlignment === 'right') {\n            idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\n        }\n        return {\n            x: idealXPos,\n            y: idealYPos,\n            verticalAlignment: verticalAlignment,\n            horizontalAlignment: horizontalAlignment,\n            height: idealHeight,\n            width: idealWidth\n        };\n    }\n    _animateIn() {\n        const duration = this.options.inDuration;\n        this.dropdownEl.style.transition = 'none';\n        // from\n        this.dropdownEl.style.opacity = '0';\n        this.dropdownEl.style.transform = 'scale(0.3, 0.3)';\n        setTimeout(() => {\n            // easeOutQuad (opacity) & easeOutQuint    \n            this.dropdownEl.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n            // to\n            this.dropdownEl.style.opacity = '1';\n            this.dropdownEl.style.transform = 'scale(1, 1)';\n        }, 1);\n        setTimeout(() => {\n            if (this.options.autoFocus)\n                this.dropdownEl.focus();\n            if (typeof this.options.onOpenEnd === 'function')\n                this.options.onOpenEnd.call(this, this.el);\n        }, duration);\n    }\n    _animateOut() {\n        const duration = this.options.outDuration;\n        // easeOutQuad (opacity) & easeOutQuint    \n        this.dropdownEl.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n        // to\n        this.dropdownEl.style.opacity = '0';\n        this.dropdownEl.style.transform = 'scale(0.3, 0.3)';\n        setTimeout(() => {\n            this._resetDropdownStyles();\n            if (typeof this.options.onCloseEnd === 'function')\n                this.options.onCloseEnd.call(this, this.el);\n        }, duration);\n    }\n    _getClosestAncestor(el, condition) {\n        let ancestor = el.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            if (condition(ancestor)) {\n                return ancestor;\n            }\n            ancestor = ancestor.parentElement;\n        }\n        return null;\n    }\n    ;\n    _placeDropdown() {\n        // Container here will be closest ancestor with overflow: hidden\n        let closestOverflowParent = this._getClosestAncestor(this.dropdownEl, (ancestor) => {\n            return !['HTML', 'BODY'].includes(ancestor.tagName) && getComputedStyle(ancestor).overflow !== 'visible';\n        });\n        // Fallback\n        if (!closestOverflowParent) {\n            closestOverflowParent = (!!this.dropdownEl.offsetParent\n                ? this.dropdownEl.offsetParent\n                : this.dropdownEl.parentNode);\n        }\n        if (getComputedStyle(closestOverflowParent).position === 'static')\n            closestOverflowParent.style.position = 'relative';\n        this._moveDropdown(closestOverflowParent);\n        // Set width before calculating positionInfo\n        const idealWidth = this.options.constrainWidth\n            ? this.el.getBoundingClientRect().width\n            : this.dropdownEl.getBoundingClientRect().width;\n        this.dropdownEl.style.width = idealWidth + 'px';\n        const positionInfo = this._getDropdownPosition(closestOverflowParent);\n        this.dropdownEl.style.left = positionInfo.x + 'px';\n        this.dropdownEl.style.top = positionInfo.y + 'px';\n        this.dropdownEl.style.height = positionInfo.height + 'px';\n        this.dropdownEl.style.width = positionInfo.width + 'px';\n        this.dropdownEl.style.transformOrigin = `${positionInfo.horizontalAlignment === 'left' ? '0' : '100%'} ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\n    }\n}\nexports.Dropdown = Dropdown;\nDropdown._dropdowns = [];\n\n\n/***/ }),\n\n/***/ \"./src/forms.ts\":\n/*!**********************!*\\\n  !*** ./src/forms.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Forms = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nclass Forms {\n    /**\n     * Resizes the given TextArea after updating the\n     *  value content dynamically.\n     * @param textarea TextArea to be resized\n     */\n    static textareaAutoResize(textarea) {\n        if (!textarea) {\n            console.error('No textarea element found');\n            return;\n        }\n        // Textarea Auto Resize\n        let hiddenDiv = document.querySelector('.hiddendiv');\n        if (!hiddenDiv) {\n            hiddenDiv = document.createElement('div');\n            hiddenDiv.classList.add('hiddendiv', 'common');\n            document.body.append(hiddenDiv);\n        }\n        const style = getComputedStyle(textarea);\n        // Set font properties of hiddenDiv\n        const fontFamily = style.fontFamily; //textarea.css('font-family');\n        const fontSize = style.fontSize; //textarea.css('font-size');\n        const lineHeight = style.lineHeight; //textarea.css('line-height');\n        // Firefox can't handle padding shorthand.\n        const paddingTop = style.paddingTop; //getComputedStyle(textarea).css('padding-top');\n        const paddingRight = style.paddingRight; //textarea.css('padding-right');\n        const paddingBottom = style.paddingBottom; //textarea.css('padding-bottom');\n        const paddingLeft = style.paddingLeft; //textarea.css('padding-left');\n        if (fontSize)\n            hiddenDiv.style.fontSize = fontSize; //('font-size', fontSize);\n        if (fontFamily)\n            hiddenDiv.style.fontFamily = fontFamily; //css('font-family', fontFamily);\n        if (lineHeight)\n            hiddenDiv.style.lineHeight = lineHeight; //css('line-height', lineHeight);\n        if (paddingTop)\n            hiddenDiv.style.paddingTop = paddingTop; //ss('padding-top', paddingTop);\n        if (paddingRight)\n            hiddenDiv.style.paddingRight = paddingRight; //css('padding-right', paddingRight);\n        if (paddingBottom)\n            hiddenDiv.style.paddingBottom = paddingBottom; //css('padding-bottom', paddingBottom);\n        if (paddingLeft)\n            hiddenDiv.style.paddingLeft = paddingLeft; //css('padding-left', paddingLeft);\n        // Set original-height, if none\n        if (!textarea.hasAttribute('original-height'))\n            textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n        if (textarea.getAttribute('wrap') === 'off') {\n            hiddenDiv.style.overflowWrap = 'normal'; // ('overflow-wrap', 'normal')\n            hiddenDiv.style.whiteSpace = 'pre'; //.css('white-space', 'pre');\n        }\n        hiddenDiv.innerText = textarea.value + '\\n';\n        const content = hiddenDiv.innerHTML.replace(/\\n/g, '<br>');\n        hiddenDiv.innerHTML = content;\n        // When textarea is hidden, width goes crazy.\n        // Approximate with half of window size\n        if (textarea.offsetWidth > 0 && textarea.offsetHeight > 0) {\n            hiddenDiv.style.width = textarea.getBoundingClientRect().width + 'px'; // ('width', textarea.width() + 'px');\n        }\n        else {\n            hiddenDiv.style.width = (window.innerWidth / 2) + 'px'; //css('width', window.innerWidth / 2 + 'px');\n        }\n        // Resize if the new height is greater than the\n        // original height of the textarea\n        const originalHeight = parseInt(textarea.getAttribute('original-height'));\n        const prevLength = parseInt(textarea.getAttribute('previous-length'));\n        if (isNaN(originalHeight))\n            return;\n        if (originalHeight <= hiddenDiv.clientHeight) {\n            textarea.style.height = hiddenDiv.clientHeight + 'px'; //css('height', hiddenDiv.innerHeight() + 'px');\n        }\n        else if (textarea.value.length < prevLength) {\n            // In case the new height is less than original height, it\n            // means the textarea has less text than before\n            // So we set the height to the original one\n            textarea.style.height = originalHeight + 'px';\n        }\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\n    }\n    ;\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.addEventListener('keyup', (e) => {\n                const target = e.target;\n                // Radio and Checkbox focus class\n                if (target instanceof HTMLInputElement && ['radio', 'checkbox'].includes(target.type)) {\n                    // TAB, check if tabbing to radio or checkbox.\n                    if (utils_1.Utils.keys.TAB.includes(e.key)) {\n                        target.classList.add('tabbed');\n                        target.addEventListener('blur', e => target.classList.remove('tabbed'), { once: true });\n                    }\n                }\n            });\n            document.querySelectorAll('.materialize-textarea').forEach((textArea) => {\n                Forms.textareaAutoResize(textArea);\n            });\n            // File Input Path\n            document.querySelectorAll('.file-field input[type=\"file\"]').forEach((fileInput) => {\n                Forms.InitFileInputPath(fileInput);\n            });\n        });\n    }\n    static InitTextarea(textarea) {\n        // Save Data in Element\n        textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\n        Forms.textareaAutoResize(textarea);\n        textarea.addEventListener('keyup', e => Forms.textareaAutoResize(textarea));\n        textarea.addEventListener('keydown', e => Forms.textareaAutoResize(textarea));\n    }\n    static InitFileInputPath(fileInput) {\n        fileInput.addEventListener('change', e => {\n            const fileField = fileInput.closest('.file-field');\n            const pathInput = fileField.querySelector('input.file-path');\n            const files = fileInput.files;\n            const filenames = [];\n            for (let i = 0; i < files.length; i++) {\n                filenames.push(files[i].name);\n            }\n            pathInput.value = filenames.join(', ');\n            pathInput.dispatchEvent(new Event('change', { bubbles: true, cancelable: true, composed: true }));\n        });\n    }\n}\nexports.Forms = Forms;\n\n\n/***/ }),\n\n/***/ \"./src/materialbox.ts\":\n/*!****************************!*\\\n  !*** ./src/materialbox.ts ***!\n  \\****************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Materialbox = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    inDuration: 275,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null\n};\nclass Materialbox extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Materialbox);\n        this._handleMaterialboxClick = () => {\n            // If already modal, return to original\n            if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating))\n                this.close();\n            else\n                this.open();\n        };\n        this._handleWindowScroll = () => {\n            if (this.overlayActive)\n                this.close();\n        };\n        this._handleWindowResize = () => {\n            if (this.overlayActive)\n                this.close();\n        };\n        this._handleWindowEscape = (e) => {\n            if (utils_1.Utils.keys.ESC.includes(e.key) && this.doneAnimating && this.overlayActive)\n                this.close();\n        };\n        /**\n         * Open materialbox.\n         */\n        this.open = () => {\n            this._updateVars();\n            this.originalWidth = this.el.getBoundingClientRect().width;\n            this.originalHeight = this.el.getBoundingClientRect().height;\n            // Set states\n            this.doneAnimating = false;\n            this.el.classList.add('active');\n            this.overlayActive = true;\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function')\n                this.options.onOpenStart.call(this, this.el);\n            // Set positioning for placeholder\n            this.placeholder.style.width = this.placeholder.getBoundingClientRect().width + 'px';\n            this.placeholder.style.height = this.placeholder.getBoundingClientRect().height + 'px';\n            this.placeholder.style.position = 'relative';\n            this.placeholder.style.top = '0';\n            this.placeholder.style.left = '0';\n            this._makeAncestorsOverflowVisible();\n            // Set css on origin\n            this.el.style.position = 'absolute';\n            this.el.style.zIndex = '1000';\n            this.el.style.willChange = 'left, top, width, height';\n            // Change from width or height attribute to css\n            this.attrWidth = this.el.getAttribute('width');\n            this.attrHeight = this.el.getAttribute('height');\n            if (this.attrWidth) {\n                this.el.style.width = this.attrWidth + 'px';\n                this.el.removeAttribute('width');\n            }\n            if (this.attrHeight) {\n                this.el.style.width = this.attrHeight + 'px';\n                this.el.removeAttribute('height');\n            }\n            this._addOverlay();\n            // Add and animate caption if it exists\n            if (this.caption !== '')\n                this._addCaption();\n            // Resize Image\n            const widthPercent = this.originalWidth / this.windowWidth;\n            const heightPercent = this.originalHeight / this.windowHeight;\n            this.newWidth = 0;\n            this.newHeight = 0;\n            if (widthPercent > heightPercent) {\n                // Width first\n                const ratio = this.originalHeight / this.originalWidth;\n                this.newWidth = this.windowWidth * 0.9;\n                this.newHeight = this.windowWidth * 0.9 * ratio;\n            }\n            else {\n                // Height first\n                const ratio = this.originalWidth / this.originalHeight;\n                this.newWidth = this.windowHeight * 0.9 * ratio;\n                this.newHeight = this.windowHeight * 0.9;\n            }\n            this._animateImageIn();\n            // Handle Exit triggers\n            window.addEventListener('scroll', this._handleWindowScroll);\n            window.addEventListener('resize', this._handleWindowResize);\n            window.addEventListener('keyup', this._handleWindowEscape);\n        };\n        /**\n         * Close materialbox.\n         */\n        this.close = () => {\n            this._updateVars();\n            this.doneAnimating = false;\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function')\n                this.options.onCloseStart.call(this, this.el);\n            //anim.remove(this.el);\n            //anim.remove(this._overlay);\n            //if (this.caption !== '') anim.remove(this._photoCaption);\n            // disable exit handlers\n            window.removeEventListener('scroll', this._handleWindowScroll);\n            window.removeEventListener('resize', this._handleWindowResize);\n            window.removeEventListener('keyup', this._handleWindowEscape);\n            this._removeOverlay();\n            this._animateImageOut();\n            if (this.caption !== '')\n                this._removeCaption();\n        };\n        this.el.M_Materialbox = this;\n        this.options = Object.assign(Object.assign({}, Materialbox.defaults), options);\n        this.overlayActive = false;\n        this.doneAnimating = true;\n        this.placeholder = document.createElement('div');\n        this.placeholder.classList.add('material-placeholder');\n        this.originalWidth = 0;\n        this.originalHeight = 0;\n        this.originInlineStyles = this.el.getAttribute('style');\n        this.caption = this.el.getAttribute('data-caption') || '';\n        // Wrap\n        this.el.before(this.placeholder);\n        this.placeholder.append(this.el);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of MaterialBox.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Materialbox);\n    }\n    static getInstance(el) {\n        return el.M_Materialbox;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Materialbox = undefined;\n        // Unwrap image\n        //this.placeholder.after(this.el).remove();\n        this.placeholder.remove();\n        this.el.removeAttribute('style');\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleMaterialboxClick);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleMaterialboxClick);\n    }\n    _makeAncestorsOverflowVisible() {\n        this._changedAncestorList = [];\n        let ancestor = this.placeholder.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            const curr = ancestor;\n            if (curr.style.overflow !== 'visible') {\n                curr.style.overflow = 'visible';\n                this._changedAncestorList.push(curr);\n            }\n            ancestor = ancestor.parentNode;\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _updateVars() {\n        this.windowWidth = window.innerWidth;\n        this.windowHeight = window.innerHeight;\n        this.caption = this.el.getAttribute('data-caption') || '';\n    }\n    // Image\n    _animateImageIn() {\n        this.el.style.maxHeight = this.newHeight.toString() + 'px';\n        this.el.style.maxWidth = this.newWidth.toString() + 'px';\n        const duration = this.options.inDuration;\n        // from\n        this.el.style.transition = 'none';\n        this.el.style.height = this.originalHeight + 'px';\n        this.el.style.width = this.originalWidth + 'px';\n        setTimeout(() => {\n            // easeOutQuad\n            this.el.style.transition = `height ${duration}ms ease,\n        width ${duration}ms ease,\n        left ${duration}ms ease,\n        top ${duration}ms ease\n      `;\n            // to\n            this.el.style.height = this.newHeight + 'px';\n            this.el.style.width = this.newWidth + 'px';\n            this.el.style.left = (utils_1.Utils.getDocumentScrollLeft() +\n                this.windowWidth / 2 -\n                this._offset(this.placeholder).left -\n                this.newWidth / 2) + 'px';\n            this.el.style.top = (utils_1.Utils.getDocumentScrollTop() +\n                this.windowHeight / 2 -\n                this._offset(this.placeholder).top -\n                this.newHeight / 2) + 'px';\n        }, 1);\n        setTimeout(() => {\n            this.doneAnimating = true;\n            if (typeof this.options.onOpenEnd === 'function')\n                this.options.onOpenEnd.call(this, this.el);\n        }, duration);\n        /*\n        anim({\n          targets: this.el, // image\n          height: [this.originalHeight, this.newHeight],\n          width: [this.originalWidth, this.newWidth],\n          left:\n            Utils.getDocumentScrollLeft() +\n            this.windowWidth / 2 -\n            this._offset(this.placeholder).left -\n            this.newWidth / 2,\n          top:\n            Utils.getDocumentScrollTop() +\n            this.windowHeight / 2 -\n            this._offset(this.placeholder).top -\n            this.newHeight / 2,\n    \n          duration: this.options.inDuration,\n          easing: 'easeOutQuad',\n          complete: () => {\n            this.doneAnimating = true;\n            if (typeof this.options.onOpenEnd === 'function') this.options.onOpenEnd.call(this, this.el);\n          }\n        });\n        */\n    }\n    _animateImageOut() {\n        const duration = this.options.outDuration;\n        // easeOutQuad\n        this.el.style.transition = `height ${duration}ms ease,\n      width ${duration}ms ease,\n      left ${duration}ms ease,\n      top ${duration}ms ease\n    `;\n        // to\n        this.el.style.height = this.originalWidth + 'px';\n        this.el.style.width = this.originalWidth + 'px';\n        this.el.style.left = '0';\n        this.el.style.top = '0';\n        setTimeout(() => {\n            this.placeholder.style.height = '';\n            this.placeholder.style.width = '';\n            this.placeholder.style.position = '';\n            this.placeholder.style.top = '';\n            this.placeholder.style.left = '';\n            // Revert to width or height attribute\n            if (this.attrWidth)\n                this.el.setAttribute('width', this.attrWidth.toString());\n            if (this.attrHeight)\n                this.el.setAttribute('height', this.attrHeight.toString());\n            this.el.removeAttribute('style');\n            this.originInlineStyles && this.el.setAttribute('style', this.originInlineStyles);\n            // Remove class\n            this.el.classList.remove('active');\n            this.doneAnimating = true;\n            // Remove overflow overrides on ancestors\n            this._changedAncestorList.forEach(anchestor => anchestor.style.overflow = '');\n            // onCloseEnd callback\n            if (typeof this.options.onCloseEnd === 'function')\n                this.options.onCloseEnd.call(this, this.el);\n        }, duration);\n    }\n    // Caption\n    _addCaption() {\n        this._photoCaption = document.createElement('div');\n        this._photoCaption.classList.add('materialbox-caption');\n        this._photoCaption.innerText = this.caption;\n        document.body.append(this._photoCaption);\n        this._photoCaption.style.display = 'inline';\n        // Animate\n        this._photoCaption.style.transition = 'none';\n        this._photoCaption.style.opacity = '0';\n        const duration = this.options.inDuration;\n        setTimeout(() => {\n            this._photoCaption.style.transition = `opacity ${duration}ms ease`;\n            this._photoCaption.style.opacity = '1';\n        }, 1);\n    }\n    _removeCaption() {\n        const duration = this.options.outDuration;\n        this._photoCaption.style.transition = `opacity ${duration}ms ease`;\n        this._photoCaption.style.opacity = '0';\n        setTimeout(() => {\n            this._photoCaption.remove();\n        }, duration);\n    }\n    // Overlay\n    _addOverlay() {\n        this._overlay = document.createElement('div');\n        this._overlay.id = 'materialbox-overlay';\n        this._overlay.addEventListener('click', e => {\n            if (this.doneAnimating)\n                this.close();\n        }, { once: true });\n        // Put before in origin image to preserve z-index layering.\n        this.el.before(this._overlay);\n        // Set dimensions if needed\n        const overlayOffset = this._overlay.getBoundingClientRect();\n        this._overlay.style.width = this.windowWidth + 'px';\n        this._overlay.style.height = this.windowHeight + 'px';\n        this._overlay.style.left = -1 * overlayOffset.left + 'px';\n        this._overlay.style.top = -1 * overlayOffset.top + 'px';\n        // Animate\n        this._overlay.style.transition = 'none';\n        this._overlay.style.opacity = '0';\n        const duration = this.options.inDuration;\n        setTimeout(() => {\n            this._overlay.style.transition = `opacity ${duration}ms ease`;\n            this._overlay.style.opacity = '1';\n        }, 1);\n    }\n    _removeOverlay() {\n        const duration = this.options.outDuration;\n        this._overlay.style.transition = `opacity ${duration}ms ease`;\n        this._overlay.style.opacity = '0';\n        setTimeout(() => {\n            this.overlayActive = false;\n            this._overlay.remove();\n        }, duration);\n    }\n}\nexports.Materialbox = Materialbox;\n\n\n/***/ }),\n\n/***/ \"./src/modal.ts\":\n/*!**********************!*\\\n  !*** ./src/modal.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Modal = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    opacity: 0.5,\n    inDuration: 250,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true,\n    dismissible: true,\n    startingTop: '4%',\n    endingTop: '10%'\n};\nclass Modal extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Modal);\n        this._handleTriggerClick = (e) => {\n            const trigger = e.target.closest('.modal-trigger');\n            if (!trigger)\n                return;\n            const modalId = utils_1.Utils.getIdFromTrigger(trigger);\n            const modalInstance = document.getElementById(modalId).M_Modal;\n            if (modalInstance)\n                modalInstance.open(trigger);\n            e.preventDefault();\n        };\n        this._handleOverlayClick = () => {\n            if (this.options.dismissible)\n                this.close();\n        };\n        this._handleModalCloseClick = (e) => {\n            const closeTrigger = e.target.closest('.modal-close');\n            if (closeTrigger)\n                this.close();\n        };\n        this._handleKeydown = (e) => {\n            if (utils_1.Utils.keys.ESC.includes(e.key) && this.options.dismissible)\n                this.close();\n        };\n        this._handleFocus = (e) => {\n            // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\n            if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {\n                this.el.focus();\n            }\n        };\n        /**\n         * Open modal.\n         */\n        this.open = (trigger) => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            Modal._modalsOpen++;\n            this._nthModalOpened = Modal._modalsOpen;\n            // Set Z-Index based on number of currently open modals\n            this._overlay.style.zIndex = (1000 + Modal._modalsOpen * 2).toString();\n            this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\n            // Set opening trigger, undefined indicates modal was opened by javascript\n            this._openingTrigger = !!trigger ? trigger : undefined;\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el, this._openingTrigger);\n            }\n            if (this.options.preventScrolling) {\n                document.body.style.overflow = 'hidden';\n            }\n            this.el.classList.add('open');\n            this.el.insertAdjacentElement('afterend', this._overlay);\n            if (this.options.dismissible) {\n                document.addEventListener('keydown', this._handleKeydown);\n                document.addEventListener('focus', this._handleFocus, true);\n            }\n            this._animateIn();\n            // Focus modal\n            this.el.focus();\n            return this;\n        };\n        /**\n         * Close modal.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            Modal._modalsOpen--;\n            this._nthModalOpened = 0;\n            // Call onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            this.el.classList.remove('open');\n            // Enable body scrolling only if there are no more modals open.\n            if (Modal._modalsOpen === 0) {\n                document.body.style.overflow = '';\n            }\n            if (this.options.dismissible) {\n                document.removeEventListener('keydown', this._handleKeydown);\n                document.removeEventListener('focus', this._handleFocus, true);\n            }\n            this._animateOut();\n            return this;\n        };\n        this.el.M_Modal = this;\n        this.options = Object.assign(Object.assign({}, Modal.defaults), options);\n        this.isOpen = false;\n        this.id = this.el.id;\n        this._openingTrigger = undefined;\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('modal-overlay');\n        this.el.tabIndex = 0;\n        this._nthModalOpened = 0;\n        Modal._count++;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Modal.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Modal);\n    }\n    static getInstance(el) {\n        return el.M_Modal;\n    }\n    destroy() {\n        Modal._count--;\n        this._removeEventHandlers();\n        this.el.removeAttribute('style');\n        this._overlay.remove();\n        this.el.M_Modal = undefined;\n    }\n    _setupEventHandlers() {\n        if (Modal._count === 1) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.addEventListener('click', this._handleOverlayClick);\n        this.el.addEventListener('click', this._handleModalCloseClick);\n    }\n    _removeEventHandlers() {\n        if (Modal._count === 0) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.removeEventListener('click', this._handleOverlayClick);\n        this.el.removeEventListener('click', this._handleModalCloseClick);\n    }\n    _animateIn() {\n        // Set initial styles\n        this._overlay.style.display = 'block';\n        this._overlay.style.opacity = '0';\n        this.el.style.display = 'block';\n        this.el.style.opacity = '0';\n        const duration = this.options.inDuration;\n        const isBottomSheet = this.el.classList.contains('bottom-sheet');\n        if (!isBottomSheet) {\n            this.el.style.top = this.options.startingTop;\n            this.el.style.transform = 'scaleX(0.9) scaleY(0.9)';\n        }\n        // Overlay\n        this._overlay.style.transition = `opacity ${duration}ms ease-out`; // v1: easeOutQuad\n        // Modal\n        this.el.style.transition = `\n      top ${duration}ms ease-out,\n      bottom ${duration}ms ease-out,\n      opacity ${duration}ms ease-out,\n      transform ${duration}ms ease-out\n    `;\n        setTimeout(() => {\n            this._overlay.style.opacity = this.options.opacity.toString();\n            this.el.style.opacity = '1';\n            if (isBottomSheet) {\n                this.el.style.bottom = '0';\n            }\n            else {\n                this.el.style.top = this.options.endingTop;\n                this.el.style.transform = 'scaleX(1) scaleY(1)';\n            }\n            setTimeout(() => {\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\n                }\n            }, duration);\n        }, 1);\n    }\n    _animateOut() {\n        const duration = this.options.outDuration;\n        const isBottomSheet = this.el.classList.contains('bottom-sheet');\n        if (!isBottomSheet) {\n            this.el.style.top = this.options.endingTop;\n        }\n        // Overlay\n        this._overlay.style.transition = `opacity ${duration}ms ease-out`; // v1: easeOutQuart\n        // Modal // easeOutCubic\n        this.el.style.transition = `\n      top ${duration}ms ease-out,\n      bottom ${duration}ms ease-out,\n      opacity ${duration}ms ease-out,\n      transform ${duration}ms ease-out\n    `;\n        setTimeout(() => {\n            this._overlay.style.opacity = '0';\n            this.el.style.opacity = '0';\n            if (isBottomSheet) {\n                this.el.style.bottom = '-100%';\n            }\n            else {\n                this.el.style.top = this.options.startingTop;\n                this.el.style.transform = 'scaleX(0.9) scaleY(0.9)';\n            }\n            setTimeout(() => {\n                this.el.style.display = 'none';\n                this._overlay.remove();\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }, duration);\n        }, 1);\n    }\n}\nexports.Modal = Modal;\n(() => {\n    Modal._modalsOpen = 0;\n    Modal._count = 0;\n})();\n\n\n/***/ }),\n\n/***/ \"./src/parallax.ts\":\n/*!*************************!*\\\n  !*** ./src/parallax.ts ***!\n  \\*************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parallax = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    responsiveThreshold: 0 // breakpoint for swipeable\n};\nclass Parallax extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Parallax);\n        this._handleImageLoad = () => {\n            this._updateParallax();\n        };\n        this.el.M_Parallax = this;\n        this.options = Object.assign(Object.assign({}, Parallax.defaults), options);\n        this._enabled = window.innerWidth > this.options.responsiveThreshold;\n        this._img = this.el.querySelector('img');\n        this._updateParallax();\n        this._setupEventHandlers();\n        this._setupStyles();\n        Parallax._parallaxes.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Parallax.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Parallax);\n    }\n    static getInstance(el) {\n        return el.M_Parallax;\n    }\n    destroy() {\n        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\n        this._img.style.transform = '';\n        this._removeEventHandlers();\n        this.el.M_Parallax = undefined;\n    }\n    static _handleScroll() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._updateParallax.call(parallaxInstance);\n        }\n    }\n    static _handleWindowResize() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._enabled =\n                window.innerWidth > parallaxInstance.options.responsiveThreshold;\n        }\n    }\n    _setupEventHandlers() {\n        this._img.addEventListener('load', this._handleImageLoad);\n        if (Parallax._parallaxes.length === 0) {\n            if (!Parallax._handleScrollThrottled) {\n                Parallax._handleScrollThrottled = utils_1.Utils.throttle(Parallax._handleScroll, 5);\n            }\n            if (!Parallax._handleWindowResizeThrottled) {\n                Parallax._handleWindowResizeThrottled = utils_1.Utils.throttle(Parallax._handleWindowResize, 5);\n            }\n            window.addEventListener('scroll', Parallax._handleScrollThrottled);\n            window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _removeEventHandlers() {\n        this._img.removeEventListener('load', this._handleImageLoad);\n        if (Parallax._parallaxes.length === 0) {\n            window.removeEventListener('scroll', Parallax._handleScrollThrottled);\n            window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _setupStyles() {\n        this._img.style.opacity = '1';\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _updateParallax() {\n        const containerHeight = this.el.getBoundingClientRect().height > 0 ? this.el.parentNode.offsetHeight : 500;\n        const imgHeight = this._img.offsetHeight;\n        const parallaxDist = imgHeight - containerHeight;\n        const bottom = this._offset(this.el).top + containerHeight;\n        const top = this._offset(this.el).top;\n        const scrollTop = utils_1.Utils.getDocumentScrollTop();\n        const windowHeight = window.innerHeight;\n        const windowBottom = scrollTop + windowHeight;\n        const percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\n        const parallax = parallaxDist * percentScrolled;\n        if (!this._enabled) {\n            this._img.style.transform = '';\n        }\n        else if (bottom > scrollTop && top < scrollTop + windowHeight) {\n            this._img.style.transform = `translate3D(-50%, ${parallax}px, 0)`;\n        }\n    }\n}\nexports.Parallax = Parallax;\nParallax._parallaxes = [];\n\n\n/***/ }),\n\n/***/ \"./src/pushpin.ts\":\n/*!************************!*\\\n  !*** ./src/pushpin.ts ***!\n  \\************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pushpin = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    top: 0,\n    bottom: Infinity,\n    offset: 0,\n    onPositionChange: null\n};\nclass Pushpin extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Pushpin);\n        this.el.M_Pushpin = this;\n        this.options = Object.assign(Object.assign({}, Pushpin.defaults), options);\n        this.originalOffset = this.el.offsetTop;\n        Pushpin._pushpins.push(this);\n        this._setupEventHandlers();\n        this._updatePosition();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Pushpin.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Pushpin);\n    }\n    static getInstance(el) {\n        return el.M_Pushpin;\n    }\n    destroy() {\n        this.el.style.top = null;\n        this._removePinClasses();\n        // Remove pushpin Inst\n        let index = Pushpin._pushpins.indexOf(this);\n        Pushpin._pushpins.splice(index, 1);\n        if (Pushpin._pushpins.length === 0) {\n            this._removeEventHandlers();\n        }\n        this.el.M_Pushpin = undefined;\n    }\n    static _updateElements() {\n        for (let elIndex in Pushpin._pushpins) {\n            let pInstance = Pushpin._pushpins[elIndex];\n            pInstance._updatePosition();\n        }\n    }\n    _setupEventHandlers() {\n        document.addEventListener('scroll', Pushpin._updateElements);\n    }\n    _removeEventHandlers() {\n        document.removeEventListener('scroll', Pushpin._updateElements);\n    }\n    _updatePosition() {\n        let scrolled = utils_1.Utils.getDocumentScrollTop() + this.options.offset;\n        if (this.options.top <= scrolled &&\n            this.options.bottom >= scrolled &&\n            !this.el.classList.contains('pinned')) {\n            this._removePinClasses();\n            this.el.style.top = `${this.options.offset}px`;\n            this.el.classList.add('pinned');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pinned');\n            }\n        }\n        // Add pin-top (when scrolled position is above top)\n        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\n            this._removePinClasses();\n            this.el.style.top = '0';\n            this.el.classList.add('pin-top');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-top');\n            }\n        }\n        // Add pin-bottom (when scrolled position is below bottom)\n        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\n            this._removePinClasses();\n            this.el.classList.add('pin-bottom');\n            this.el.style.top = `${this.options.bottom - this.originalOffset}px`;\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-bottom');\n            }\n        }\n    }\n    _removePinClasses() {\n        // IE 11 bug (can't remove multiple classes in one line)\n        this.el.classList.remove('pin-top');\n        this.el.classList.remove('pinned');\n        this.el.classList.remove('pin-bottom');\n    }\n}\nexports.Pushpin = Pushpin;\n(() => {\n    Pushpin._pushpins = [];\n})();\n\n\n/***/ }),\n\n/***/ \"./src/range.ts\":\n/*!**********************!*\\\n  !*** ./src/range.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Range = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nconst _defaults = {};\n// TODO: !!!!!\nclass Range extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Range);\n        this._handleRangeChange = () => {\n            this.value.innerHTML = this.el.value;\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            const offsetLeft = this._calcRangeOffset();\n            this.thumb.classList.add('active');\n            this.thumb.style.left = offsetLeft + 'px';\n        };\n        this._handleRangeMousedownTouchstart = (e) => {\n            // Set indicator value\n            this.value.innerHTML = this.el.value;\n            this._mousedown = true;\n            this.el.classList.add('active');\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            if (e.type !== 'input') {\n                const offsetLeft = this._calcRangeOffset();\n                this.thumb.classList.add('active');\n                this.thumb.style.left = offsetLeft + 'px';\n            }\n        };\n        this._handleRangeInputMousemoveTouchmove = () => {\n            if (this._mousedown) {\n                if (!this.thumb.classList.contains('active')) {\n                    this._showRangeBubble();\n                }\n                const offsetLeft = this._calcRangeOffset();\n                this.thumb.classList.add('active');\n                this.thumb.style.left = offsetLeft + 'px';\n                this.value.innerHTML = this.el.value;\n            }\n        };\n        this._handleRangeMouseupTouchend = () => {\n            this._mousedown = false;\n            this.el.classList.remove('active');\n        };\n        this._handleRangeBlurMouseoutTouchleave = () => {\n            if (!this._mousedown) {\n                const paddingLeft = parseInt(getComputedStyle(this.el).paddingLeft);\n                const marginLeftText = 7 + paddingLeft + 'px';\n                if (this.thumb.classList.contains('active')) {\n                    const duration = 100;\n                    // from\n                    this.thumb.style.transition = 'none';\n                    setTimeout(() => {\n                        this.thumb.style.transition = `\n            height ${duration}ms ease,\n            width ${duration}ms ease,\n            top ${duration}ms ease,\n            margin ${duration}ms ease\n          `;\n                        // to          \n                        this.thumb.style.height = '0';\n                        this.thumb.style.width = '0';\n                        this.thumb.style.top = '0';\n                        this.thumb.style.marginLeft = marginLeftText;\n                    }, 1);\n                }\n                this.thumb.classList.remove('active');\n            }\n        };\n        this.el.M_Range = this;\n        this.options = Object.assign(Object.assign({}, Range.defaults), options);\n        this._mousedown = false;\n        this._setupThumb();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Range.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Range);\n    }\n    static getInstance(el) {\n        return el.M_Range;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeThumb();\n        this.el.M_Range = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('change', this._handleRangeChange);\n        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstart);\n        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstart);\n        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchend);\n        this.el.addEventListener('touchend', this._handleRangeMouseupTouchend);\n        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('change', this._handleRangeChange);\n        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstart);\n        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstart);\n        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchend);\n        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchend);\n        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n    }\n    _setupThumb() {\n        this.thumb = document.createElement('span');\n        this.value = document.createElement('span');\n        this.thumb.classList.add('thumb');\n        this.value.classList.add('value');\n        this.thumb.append(this.value);\n        this.el.after(this.thumb);\n    }\n    _removeThumb() {\n        this.thumb.remove();\n    }\n    _showRangeBubble() {\n        const paddingLeft = parseInt(getComputedStyle(this.thumb.parentElement).paddingLeft);\n        const marginLeftText = -7 + paddingLeft + 'px'; // TODO: fix magic number?\n        const duration = 300;\n        // easeOutQuint\n        this.thumb.style.transition = `\n      height ${duration}ms ease,\n      width ${duration}ms ease,\n      top ${duration}ms ease,\n      margin ${duration}ms ease\n    `;\n        // to\n        this.thumb.style.height = '30px';\n        this.thumb.style.width = '30px';\n        this.thumb.style.top = '-30px';\n        this.thumb.style.marginLeft = marginLeftText;\n    }\n    _calcRangeOffset() {\n        const width = this.el.getBoundingClientRect().width - 15;\n        const max = parseFloat(this.el.getAttribute('max')) || 100; // Range default max\n        const min = parseFloat(this.el.getAttribute('min')) || 0; // Range default min\n        const percent = (parseFloat(this.el.value) - min) / (max - min);\n        return percent * width;\n    }\n    /**\n     * Initializes every range input in the current document.\n     */\n    static Init() {\n        Range.init((document.querySelectorAll('input[type=range]')), {});\n    }\n}\nexports.Range = Range;\n\n\n/***/ }),\n\n/***/ \"./src/scrollspy.ts\":\n/*!**************************!*\\\n  !*** ./src/scrollspy.ts ***!\n  \\**************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScrollSpy = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    throttle: 100,\n    scrollOffset: 200,\n    activeClass: 'active',\n    getActiveElement: (id) => { return 'a[href=\"#' + id + '\"]'; }\n};\nclass ScrollSpy extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, ScrollSpy);\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleWindowScroll(); }, 200).bind(this);\n        this._handleTriggerClick = (e) => {\n            const trigger = e.target;\n            for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\n                const scrollspy = ScrollSpy._elements[i];\n                const x = document.querySelector('a[href=\"#' + scrollspy.el.id + '\"]');\n                if (trigger === x) {\n                    e.preventDefault();\n                    scrollspy.el.scrollIntoView({ behavior: 'smooth' });\n                    break;\n                }\n            }\n        };\n        this._handleWindowScroll = () => {\n            // unique tick id\n            ScrollSpy._ticks++;\n            // viewport rectangle\n            let top = utils_1.Utils.getDocumentScrollTop(), left = utils_1.Utils.getDocumentScrollLeft(), right = left + window.innerWidth, bottom = top + window.innerHeight;\n            // determine which elements are in view\n            let intersections = ScrollSpy._findElements(top, right, bottom, left);\n            for (let i = 0; i < intersections.length; i++) {\n                let scrollspy = intersections[i];\n                let lastTick = scrollspy.tickId;\n                if (lastTick < 0) {\n                    // entered into view\n                    scrollspy._enter();\n                }\n                // update tick id\n                scrollspy.tickId = ScrollSpy._ticks;\n            }\n            for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\n                let scrollspy = ScrollSpy._elementsInView[i];\n                let lastTick = scrollspy.tickId;\n                if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\n                    // exited from view\n                    scrollspy._exit();\n                    scrollspy.tickId = -1;\n                }\n            }\n            // remember elements in view for next tick\n            ScrollSpy._elementsInView = intersections;\n        };\n        this.el.M_ScrollSpy = this;\n        this.options = Object.assign(Object.assign({}, ScrollSpy.defaults), options);\n        ScrollSpy._elements.push(this);\n        ScrollSpy._count++;\n        ScrollSpy._increment++;\n        this.tickId = -1;\n        this.id = ScrollSpy._increment;\n        this._setupEventHandlers();\n        this._handleWindowScroll();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of ScrollSpy.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, ScrollSpy);\n    }\n    static getInstance(el) {\n        return el.M_ScrollSpy;\n    }\n    destroy() {\n        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\n        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\n        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.el), 1);\n        ScrollSpy._count--;\n        this._removeEventHandlers();\n        const actElem = document.querySelector(this.options.getActiveElement(this.el.id));\n        actElem.classList.remove(this.options.activeClass);\n        this.el.M_ScrollSpy = undefined;\n    }\n    _setupEventHandlers() {\n        if (ScrollSpy._count === 1) {\n            window.addEventListener('scroll', this._handleWindowScroll);\n            window.addEventListener('resize', this._handleThrottledResize);\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (ScrollSpy._count === 0) {\n            window.removeEventListener('scroll', this._handleWindowScroll);\n            window.removeEventListener('resize', this._handleThrottledResize);\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n    }\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    static _findElements(top, right, bottom, left) {\n        let hits = [];\n        for (let i = 0; i < ScrollSpy._elements.length; i++) {\n            let scrollspy = ScrollSpy._elements[i];\n            let currTop = top + scrollspy.options.scrollOffset || 200;\n            if (scrollspy.el.getBoundingClientRect().height > 0) {\n                let elTop = ScrollSpy._offset(scrollspy.el).top, elLeft = ScrollSpy._offset(scrollspy.el).left, elRight = elLeft + scrollspy.el.getBoundingClientRect().width, elBottom = elTop + scrollspy.el.getBoundingClientRect().height;\n                let isIntersect = !(elLeft > right ||\n                    elRight < left ||\n                    elTop > bottom ||\n                    elBottom < currTop);\n                if (isIntersect) {\n                    hits.push(scrollspy);\n                }\n            }\n        }\n        return hits;\n    }\n    _enter() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            if (ScrollSpy._visibleElements[0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0].M_ScrollSpy.id) {\n                ScrollSpy._visibleElements.unshift(this.el);\n            }\n            else {\n                ScrollSpy._visibleElements.push(this.el);\n            }\n        }\n        else {\n            ScrollSpy._visibleElements.push(this.el);\n        }\n        const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n    }\n    _exit() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((x) => x.id != this.el.id);\n            if (ScrollSpy._visibleElements[0]) {\n                // Check if empty\n                const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n                (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n            }\n        }\n    }\n}\nexports.ScrollSpy = ScrollSpy;\n(() => {\n    ScrollSpy._elements = [];\n    ScrollSpy._elementsInView = [];\n    ScrollSpy._visibleElements = []; // Array.<cash>\n    ScrollSpy._count = 0;\n    ScrollSpy._increment = 0;\n    ScrollSpy._ticks = 0;\n})();\n\n\n/***/ }),\n\n/***/ \"./src/select.ts\":\n/*!***********************!*\\\n  !*** ./src/select.ts ***!\n  \\***********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FormSelect = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    classes: '',\n    dropdownOptions: {}\n};\nclass FormSelect extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, FormSelect);\n        this._handleSelectChange = () => {\n            this._setValueToInput();\n        };\n        this._handleOptionClick = (e) => {\n            e.preventDefault();\n            const virtualOption = e.target.closest('li');\n            this._selectOptionElement(virtualOption);\n            e.stopPropagation();\n        };\n        this._handleInputClick = () => {\n            if (this.dropdown && this.dropdown.isOpen) {\n                this._setValueToInput();\n                this._setSelectedStates();\n            }\n        };\n        if (this.el.classList.contains('browser-default'))\n            return;\n        this.el.M_FormSelect = this;\n        this.options = Object.assign(Object.assign({}, FormSelect.defaults), options);\n        this.isMultiple = this.el.multiple;\n        this.el.tabIndex = -1;\n        this._values = [];\n        //this.labelEl = null;\n        //this._labelFor = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of FormSelect.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, FormSelect);\n    }\n    static getInstance(el) {\n        return el.M_FormSelect;\n    }\n    destroy() {\n        // Returns label to its original owner\n        //if (this._labelFor) this.labelEl.setAttribute(\"for\", this.el.id);\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_FormSelect = undefined;\n    }\n    _setupEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.addEventListener('click', this._handleOptionClick);\n            el.addEventListener('keydown', (e) => {\n                if (e.key === \" \" || e.key === \"Enter\")\n                    this._handleOptionClick(e);\n            });\n        });\n        this.el.addEventListener('change', this._handleSelectChange);\n        this.input.addEventListener('click', this._handleInputClick);\n    }\n    _removeEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.removeEventListener('click', this._handleOptionClick);\n        });\n        this.el.removeEventListener('change', this._handleSelectChange);\n        this.input.removeEventListener('click', this._handleInputClick);\n    }\n    _arraysEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a == null || b == null)\n            return false;\n        if (a.length !== b.length)\n            return false;\n        for (let i = 0; i < a.length; ++i)\n            if (a[i] !== b[i])\n                return false;\n        return true;\n    }\n    _selectOptionElement(virtualOption) {\n        if (!virtualOption.classList.contains('disabled') && !virtualOption.classList.contains('optgroup')) {\n            const value = this._values.find((value) => value.optionEl === virtualOption);\n            const previousSelectedValues = this.getSelectedValues();\n            if (this.isMultiple) {\n                // Multi-Select\n                this._toggleEntryFromArray(value);\n            }\n            else {\n                // Single-Select\n                this._deselectAll();\n                this._selectValue(value);\n            }\n            // Refresh Input-Text\n            this._setValueToInput();\n            // Trigger Change-Event only when data is different\n            const actualSelectedValues = this.getSelectedValues();\n            const selectionHasChanged = !this._arraysEqual(previousSelectedValues, actualSelectedValues);\n            if (selectionHasChanged)\n                this.el.dispatchEvent(new Event('change', { bubbles: true, cancelable: true, composed: true })); // trigger('change');\n        }\n        if (!this.isMultiple)\n            this.dropdown.close();\n    }\n    _setupDropdown() {\n        // Get Label\n        this.labelEl = this.el.parentElement.querySelector('label');\n        // Create Wrapper\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('select-wrapper', 'input-field');\n        if (this.options.classes.length > 0) {\n            this.wrapper.classList.add(...this.options.classes.split(' '));\n        }\n        this.el.before(this.wrapper);\n        // Move actual select element into overflow hidden wrapper\n        const hideSelect = document.createElement('div');\n        hideSelect.classList.add('hide-select');\n        this.wrapper.append(hideSelect);\n        hideSelect.appendChild(this.el);\n        if (this.el.disabled)\n            this.wrapper.classList.add('disabled');\n        this.selectOptions = Array.from(this.el.children).filter(el => ['OPTION', 'OPTGROUP'].includes(el.tagName));\n        // Create dropdown\n        this.dropdownOptions = document.createElement('ul');\n        this.dropdownOptions.id = `select-options-${utils_1.Utils.guid()}`;\n        this.dropdownOptions.classList.add('dropdown-content', 'select-dropdown');\n        this.dropdownOptions.setAttribute('role', 'listbox');\n        this.dropdownOptions.ariaMultiSelectable = this.isMultiple.toString();\n        if (this.isMultiple)\n            this.dropdownOptions.classList.add('multiple-select-dropdown');\n        // Create dropdown structure\n        if (this.selectOptions.length > 0) {\n            this.selectOptions.forEach((realOption) => {\n                if (realOption.tagName === 'OPTION') {\n                    // Option\n                    const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\n                    this._addOptionToValues(realOption, virtualOption);\n                }\n                else if (realOption.tagName === 'OPTGROUP') {\n                    // Optgroup\n                    const groupId = \"opt-group-\" + utils_1.Utils.guid();\n                    const groupParent = document.createElement('li');\n                    groupParent.classList.add('optgroup');\n                    groupParent.tabIndex = -1;\n                    groupParent.setAttribute('role', 'group');\n                    groupParent.setAttribute('aria-labelledby', groupId);\n                    groupParent.innerHTML = `<span id=\"${groupId}\" role=\"presentation\">${realOption.getAttribute('label')}</span>`;\n                    this.dropdownOptions.append(groupParent);\n                    const groupChildren = [];\n                    const selectOptions = Array.from(realOption.children).filter(el => el.tagName === 'OPTION');\n                    selectOptions.forEach(realOption => {\n                        const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\n                        const childId = \"opt-child-\" + utils_1.Utils.guid();\n                        virtualOption.id = childId;\n                        groupChildren.push(childId);\n                        this._addOptionToValues(realOption, virtualOption);\n                    });\n                    groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\n                }\n            });\n        }\n        this.wrapper.append(this.dropdownOptions);\n        // Add input dropdown\n        this.input = document.createElement('input');\n        this.input.id = \"m_select-input-\" + utils_1.Utils.guid();\n        this.input.classList.add('select-dropdown', 'dropdown-trigger');\n        this.input.type = 'text';\n        this.input.readOnly = true;\n        this.input.setAttribute('data-target', this.dropdownOptions.id);\n        this.input.ariaReadOnly = 'true';\n        this.input.ariaRequired = this.el.hasAttribute(\"required\").toString(); //setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\n        if (this.el.disabled)\n            this.input.disabled = true; // 'true');\n        // Place Label after input\n        if (this.labelEl) {\n            this.input.after(this.labelEl);\n            this.labelEl.setAttribute('for', this.input.id);\n            this.labelEl.id = \"m_select-label-\" + utils_1.Utils.guid();\n            this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        }\n        // Makes new element to assume HTML's select label and aria-attributes, if exists\n        /*\n        if (this.el.hasAttribute(\"aria-labelledby\")){\n          console.log(1);\n          this.labelEl = <HTMLLabelElement>document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\n        }\n        else if (this.el.id != \"\"){\n          console.log(2);\n          const label = document.createElement('label');\n          label.setAttribute('for', this.el.id);\n          if (label){\n            this.labelEl = label;\n            this.labelEl.removeAttribute(\"for\");\n            this._labelFor = true;\n          }\n        }\n        */\n        // Tries to find a valid label in parent element\n        // if (!this.labelEl) {\n        //   this.labelEl = this.el.parentElement.querySelector('label');\n        // }\n        // if (this.labelEl && this.labelEl.id == \"\") {\n        //   this.labelEl.id = \"m_select-label-\" + Utils.guid();\n        // }\n        // if (this.labelEl) {\n        //   this.labelEl.setAttribute(\"for\", this.input.id);\n        //   this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        // }\n        // else\n        //   this.dropdownOptions.ariaLabel = '';\n        const attrs = this.el.attributes;\n        for (let i = 0; i < attrs.length; ++i) {\n            const attr = attrs[i];\n            if (attr.name.startsWith(\"aria-\"))\n                this.input.setAttribute(attr.name, attr.value);\n        }\n        // Adds aria-attributes to input element\n        this.input.setAttribute('role', 'combobox');\n        this.input.ariaExpanded = 'false';\n        this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\n        this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\n        this.input.placeholder = \" \";\n        this.wrapper.prepend(this.input);\n        this._setValueToInput();\n        // Add caret\n        const dropdownIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); //document.createElement('svg')\n        dropdownIcon.classList.add('caret');\n        dropdownIcon.setAttribute('height', '24');\n        dropdownIcon.setAttribute('width', '24');\n        dropdownIcon.setAttribute('viewBox', '0 0 24 24');\n        dropdownIcon.ariaHidden = 'true';\n        dropdownIcon.innerHTML = `<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>`;\n        this.wrapper.prepend(dropdownIcon);\n        // Initialize dropdown\n        if (!this.el.disabled) {\n            const dropdownOptions = Object.assign({}, this.options.dropdownOptions); // TODO:\n            dropdownOptions.coverTrigger = false;\n            const userOnOpenEnd = dropdownOptions.onOpenEnd;\n            const userOnCloseEnd = dropdownOptions.onCloseEnd;\n            // Add callback for centering selected option when dropdown content is scrollable\n            dropdownOptions.onOpenEnd = (el) => {\n                const selectedOption = this.dropdownOptions.querySelector('.selected');\n                if (selectedOption) {\n                    // Focus selected option in dropdown\n                    utils_1.Utils.keyDown = true;\n                    this.dropdown.focusedIndex = [...selectedOption.parentNode.children].indexOf(selectedOption);\n                    this.dropdown._focusFocusedItem();\n                    utils_1.Utils.keyDown = false;\n                    // Handle scrolling to selected option\n                    if (this.dropdown.isScrollable) {\n                        let scrollOffset = selectedOption.getBoundingClientRect().top -\n                            this.dropdownOptions.getBoundingClientRect().top; // scroll to selected option\n                        scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\n                        this.dropdownOptions.scrollTop = scrollOffset;\n                    }\n                }\n                this.input.ariaExpanded = 'true';\n                // Handle user declared onOpenEnd if needed\n                if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\n                    userOnOpenEnd.call(this.dropdown, this.el);\n            };\n            // Add callback for reseting \"expanded\" state\n            dropdownOptions.onCloseEnd = (el) => {\n                this.input.ariaExpanded = 'false';\n                // Handle user declared onOpenEnd if needed\n                if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\n                    userOnCloseEnd.call(this.dropdown, this.el);\n            };\n            // Prevent dropdown from closing too early\n            dropdownOptions.closeOnClick = false;\n            this.dropdown = dropdown_1.Dropdown.init(this.input, dropdownOptions);\n        }\n        // Add initial selections\n        this._setSelectedStates();\n        // ! Workaround for Label: move label up again\n        if (this.labelEl)\n            this.input.after(this.labelEl);\n    }\n    _addOptionToValues(realOption, virtualOption) {\n        this._values.push({ el: realOption, optionEl: virtualOption });\n    }\n    _removeDropdown() {\n        this.wrapper.querySelector('.caret').remove();\n        this.input.remove();\n        this.dropdownOptions.remove();\n        this.wrapper.before(this.el);\n        this.wrapper.remove();\n    }\n    _createAndAppendOptionWithIcon(realOption, type) {\n        var _a;\n        const li = document.createElement('li');\n        li.setAttribute('role', 'option');\n        if (realOption.disabled) {\n            li.classList.add('disabled');\n            li.ariaDisabled = 'true';\n        }\n        if (type === 'optgroup-option')\n            li.classList.add(type);\n        // Text / Checkbox\n        const span = document.createElement('span');\n        if (this.isMultiple)\n            span.innerHTML = `<label><input type=\"checkbox\"${realOption.disabled ? ' disabled=\"disabled\"' : ''}><span>${realOption.innerHTML}</span></label>`;\n        else\n            span.innerHTML = realOption.innerHTML;\n        li.appendChild(span);\n        // add Icon\n        const iconUrl = realOption.getAttribute('data-icon');\n        const classes = (_a = realOption.getAttribute('class')) === null || _a === void 0 ? void 0 : _a.split();\n        if (iconUrl) {\n            const img = document.createElement('img');\n            if (classes)\n                img.classList.add(classes);\n            img.src = iconUrl;\n            img.ariaHidden = 'true';\n            li.prepend(img);\n        }\n        // Check for multiple type\n        this.dropdownOptions.append(li);\n        return li;\n    }\n    _selectValue(value) {\n        value.el.selected = true;\n        value.optionEl.classList.add('selected');\n        value.optionEl.ariaSelected = 'true'; // setAttribute(\"aria-selected\", true);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = true;\n    }\n    _deselectValue(value) {\n        value.el.selected = false;\n        value.optionEl.classList.remove('selected');\n        value.optionEl.ariaSelected = 'false'; //setAttribute(\"aria-selected\", false);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = false;\n    }\n    _deselectAll() {\n        this._values.forEach(value => this._deselectValue(value));\n    }\n    _isValueSelected(value) {\n        const realValues = this.getSelectedValues();\n        return realValues.some((realValue) => realValue === value.el.value);\n    }\n    _toggleEntryFromArray(value) {\n        if (this._isValueSelected(value))\n            this._deselectValue(value);\n        else\n            this._selectValue(value);\n    }\n    _getSelectedOptions() {\n        // remove null, false, ... values\n        return Array.prototype.filter.call(this.el.selectedOptions, (realOption) => realOption);\n    }\n    _setValueToInput() {\n        const realOptions = this._getSelectedOptions();\n        const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\n        const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\n        // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\n        if (texts.length === 0) {\n            const firstDisabledOption = this.el.querySelector('option:disabled');\n            if (firstDisabledOption && firstDisabledOption.value === '') {\n                this.input.value = firstDisabledOption.innerText;\n                return;\n            }\n        }\n        this.input.value = texts.join(', ');\n    }\n    _setSelectedStates() {\n        this._values.forEach((value) => {\n            const optionIsSelected = value.el.selected;\n            const cb = value.optionEl.querySelector('input[type=\"checkbox\"]');\n            if (cb)\n                cb.checked = optionIsSelected;\n            if (optionIsSelected) {\n                this._activateOption(this.dropdownOptions, value.optionEl);\n            }\n            else {\n                value.optionEl.classList.remove('selected');\n                value.optionEl.ariaSelected = 'false'; // attr(\"aria-selected\", 'false');\n            }\n        });\n    }\n    _activateOption(ul, li) {\n        if (!li)\n            return;\n        if (!this.isMultiple)\n            ul.querySelectorAll('li.selected').forEach(li => li.classList.remove('selected'));\n        li.classList.add('selected');\n        li.ariaSelected = 'true';\n    }\n    getSelectedValues() {\n        return this._getSelectedOptions().map((realOption) => realOption.value);\n    }\n}\nexports.FormSelect = FormSelect;\n\n\n/***/ }),\n\n/***/ \"./src/sidenav.ts\":\n/*!************************!*\\\n  !*** ./src/sidenav.ts ***!\n  \\************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sidenav = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    edge: 'left',\n    draggable: true,\n    dragTargetWidth: '10px',\n    inDuration: 250,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true\n};\nclass Sidenav extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Sidenav);\n        this._handleDragTargetDrag = (e) => {\n            // Check if draggable\n            if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                return;\n            }\n            // If not being dragged, set initial drag start variables\n            if (!this.isDragged) {\n                this._startDrag(e);\n            }\n            // Run touchmove updates\n            this._dragMoveUpdate(e);\n            // Calculate raw deltaX\n            let totalDeltaX = this._xPos - this._startingXpos;\n            // dragDirection is the attempted user drag direction\n            const dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n            // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n            totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n            if (this.options.edge === dragDirection) {\n                totalDeltaX = 0;\n            }\n            /**\n             * transformX is the drag displacement\n             * transformPrefix is the initial transform placement\n             * Invert values if Sidenav is right edge\n             */\n            let transformX = totalDeltaX;\n            let transformPrefix = 'translateX(-100%)';\n            if (this.options.edge === 'right') {\n                transformPrefix = 'translateX(100%)';\n                transformX = -transformX;\n            }\n            // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n            this.percentOpen = Math.min(1, totalDeltaX / this._width);\n            // Set transform and opacity styles\n            this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\n            this._overlay.style.opacity = this.percentOpen.toString();\n        };\n        this._handleDragTargetRelease = () => {\n            if (this.isDragged) {\n                if (this.percentOpen > 0.2) {\n                    this.open();\n                }\n                else {\n                    this._animateOut();\n                }\n                this.isDragged = false;\n                this._verticallyScrolling = false;\n            }\n        };\n        this._handleCloseDrag = (e) => {\n            if (this.isOpen) {\n                // Check if draggable\n                if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                    return;\n                }\n                // If not being dragged, set initial drag start variables\n                if (!this.isDragged) {\n                    this._startDrag(e);\n                }\n                // Run touchmove updates\n                this._dragMoveUpdate(e);\n                // Calculate raw deltaX\n                let totalDeltaX = this._xPos - this._startingXpos;\n                // dragDirection is the attempted user drag direction\n                let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n                // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n                totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n                if (this.options.edge !== dragDirection) {\n                    totalDeltaX = 0;\n                }\n                let transformX = -totalDeltaX;\n                if (this.options.edge === 'right') {\n                    transformX = -transformX;\n                }\n                // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n                this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\n                // Set transform and opacity styles\n                this.el.style.transform = `translateX(${transformX}px)`;\n                this._overlay.style.opacity = this.percentOpen.toString();\n            }\n        };\n        this._handleCloseRelease = () => {\n            if (this.isOpen && this.isDragged) {\n                if (this.percentOpen > 0.8) {\n                    this._animateIn();\n                }\n                else {\n                    this.close();\n                }\n                this.isDragged = false;\n                this._verticallyScrolling = false;\n            }\n        };\n        // Handles closing of Sidenav when element with class .sidenav-close\n        this._handleCloseTriggerClick = (e) => {\n            const closeTrigger = e.target.closest('.sidenav-close');\n            if (closeTrigger && !this._isCurrentlyFixed()) {\n                this.close();\n            }\n        };\n        this._handleWindowResize = () => {\n            // Only handle horizontal resizes\n            if (this.lastWindowWidth !== window.innerWidth) {\n                if (window.innerWidth > 992) {\n                    this.open();\n                }\n                else {\n                    this.close();\n                }\n            }\n            this.lastWindowWidth = window.innerWidth;\n            this.lastWindowHeight = window.innerHeight;\n        };\n        /**\n         * Opens Sidenav.\n         */\n        this.open = () => {\n            if (this.isOpen === true)\n                return;\n            this.isOpen = true;\n            // Run onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el);\n            }\n            // Handle fixed Sidenav\n            if (this._isCurrentlyFixed()) {\n                // Show if fixed\n                this.el.style.transform = 'translateX(0)';\n                this._enableBodyScrolling();\n                this._overlay.style.display = 'none';\n            }\n            // Handle non-fixed Sidenav\n            else {\n                if (this.options.preventScrolling)\n                    this._preventBodyScrolling();\n                if (!this.isDragged || this.percentOpen != 1)\n                    this._animateIn();\n            }\n        };\n        /**\n         * Closes Sidenav.\n         */\n        this.close = () => {\n            if (this.isOpen === false)\n                return;\n            this.isOpen = false;\n            // Run onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            // Handle fixed Sidenav\n            if (this._isCurrentlyFixed()) {\n                const transformX = this.options.edge === 'left' ? '-105%' : '105%';\n                this.el.style.transform = `translateX(${transformX})`;\n            }\n            // Handle non-fixed Sidenav\n            else {\n                this._enableBodyScrolling();\n                if (!this.isDragged || this.percentOpen != 0) {\n                    this._animateOut();\n                }\n                else {\n                    this._overlay.style.display = 'none';\n                }\n            }\n        };\n        this.el.M_Sidenav = this;\n        this.options = Object.assign(Object.assign({}, Sidenav.defaults), options);\n        this.id = this.el.id;\n        this.isOpen = false;\n        this.isFixed = this.el.classList.contains('sidenav-fixed');\n        this.isDragged = false;\n        // Window size variables for window resize checks\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n        this._createOverlay();\n        this._createDragTarget();\n        this._setupEventHandlers();\n        this._setupClasses();\n        this._setupFixed();\n        Sidenav._sidenavs.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Sidenav.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Sidenav);\n    }\n    static getInstance(el) {\n        return el.M_Sidenav;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._enableBodyScrolling();\n        this._overlay.parentNode.removeChild(this._overlay);\n        this.dragTarget.parentNode.removeChild(this.dragTarget);\n        this.el.M_Sidenav = undefined;\n        this.el.style.transform = '';\n        const index = Sidenav._sidenavs.indexOf(this);\n        if (index >= 0) {\n            Sidenav._sidenavs.splice(index, 1);\n        }\n    }\n    _createOverlay() {\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('sidenav-overlay');\n        this._overlay.addEventListener('click', this.close);\n        document.body.appendChild(this._overlay);\n    }\n    _setupEventHandlers() {\n        if (Sidenav._sidenavs.length === 0) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        var passiveIfSupported = null;\n        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDrag, passiveIfSupported);\n        this.dragTarget.addEventListener('touchend', this._handleDragTargetRelease);\n        this._overlay.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n        this._overlay.addEventListener('touchend', this._handleCloseRelease);\n        this.el.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n        this.el.addEventListener('touchend', this._handleCloseRelease);\n        this.el.addEventListener('click', this._handleCloseTriggerClick);\n        // Add resize for side nav fixed\n        if (this.isFixed) {\n            window.addEventListener('resize', this._handleWindowResize);\n        }\n    }\n    _removeEventHandlers() {\n        if (Sidenav._sidenavs.length === 1) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDrag);\n        this.dragTarget.removeEventListener('touchend', this._handleDragTargetRelease);\n        this._overlay.removeEventListener('touchmove', this._handleCloseDrag);\n        this._overlay.removeEventListener('touchend', this._handleCloseRelease);\n        this.el.removeEventListener('touchmove', this._handleCloseDrag);\n        this.el.removeEventListener('touchend', this._handleCloseRelease);\n        this.el.removeEventListener('click', this._handleCloseTriggerClick);\n        // Remove resize for side nav fixed\n        if (this.isFixed) {\n            window.removeEventListener('resize', this._handleWindowResize);\n        }\n    }\n    _handleTriggerClick(e) {\n        const trigger = e.target.closest('.sidenav-trigger');\n        if (e.target && trigger) {\n            const sidenavId = utils_1.Utils.getIdFromTrigger(trigger);\n            const sidenavInstance = document.getElementById(sidenavId).M_Sidenav;\n            if (sidenavInstance) {\n                sidenavInstance.open(trigger);\n            }\n            e.preventDefault();\n        }\n    }\n    // Set variables needed at the beginning of drag and stop any current transition.\n    _startDrag(e) {\n        const clientX = e.targetTouches[0].clientX;\n        this.isDragged = true;\n        this._startingXpos = clientX;\n        this._xPos = this._startingXpos;\n        this._time = Date.now();\n        this._width = this.el.getBoundingClientRect().width;\n        this._overlay.style.display = 'block';\n        this._initialScrollTop = this.isOpen ? this.el.scrollTop : utils_1.Utils.getDocumentScrollTop();\n        this._verticallyScrolling = false;\n    }\n    //Set variables needed at each drag move update tick\n    _dragMoveUpdate(e) {\n        const clientX = e.targetTouches[0].clientX;\n        const currentScrollTop = this.isOpen ? this.el.scrollTop : utils_1.Utils.getDocumentScrollTop();\n        this.deltaX = Math.abs(this._xPos - clientX);\n        this._xPos = clientX;\n        this.velocityX = this.deltaX / (Date.now() - this._time);\n        this._time = Date.now();\n        if (this._initialScrollTop !== currentScrollTop) {\n            this._verticallyScrolling = true;\n        }\n    }\n    _setupClasses() {\n        if (this.options.edge === 'right') {\n            this.el.classList.add('right-aligned');\n            this.dragTarget.classList.add('right-aligned');\n        }\n    }\n    _removeClasses() {\n        this.el.classList.remove('right-aligned');\n        this.dragTarget.classList.remove('right-aligned');\n    }\n    _setupFixed() {\n        if (this._isCurrentlyFixed())\n            this.open();\n    }\n    _isCurrentlyFixed() {\n        return this.isFixed && window.innerWidth > 992;\n    }\n    _createDragTarget() {\n        const dragTarget = document.createElement('div');\n        dragTarget.classList.add('drag-target');\n        dragTarget.style.width = this.options.dragTargetWidth;\n        document.body.appendChild(dragTarget);\n        this.dragTarget = dragTarget;\n    }\n    _preventBodyScrolling() {\n        document.body.style.overflow = 'hidden';\n    }\n    _enableBodyScrolling() {\n        document.body.style.overflow = '';\n    }\n    _animateIn() {\n        this._animateSidenavIn();\n        this._animateOverlayIn();\n    }\n    _animateOut() {\n        this._animateSidenavOut();\n        this._animateOverlayOut();\n    }\n    _animateSidenavIn() {\n        let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? slideOutPercent + this.percentOpen\n                    : slideOutPercent - this.percentOpen;\n        }\n        const duration = this.options.inDuration;\n        // from\n        this.el.style.transition = 'none';\n        this.el.style.transform = 'translateX(' + (slideOutPercent * 100) + '%)';\n        setTimeout(() => {\n            this.el.style.transition = `transform ${duration}ms ease`; // easeOutQuad\n            // to\n            this.el.style.transform = 'translateX(0)';\n        }, 1);\n        setTimeout(() => {\n            if (typeof this.options.onOpenEnd === 'function')\n                this.options.onOpenEnd.call(this, this.el);\n        }, duration);\n    }\n    _animateSidenavOut() {\n        const endPercent = this.options.edge === 'left' ? -1 : 1;\n        let slideOutPercent = 0;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? endPercent + this.percentOpen\n                    : endPercent - this.percentOpen;\n        }\n        const duration = this.options.outDuration;\n        this.el.style.transition = `transform ${duration}ms ease`; // easeOutQuad\n        // to\n        this.el.style.transform = 'translateX(' + (endPercent * 100) + '%)';\n        setTimeout(() => {\n            if (typeof this.options.onCloseEnd === 'function')\n                this.options.onCloseEnd.call(this, this.el);\n        }, duration);\n    }\n    _animateOverlayIn() {\n        let start = 0;\n        if (this.isDragged)\n            start = this.percentOpen;\n        else\n            this._overlay.style.display = 'block';\n        // Animation\n        const duration = this.options.inDuration;\n        // from\n        this._overlay.style.transition = 'none';\n        this._overlay.style.opacity = start.toString();\n        // easeOutQuad\n        setTimeout(() => {\n            this._overlay.style.transition = `opacity ${duration}ms ease`;\n            // to\n            this._overlay.style.opacity = '1';\n        }, 1);\n    }\n    _animateOverlayOut() {\n        const duration = this.options.outDuration;\n        // easeOutQuad\n        this._overlay.style.transition = `opacity ${duration}ms ease`;\n        // to\n        this._overlay.style.opacity = '0';\n        setTimeout(() => {\n            this._overlay.style.display = 'none';\n        }, duration);\n    }\n}\nexports.Sidenav = Sidenav;\n(() => {\n    Sidenav._sidenavs = [];\n})();\n\n\n/***/ }),\n\n/***/ \"./src/slider.ts\":\n/*!***********************!*\\\n  !*** ./src/slider.ts ***!\n  \\***********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Slider = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    indicators: true,\n    height: 400,\n    duration: 500,\n    interval: 6000,\n    pauseOnFocus: true,\n    pauseOnHover: true,\n    indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\n};\nclass Slider extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Slider);\n        this._handleIndicatorClick = (e) => {\n            const el = e.target.parentElement;\n            const currIndex = [...el.parentNode.children].indexOf(el);\n            this._focusCurrent = true;\n            this.set(currIndex);\n        };\n        this._handleAutoPauseHover = () => {\n            this._hovered = true;\n            if (this.interval != null) {\n                this._pause(true);\n            }\n        };\n        this._handleAutoPauseFocus = () => {\n            this._focused = true;\n            if (this.interval != null) {\n                this._pause(true);\n            }\n        };\n        this._handleAutoStartHover = () => {\n            this._hovered = false;\n            if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\n                this.start();\n            }\n        };\n        this._handleAutoStartFocus = () => {\n            this._focused = false;\n            if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\n                this.start();\n            }\n        };\n        this._handleInterval = () => {\n            const activeElem = this._slider.querySelector('.active');\n            let newActiveIndex = [...activeElem.parentNode.children].indexOf(activeElem);\n            if (this._slides.length === newActiveIndex + 1)\n                newActiveIndex = 0; // loop to start\n            else\n                newActiveIndex += 1;\n            this.set(newActiveIndex);\n        };\n        /**\n         * Pause slider autoslide.\n         */\n        this.pause = () => {\n            this._pause(false);\n        };\n        /**\n         * Start slider autoslide.\n         */\n        this.start = () => {\n            clearInterval(this.interval);\n            this.interval = setInterval(this._handleInterval, this.options.duration + this.options.interval);\n            this.eventPause = false;\n        };\n        /**\n         * Move to next slider.\n         */\n        this.next = () => {\n            let newIndex = this.activeIndex + 1;\n            // Wrap around indices.\n            if (newIndex >= this._slides.length)\n                newIndex = 0;\n            else if (newIndex < 0)\n                newIndex = this._slides.length - 1;\n            this.set(newIndex);\n        };\n        /**\n         * Move to prev slider.\n         */\n        this.prev = () => {\n            let newIndex = this.activeIndex - 1;\n            // Wrap around indices.\n            if (newIndex >= this._slides.length)\n                newIndex = 0;\n            else if (newIndex < 0)\n                newIndex = this._slides.length - 1;\n            this.set(newIndex);\n        };\n        this.el.M_Slider = this;\n        this.options = Object.assign(Object.assign({}, Slider.defaults), options);\n        // init props\n        this.interval = null;\n        this.eventPause = false;\n        this._hovered = false;\n        this._focused = false;\n        this._focusCurrent = false;\n        // setup\n        this._slider = this.el.querySelector('.slides');\n        this._slides = Array.from(this._slider.querySelectorAll('li'));\n        this.activeIndex = this._slides.findIndex(li => li.classList.contains('active'));\n        if (this.activeIndex !== -1) {\n            this._activeSlide = this._slides[this.activeIndex];\n        }\n        this._setSliderHeight();\n        // Sets element id if it does not have one\n        if (this._slider.hasAttribute('id'))\n            this._sliderId = this._slider.getAttribute('id');\n        else {\n            this._sliderId = 'slider-' + utils_1.Utils.guid();\n            this._slider.setAttribute('id', this._sliderId);\n        }\n        const placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n        // Set initial positions of captions\n        this._slides.forEach(slide => {\n            // Caption\n            //const caption = <HTMLElement|null>slide.querySelector('.caption');\n            //if (caption) this._animateCaptionIn(caption, 0);\n            // Set Images as Background Images\n            const img = slide.querySelector('img');\n            if (img) {\n                if (img.src !== placeholderBase64) {\n                    img.style.backgroundImage = 'url(' + img.src + ')';\n                    img.src = placeholderBase64;\n                }\n            }\n            // Sets slide as focusable by code\n            if (!slide.hasAttribute('tabindex'))\n                slide.setAttribute('tabindex', '-1');\n            // Removes initial visibility from \"inactive\" slides\n            slide.style.visibility = 'hidden';\n        });\n        this._setupIndicators();\n        // Show active slide\n        if (this._activeSlide) {\n            this._activeSlide.style.display = 'block';\n            this._activeSlide.style.visibility = 'visible';\n        }\n        else {\n            this.activeIndex = 0;\n            this._slides[0].classList.add('active');\n            this._slides[0].style.visibility = 'visible';\n            this._activeSlide = this._slides[0];\n            this._animateSlide(this._slides[0], true);\n            // Update indicators\n            if (this.options.indicators) {\n                this._indicators[this.activeIndex].children[0].classList.add('active');\n            }\n        }\n        this._setupEventHandlers();\n        // auto scroll\n        this.start();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Slider.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Slider);\n    }\n    static getInstance(el) {\n        return el.M_Slider;\n    }\n    destroy() {\n        this.pause();\n        this._removeIndicators();\n        this._removeEventHandlers();\n        this.el.M_Slider = undefined;\n    }\n    _setupEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.addEventListener('focusin', this._handleAutoPauseFocus);\n            this.el.addEventListener('focusout', this._handleAutoStartFocus);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.addEventListener('mouseenter', this._handleAutoPauseHover);\n            this.el.addEventListener('mouseleave', this._handleAutoStartHover);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClick);\n            });\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.removeEventListener('focusin', this._handleAutoPauseFocus);\n            this.el.removeEventListener('focusout', this._handleAutoStartFocus);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.removeEventListener('mouseenter', this._handleAutoPauseHover);\n            this.el.removeEventListener('mouseleave', this._handleAutoStartHover);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClick);\n            });\n        }\n    }\n    _animateSlide(slide, isDirectionIn) {\n        let dx = 0, dy = 0;\n        // from\n        slide.style.opacity = isDirectionIn ? '0' : '1';\n        setTimeout(() => {\n            slide.style.transition = `opacity ${this.options.duration}ms ease`;\n            // to\n            slide.style.opacity = isDirectionIn ? '1' : '0';\n        }, 1);\n        // Caption\n        const caption = slide.querySelector('.caption');\n        if (!caption)\n            return;\n        if (caption.classList.contains('center-align'))\n            dy = -100;\n        else if (caption.classList.contains('right-align'))\n            dx = 100;\n        else if (caption.classList.contains('left-align'))\n            dx = -100;\n        // from\n        caption.style.opacity = isDirectionIn ? '0' : '1';\n        caption.style.transform = isDirectionIn ? `translate(${dx}px, ${dy}px)` : `translate(0, 0)`;\n        setTimeout(() => {\n            caption.style.transition = `opacity ${this.options.duration}ms ease, transform ${this.options.duration}ms ease`;\n            // to\n            caption.style.opacity = isDirectionIn ? '1' : '0';\n            caption.style.transform = isDirectionIn ? `translate(0, 0)` : `translate(${dx}px, ${dy}px)`;\n        }, this.options.duration); // delay\n    }\n    _setSliderHeight() {\n        // If fullscreen, do nothing\n        if (!this.el.classList.contains('fullscreen')) {\n            if (this.options.indicators) {\n                // Add height if indicators are present\n                this.el.style.height = (this.options.height + 40) + 'px'; //.css('height', this.options.height + 40 + 'px');\n            }\n            else {\n                this.el.style.height = this.options.height + 'px';\n            }\n            this._slider.style.height = this.options.height + 'px';\n        }\n    }\n    _setupIndicators() {\n        if (this.options.indicators) {\n            const ul = document.createElement('ul');\n            ul.classList.add('indicators');\n            const arrLi = [];\n            this._slides.forEach((el, i) => {\n                const label = this.options.indicatorLabelFunc\n                    ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\n                    : `${i + 1}`;\n                const li = document.createElement('li');\n                li.classList.add('indicator-item');\n                li.innerHTML = `<button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>`;\n                arrLi.push(li);\n                ul.append(li);\n            });\n            this.el.append(ul);\n            this._indicators = arrLi;\n        }\n    }\n    _removeIndicators() {\n        this.el.querySelector('ul.indicators').remove(); //find('ul.indicators').remove();\n    }\n    set(index) {\n        // Wrap around indices.\n        if (index >= this._slides.length)\n            index = 0;\n        else if (index < 0)\n            index = this._slides.length - 1;\n        // Only do if index changes\n        if (this.activeIndex === index)\n            return;\n        this._activeSlide = this._slides[this.activeIndex];\n        const _caption = this._activeSlide.querySelector('.caption');\n        this._activeSlide.classList.remove('active');\n        // Enables every slide\n        this._slides.forEach(slide => slide.style.visibility = 'visible');\n        //--- Hide active Slide + Caption\n        this._activeSlide.style.opacity = '0';\n        setTimeout(() => {\n            this._slides.forEach(slide => {\n                if (slide.classList.contains('active'))\n                    return;\n                slide.style.opacity = '0';\n                slide.style.transform = 'translate(0, 0)';\n                // Disables invisible slides (for assistive technologies)\n                slide.style.visibility = 'hidden';\n            });\n        }, this.options.duration);\n        // Hide active Caption\n        //this._animateCaptionIn(_caption, this.options.duration);\n        _caption.style.opacity = '0';\n        // Update indicators\n        if (this.options.indicators) {\n            const activeIndicator = this._indicators[this.activeIndex].children[0];\n            const nextIndicator = this._indicators[index].children[0];\n            activeIndicator.classList.remove('active');\n            nextIndicator.classList.add('active');\n            if (typeof this.options.indicatorLabelFunc === \"function\") {\n                activeIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, this.activeIndex, false);\n                nextIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, index, true);\n            }\n        }\n        //--- Show new Slide + Caption\n        this._animateSlide(this._slides[index], true);\n        this._slides[index].classList.add('active');\n        this.activeIndex = index;\n        // Reset interval, if allowed. This check prevents autostart\n        // when slider is paused, since it can be changed though indicators.\n        if (this.interval != null) {\n            this.start();\n        }\n    }\n    _pause(fromEvent) {\n        clearInterval(this.interval);\n        this.eventPause = fromEvent;\n        this.interval = null;\n    }\n}\nexports.Slider = Slider;\n\n\n/***/ }),\n\n/***/ \"./src/tabs.ts\":\n/*!*********************!*\\\n  !*** ./src/tabs.ts ***!\n  \\*********************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tabs = void 0;\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    duration: 300,\n    onShow: null,\n    swipeable: false,\n    responsiveThreshold: Infinity // breakpoint for swipeable\n};\nclass Tabs extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Tabs);\n        this._handleWindowResize = () => {\n            this._setTabsAndTabWidth();\n            if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\n                this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n                this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n            }\n        };\n        this._handleTabClick = (e) => {\n            const tabLink = e.target;\n            const tab = tabLink.parentElement;\n            // Handle click on tab link only\n            if (!tabLink || !tab.classList.contains('tab'))\n                return;\n            // is disabled?\n            if (tab.classList.contains('disabled')) {\n                e.preventDefault();\n                return;\n            }\n            // Act as regular link if target attribute is specified.\n            if (tabLink.hasAttribute('target'))\n                return;\n            // Make the old tab inactive.\n            this._activeTabLink.classList.remove('active');\n            const _oldContent = this._content;\n            // Update the variables with the new link and content\n            this._activeTabLink = tabLink;\n            if (tabLink.hash)\n                this._content = document.querySelector(tabLink.hash);\n            this._tabLinks = this.el.querySelectorAll('li.tab > a');\n            // Make the tab active\n            this._activeTabLink.classList.add('active');\n            const prevIndex = this._index;\n            this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\n            // Swap content\n            if (this.options.swipeable) {\n                if (this._tabsCarousel) {\n                    this._tabsCarousel.set(this._index, () => {\n                        if (typeof this.options.onShow === 'function')\n                            this.options.onShow.call(this, this._content);\n                    });\n                }\n            }\n            else {\n                if (this._content) {\n                    this._content.style.display = 'block';\n                    this._content.classList.add('active');\n                    if (typeof this.options.onShow === 'function')\n                        this.options.onShow.call(this, this._content);\n                    if (_oldContent && _oldContent !== this._content) {\n                        _oldContent.style.display = 'none';\n                        _oldContent.classList.remove('active');\n                    }\n                }\n            }\n            // Update widths after content is swapped (scrollbar bugfix)\n            this._setTabsAndTabWidth();\n            this._animateIndicator(prevIndex);\n            e.preventDefault();\n        };\n        this.el.M_Tabs = this;\n        this.options = Object.assign(Object.assign({}, Tabs.defaults), options);\n        this._tabLinks = this.el.querySelectorAll('li.tab > a');\n        this._index = 0;\n        this._setupActiveTabLink();\n        if (this.options.swipeable) {\n            this._setupSwipeableTabs();\n        }\n        else {\n            this._setupNormalTabs();\n        }\n        // Setup tabs indicator after content to ensure accurate widths\n        this._setTabsAndTabWidth();\n        this._createIndicator();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Tabs.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Tabs);\n    }\n    static getInstance(el) {\n        return el.M_Tabs;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._indicator.parentNode.removeChild(this._indicator);\n        if (this.options.swipeable) {\n            this._teardownSwipeableTabs();\n        }\n        else {\n            this._teardownNormalTabs();\n        }\n        this.el.M_Tabs = undefined;\n    }\n    /**\n     * The index of tab that is currently shown.\n     */\n    get index() { return this._index; }\n    _setupEventHandlers() {\n        window.addEventListener('resize', this._handleWindowResize);\n        this.el.addEventListener('click', this._handleTabClick);\n    }\n    _removeEventHandlers() {\n        window.removeEventListener('resize', this._handleWindowResize);\n        this.el.removeEventListener('click', this._handleTabClick);\n    }\n    _createIndicator() {\n        const indicator = document.createElement('li');\n        indicator.classList.add('indicator');\n        this.el.appendChild(indicator);\n        this._indicator = indicator;\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n    }\n    _setupActiveTabLink() {\n        // If the location.hash matches one of the links, use that as the active tab.\n        this._activeTabLink = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === location.hash);\n        // If no match is found, use the first link or any with class 'active' as the initial active tab.\n        if (!this._activeTabLink) {\n            this._activeTabLink = this.el.querySelector('li.tab a.active');\n        }\n        if (this._activeTabLink.length === 0) {\n            this._activeTabLink = this.el.querySelector('li.tab a');\n        }\n        Array.from(this._tabLinks).forEach((a) => a.classList.remove('active'));\n        this._activeTabLink.classList.add('active');\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\n        if (this._activeTabLink && this._activeTabLink.hash) {\n            this._content = document.querySelector(this._activeTabLink.hash);\n            this._content.classList.add('active');\n        }\n    }\n    _setupSwipeableTabs() {\n        // Change swipeable according to responsive threshold\n        if (window.innerWidth > this.options.responsiveThreshold)\n            this.options.swipeable = false;\n        const tabsContent = [];\n        this._tabLinks.forEach(a => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                currContent.classList.add('carousel-item');\n                tabsContent.push(currContent);\n            }\n        });\n        // Create Carousel-Wrapper around Tab-Contents\n        const tabsWrapper = document.createElement('div');\n        tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\n        // Wrap around\n        tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\n        tabsContent.forEach(tabContent => {\n            tabsWrapper.appendChild(tabContent);\n            tabContent.style.display = '';\n        });\n        // Keep active tab index to set initial carousel slide\n        const tab = this._activeTabLink.parentElement;\n        const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\n        this._tabsCarousel = carousel_1.Carousel.init(tabsWrapper, {\n            fullWidth: true,\n            noWrap: true,\n            onCycleTo: (item) => {\n                const prevIndex = this._index;\n                this._index = Array.from(item.parentNode.children).indexOf(item);\n                this._activeTabLink.classList.remove('active');\n                this._activeTabLink = Array.from(this._tabLinks)[this._index];\n                this._activeTabLink.classList.add('active');\n                this._animateIndicator(prevIndex);\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n            }\n        });\n        // Set initial carousel slide to active tab\n        this._tabsCarousel.set(activeTabIndex);\n    }\n    _teardownSwipeableTabs() {\n        const tabsWrapper = this._tabsCarousel.el;\n        this._tabsCarousel.destroy();\n        // Unwrap\n        tabsWrapper.after(tabsWrapper.children);\n        tabsWrapper.remove();\n    }\n    _setupNormalTabs() {\n        // Hide Tabs Content\n        Array.from(this._tabLinks).forEach((a) => {\n            if (a === this._activeTabLink)\n                return;\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = 'none';\n            }\n        });\n    }\n    _teardownNormalTabs() {\n        // show Tabs Content\n        this._tabLinks.forEach((a) => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = '';\n            }\n        });\n    }\n    _setTabsAndTabWidth() {\n        this._tabsWidth = this.el.getBoundingClientRect().width;\n        this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\n    }\n    _calcRightPos(el) {\n        return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\n    }\n    _calcLeftPos(el) {\n        return Math.floor(el.offsetLeft);\n    }\n    /**\n     * Recalculate tab indicator position. This is useful when\n     * the indicator position is not correct.\n     */\n    updateTabIndicator() {\n        this._setTabsAndTabWidth();\n        this._animateIndicator(this._index);\n    }\n    _animateIndicator(prevIndex) {\n        let leftDelay = 0, rightDelay = 0;\n        const isMovingLeftOrStaying = (this._index - prevIndex >= 0);\n        if (isMovingLeftOrStaying)\n            leftDelay = 90;\n        else\n            rightDelay = 90;\n        // in v1: easeOutQuad\n        this._indicator.style.transition = `\n      left ${this.options.duration}ms ease-out ${leftDelay}ms,\n      right ${this.options.duration}ms ease-out ${rightDelay}ms`;\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n    }\n    /**\n     * Show tab content that corresponds to the tab with the id.\n     * @param tabId The id of the tab that you want to switch to.\n     */\n    select(tabId) {\n        const tab = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === '#' + tabId);\n        if (tab)\n            tab.click();\n    }\n}\nexports.Tabs = Tabs;\n\n\n/***/ }),\n\n/***/ \"./src/tapTarget.ts\":\n/*!**************************!*\\\n  !*** ./src/tapTarget.ts ***!\n  \\**************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TapTarget = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    onOpen: null,\n    onClose: null\n};\nclass TapTarget extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, TapTarget);\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleResize(); }, 200).bind(this);\n        this._handleTargetClick = () => {\n            this.open();\n        };\n        this._handleOriginClick = () => {\n            this.close();\n        };\n        this._handleResize = () => {\n            this._calculatePositioning();\n        };\n        this._handleDocumentClick = (e) => {\n            if (!e.target.closest('.tap-target-wrapper')) {\n                this.close();\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        /**\n         * Open Tap Target.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            // onOpen callback\n            if (typeof this.options.onOpen === 'function') {\n                this.options.onOpen.call(this, this._origin);\n            }\n            this.isOpen = true;\n            this.wrapper.classList.add('open');\n            document.body.addEventListener('click', this._handleDocumentClick, true);\n            document.body.addEventListener('touchend', this._handleDocumentClick);\n        };\n        /**\n         * Close Tap Target.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            // onClose callback\n            if (typeof this.options.onClose === 'function') {\n                this.options.onClose.call(this, this._origin);\n            }\n            this.isOpen = false;\n            this.wrapper.classList.remove('open');\n            document.body.removeEventListener('click', this._handleDocumentClick, true);\n            document.body.removeEventListener('touchend', this._handleDocumentClick);\n        };\n        this.el.M_TapTarget = this;\n        this.options = Object.assign(Object.assign({}, TapTarget.defaults), options);\n        this.isOpen = false;\n        // setup\n        this._origin = document.querySelector(`#${el.dataset.target}`);\n        this._setup();\n        this._calculatePositioning();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of TapTarget.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, TapTarget);\n    }\n    static getInstance(el) {\n        return el.M_TapTarget;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.TapTarget = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleTargetClick);\n        this.originEl.addEventListener('click', this._handleOriginClick);\n        // Resize\n        window.addEventListener('resize', this._handleThrottledResize);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleTargetClick);\n        this.originEl.removeEventListener('click', this._handleOriginClick);\n        window.removeEventListener('resize', this._handleThrottledResize);\n    }\n    _setup() {\n        // Creating tap target\n        this.wrapper = this.el.parentElement;\n        this.waveEl = this.wrapper.querySelector('.tap-target-wave');\n        this.originEl = this.wrapper.querySelector('.tap-target-origin');\n        this.contentEl = this.el.querySelector('.tap-target-content');\n        // Creating wrapper\n        if (!this.wrapper.classList.contains('.tap-target-wrapper')) {\n            this.wrapper = document.createElement('div');\n            this.wrapper.classList.add('tap-target-wrapper');\n            this.el.before(this.wrapper);\n            this.wrapper.append(this.el);\n        }\n        // Creating content\n        if (!this.contentEl) {\n            this.contentEl = document.createElement('div');\n            this.contentEl.classList.add('tap-target-content');\n            this.el.append(this.contentEl);\n        }\n        // Creating foreground wave\n        if (!this.waveEl) {\n            this.waveEl = document.createElement('div');\n            this.waveEl.classList.add('tap-target-wave');\n            // Creating origin\n            if (!this.originEl) {\n                this.originEl = this._origin.cloneNode(true); // .clone(true, true);\n                this.originEl.classList.add('tap-target-origin');\n                this.originEl.removeAttribute('id');\n                this.originEl.removeAttribute('style');\n                this.waveEl.append(this.originEl);\n            }\n            this.wrapper.append(this.waveEl);\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _calculatePositioning() {\n        // Element or parent is fixed position?\n        let isFixed = getComputedStyle(this._origin).position === 'fixed';\n        if (!isFixed) {\n            let currentElem = this._origin;\n            const parents = [];\n            while ((currentElem = currentElem.parentNode) && currentElem !== document)\n                parents.push(currentElem);\n            for (let i = 0; i < parents.length; i++) {\n                isFixed = getComputedStyle(parents[i]).position === 'fixed';\n                if (isFixed)\n                    break;\n            }\n        }\n        // Calculating origin\n        const originWidth = this._origin.offsetWidth;\n        const originHeight = this._origin.offsetHeight;\n        const originTop = isFixed ? this._offset(this._origin).top - utils_1.Utils.getDocumentScrollTop() : this._offset(this._origin).top;\n        const originLeft = isFixed ? this._offset(this._origin).left - utils_1.Utils.getDocumentScrollLeft() : this._offset(this._origin).left;\n        // Calculating screen\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const scrollBarWidth = windowWidth - document.documentElement.clientWidth;\n        const centerX = windowWidth / 2;\n        const centerY = windowHeight / 2;\n        const isLeft = originLeft <= centerX;\n        const isRight = originLeft > centerX;\n        const isTop = originTop <= centerY;\n        const isBottom = originTop > centerY;\n        const isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\n        // Calculating tap target\n        const tapTargetWidth = this.el.offsetWidth;\n        const tapTargetHeight = this.el.offsetHeight;\n        const tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\n        const tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\n        const tapTargetPosition = isFixed ? 'fixed' : 'absolute';\n        // Calculating content\n        const tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\n        const tapTargetTextHeight = tapTargetHeight / 2;\n        const tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\n        const tapTargetTextBottom = 0;\n        const tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\n        const tapTargetTextRight = 0;\n        const tapTargetTextPadding = originWidth;\n        const tapTargetTextAlign = isBottom ? 'bottom' : 'top';\n        // Calculating wave\n        const tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\n        const tapTargetWaveHeight = tapTargetWaveWidth;\n        const tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\n        const tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\n        // Setting tap target\n        this.wrapper.style.top = isTop ? tapTargetTop + 'px' : '';\n        this.wrapper.style.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px' : '';\n        this.wrapper.style.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';\n        this.wrapper.style.left = isLeft ? tapTargetLeft + 'px' : '';\n        this.wrapper.style.position = tapTargetPosition;\n        // Setting content\n        this.contentEl.style.width = tapTargetTextWidth + 'px';\n        this.contentEl.style.height = tapTargetTextHeight + 'px';\n        this.contentEl.style.top = tapTargetTextTop + 'px';\n        this.contentEl.style.right = tapTargetTextRight + 'px';\n        this.contentEl.style.bottom = tapTargetTextBottom + 'px';\n        this.contentEl.style.left = tapTargetTextLeft + 'px';\n        this.contentEl.style.padding = tapTargetTextPadding + 'px';\n        this.contentEl.style.verticalAlign = tapTargetTextAlign;\n        // Setting wave\n        this.waveEl.style.top = tapTargetWaveTop + 'px';\n        this.waveEl.style.left = tapTargetWaveLeft + 'px';\n        this.waveEl.style.width = tapTargetWaveWidth + 'px';\n        this.waveEl.style.height = tapTargetWaveHeight + 'px';\n    }\n}\nexports.TapTarget = TapTarget;\n\n\n/***/ }),\n\n/***/ \"./src/timepicker.ts\":\n/*!***************************!*\\\n  !*** ./src/timepicker.ts ***!\n  \\***************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Timepicker = void 0;\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    dialRadius: 135,\n    outerRadius: 105,\n    innerRadius: 70,\n    tickRadius: 20,\n    duration: 350,\n    container: null,\n    defaultTime: 'now',\n    fromNow: 0,\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok'\n    },\n    autoClose: false,\n    twelveHour: true,\n    vibrate: true,\n    // Callbacks\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onSelect: null\n};\nclass Timepicker extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Timepicker);\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleInputKeydown = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleTimeInputEnterKey = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this._inputFromTextField();\n            }\n        };\n        this._handleClockClickStart = (e) => {\n            e.preventDefault();\n            let clockPlateBR = this.plate.getBoundingClientRect();\n            let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\n            this.x0 = offset.x + this.options.dialRadius;\n            this.y0 = offset.y + this.options.dialRadius;\n            this.moved = false;\n            let clickPos = Timepicker._Pos(e);\n            this.dx = clickPos.x - this.x0;\n            this.dy = clickPos.y - this.y0;\n            // Set clock hands\n            this.setHand(this.dx, this.dy, false);\n            // Mousemove on document\n            document.addEventListener('mousemove', this._handleDocumentClickMove);\n            document.addEventListener('touchmove', this._handleDocumentClickMove);\n            // Mouseup on document\n            document.addEventListener('mouseup', this._handleDocumentClickEnd);\n            document.addEventListener('touchend', this._handleDocumentClickEnd);\n        };\n        this._handleDocumentClickMove = (e) => {\n            e.preventDefault();\n            let clickPos = Timepicker._Pos(e);\n            let x = clickPos.x - this.x0;\n            let y = clickPos.y - this.y0;\n            this.moved = true;\n            this.setHand(x, y, false);\n        };\n        this._handleDocumentClickEnd = (e) => {\n            e.preventDefault();\n            document.removeEventListener('mouseup', this._handleDocumentClickEnd);\n            document.removeEventListener('touchend', this._handleDocumentClickEnd);\n            let clickPos = Timepicker._Pos(e);\n            let x = clickPos.x - this.x0;\n            let y = clickPos.y - this.y0;\n            if (this.moved && x === this.dx && y === this.dy) {\n                this.setHand(x, y);\n            }\n            if (this.currentView === 'hours') {\n                this.showView('minutes', this.options.duration / 2);\n            }\n            else if (this.options.autoClose) {\n                this.minutesView.classList.add('timepicker-dial-out');\n                setTimeout(() => {\n                    this.done();\n                }, this.options.duration / 2);\n            }\n            if (typeof this.options.onSelect === 'function') {\n                this.options.onSelect.call(this, this.hours, this.minutes);\n            }\n            // Unbind mousemove event\n            document.removeEventListener('mousemove', this._handleDocumentClickMove);\n            document.removeEventListener('touchmove', this._handleDocumentClickMove);\n        };\n        this._handleAmPmClick = (e) => {\n            const btnClicked = e.target;\n            this.amOrPm = btnClicked.classList.contains('am-btn') ? 'AM' : 'PM';\n            this._updateAmPmView();\n        };\n        /**\n         * Show hours or minutes view on timepicker.\n         * @param view The name of the view you want to switch to, 'hours' or 'minutes'.\n         */\n        this.showView = (view, delay = null) => {\n            if (view === 'minutes' && getComputedStyle(this.hoursView).visibility === 'visible') {\n                // raiseCallback(this.options.beforeHourSelect);\n            }\n            let isHours = view === 'hours', nextView = isHours ? this.hoursView : this.minutesView, hideView = isHours ? this.minutesView : this.hoursView;\n            this.currentView = view;\n            if (isHours) {\n                this.inputHours.classList.add('text-primary');\n                this.inputMinutes.classList.remove('text-primary');\n            }\n            else {\n                this.inputHours.classList.remove('text-primary');\n                this.inputMinutes.classList.add('text-primary');\n            }\n            // Transition view\n            hideView.classList.add('timepicker-dial-out');\n            nextView.style.visibility = 'visible';\n            nextView.classList.remove('timepicker-dial-out');\n            // Reset clock hand\n            this.resetClock(delay);\n            // After transitions ended\n            clearTimeout(this.toggleViewTimer);\n            this.toggleViewTimer = setTimeout(() => {\n                hideView.style.visibility = 'hidden';\n            }, this.options.duration);\n        };\n        this._inputFromTextField = () => {\n            const isHours = this.currentView === 'hours';\n            if (isHours) {\n                const value = parseInt(this.inputHours.value);\n                if (value > 0 && value < 13) {\n                    this.drawClockFromTimeInput(value, isHours);\n                    this.showView('minutes', this.options.duration / 2);\n                    this.hours = value;\n                    this.inputMinutes.focus();\n                }\n                else {\n                    const hour = new Date().getHours();\n                    this.inputHours.value = (hour % 12).toString();\n                }\n            }\n            else {\n                const value = parseInt(this.inputMinutes.value);\n                if (value >= 0 && value < 60) {\n                    this.inputMinutes.value = Timepicker._addLeadingZero(value);\n                    this.drawClockFromTimeInput(value, isHours);\n                    this.minutes = value;\n                    this.modalEl.querySelector('.confirmation-btns :nth-child(2)').focus();\n                }\n                else {\n                    const minutes = new Date().getMinutes();\n                    this.inputMinutes.value = Timepicker._addLeadingZero(minutes);\n                }\n            }\n        };\n        /**\n         * Open timepicker.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            this._updateTimeFromInput();\n            this.showView('hours');\n            this.modal.open(undefined);\n        };\n        /**\n         * Close timepicker.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            this.modal.close();\n        };\n        this.done = (e = null, clearValue = null) => {\n            // Set input value\n            let last = this.el.value;\n            let value = clearValue\n                ? ''\n                : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\n            this.time = value;\n            if (!clearValue && this.options.twelveHour) {\n                value = `${value} ${this.amOrPm}`;\n            }\n            this.el.value = value;\n            // Trigger change event\n            if (value !== last) {\n                this.el.dispatchEvent(new Event('change', { bubbles: true, cancelable: true, composed: true }));\n            }\n            this.close();\n            this.el.focus();\n        };\n        this.clear = () => {\n            this.done(null, true);\n        };\n        this.el.M_Timepicker = this;\n        this.options = Object.assign(Object.assign({}, Timepicker.defaults), options);\n        this.id = utils_1.Utils.guid();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupVariables();\n        this._setupEventHandlers();\n        this._clockSetup();\n        this._pickerSetup();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Timepicker.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Timepicker);\n    }\n    static _addLeadingZero(num) {\n        return (num < 10 ? '0' : '') + num;\n    }\n    static _createSVGEl(name) {\n        let svgNS = 'http://www.w3.org/2000/svg';\n        return document.createElementNS(svgNS, name);\n    }\n    static _Pos(e) {\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };\n        }\n        // mouse event\n        return { x: e.clientX, y: e.clientY };\n    }\n    static getInstance(el) {\n        return el.M_Timepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.el.M_Timepicker = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleInputClick);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.plate.addEventListener('mousedown', this._handleClockClickStart);\n        this.plate.addEventListener('touchstart', this._handleClockClickStart);\n        this.digitalClock.addEventListener('keyup', this._inputFromTextField);\n        this.inputHours.addEventListener('click', () => this.showView('hours'));\n        this.inputMinutes.addEventListener('click', () => this.showView('minutes'));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n    }\n    _insertHTMLIntoDOM() {\n        const template = document.createElement('template');\n        template.innerHTML = Timepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.modalEl.id = 'modal-' + this.id;\n        // Append popover to input by default\n        const optEl = this.options.container;\n        const containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n        if (this.options.container && !!containerEl) {\n            containerEl.append(this.modalEl);\n        }\n        else {\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onOpenStart: this.options.onOpenStart,\n            onOpenEnd: this.options.onOpenEnd,\n            onCloseStart: this.options.onCloseStart,\n            onCloseEnd: () => {\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this);\n                }\n                this.isOpen = false;\n            }\n        });\n    }\n    _setupVariables() {\n        this.currentView = 'hours';\n        this.vibrate = navigator.vibrate\n            ? 'vibrate'\n            : navigator.webkitVibrate\n                ? 'webkitVibrate'\n                : null;\n        this._canvas = this.modalEl.querySelector('.timepicker-canvas');\n        this.plate = this.modalEl.querySelector('.timepicker-plate');\n        this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\n        this.hoursView = this.modalEl.querySelector('.timepicker-hours');\n        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\n        this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\n        this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\n        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\n        this.footer = this.modalEl.querySelector('.timepicker-footer');\n        this.amOrPm = 'PM';\n    }\n    _createButton(text, visibility) {\n        const button = document.createElement('button');\n        button.classList.add('btn-flat', 'waves-effect');\n        button.style.visibility = visibility;\n        button.type = 'button';\n        button.tabIndex = this.options.twelveHour ? 3 : 1;\n        button.innerText = text;\n        return button;\n    }\n    _pickerSetup() {\n        const clearButton = this._createButton(this.options.i18n.clear, this.options.showClearBtn ? '' : 'hidden');\n        clearButton.classList.add('timepicker-clear');\n        clearButton.addEventListener('click', this.clear);\n        this.footer.appendChild(clearButton);\n        const confirmationBtnsContainer = document.createElement('div');\n        confirmationBtnsContainer.classList.add('confirmation-btns');\n        this.footer.append(confirmationBtnsContainer);\n        const cancelButton = this._createButton(this.options.i18n.cancel, '');\n        cancelButton.classList.add('timepicker-close');\n        cancelButton.addEventListener('click', this.close);\n        confirmationBtnsContainer.appendChild(cancelButton);\n        const doneButton = this._createButton(this.options.i18n.done, '');\n        doneButton.classList.add('timepicker-close');\n        doneButton.addEventListener('click', this.done);\n        confirmationBtnsContainer.appendChild(doneButton);\n    }\n    _clockSetup() {\n        if (this.options.twelveHour) {\n            // AM Button\n            this._amBtn = document.createElement('div');\n            this._amBtn.classList.add('am-btn');\n            this._amBtn.innerText = 'AM';\n            this._amBtn.addEventListener('click', this._handleAmPmClick);\n            this.spanAmPm.appendChild(this._amBtn);\n            // PM Button\n            this._pmBtn = document.createElement('div');\n            this._pmBtn.classList.add('pm-btn');\n            this._pmBtn.innerText = 'PM';\n            this._pmBtn.addEventListener('click', this._handleAmPmClick);\n            this.spanAmPm.appendChild(this._pmBtn);\n        }\n        this._buildHoursView();\n        this._buildMinutesView();\n        this._buildSVGClock();\n    }\n    _buildSVGClock() {\n        // Draw clock hands and others\n        let dialRadius = this.options.dialRadius;\n        let tickRadius = this.options.tickRadius;\n        let diameter = dialRadius * 2;\n        let svg = Timepicker._createSVGEl('svg');\n        svg.setAttribute('class', 'timepicker-svg');\n        svg.setAttribute('width', diameter.toString());\n        svg.setAttribute('height', diameter.toString());\n        let g = Timepicker._createSVGEl('g');\n        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n        let bearing = Timepicker._createSVGEl('circle');\n        bearing.setAttribute('class', 'timepicker-canvas-bearing');\n        bearing.setAttribute('cx', '0');\n        bearing.setAttribute('cy', '0');\n        bearing.setAttribute('r', '4');\n        let hand = Timepicker._createSVGEl('line');\n        hand.setAttribute('x1', '0');\n        hand.setAttribute('y1', '0');\n        let bg = Timepicker._createSVGEl('circle');\n        bg.setAttribute('class', 'timepicker-canvas-bg');\n        bg.setAttribute('r', tickRadius.toString());\n        g.appendChild(hand);\n        g.appendChild(bg);\n        g.appendChild(bearing);\n        svg.appendChild(g);\n        this._canvas.appendChild(svg);\n        this.hand = hand;\n        this.bg = bg;\n        this.bearing = bearing;\n        this.g = g;\n    }\n    _buildHoursView() {\n        const $tick = document.createElement('div');\n        $tick.classList.add('timepicker-tick');\n        // Hours view\n        if (this.options.twelveHour) {\n            for (let i = 1; i < 13; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const radius = this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n        else {\n            for (let i = 0; i < 24; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const inner = i > 0 && i < 13;\n                const radius = inner ? this.options.innerRadius : this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n    }\n    _buildMinutesView() {\n        const _tick = document.createElement('div');\n        _tick.classList.add('timepicker-tick');\n        // Minutes view\n        for (let i = 0; i < 60; i += 5) {\n            const tick = _tick.cloneNode(true);\n            const radian = (i / 30) * Math.PI;\n            tick.style.left =\n                this.options.dialRadius +\n                    Math.sin(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.style.top =\n                this.options.dialRadius -\n                    Math.cos(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.innerHTML = Timepicker._addLeadingZero(i);\n            this.minutesView.appendChild(tick);\n        }\n    }\n    _updateAmPmView() {\n        if (this.options.twelveHour) {\n            if (this.amOrPm === 'PM') {\n                this._amBtn.classList.remove('text-primary');\n                this._pmBtn.classList.add('text-primary');\n            }\n            else if (this.amOrPm === 'AM') {\n                this._amBtn.classList.add('text-primary');\n                this._pmBtn.classList.remove('text-primary');\n            }\n        }\n    }\n    _updateTimeFromInput() {\n        // Get the time\n        let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\n        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\n            if (value[1].toUpperCase().indexOf('AM') > 0) {\n                this.amOrPm = 'AM';\n            }\n            else {\n                this.amOrPm = 'PM';\n            }\n            value[1] = value[1].replace('AM', '').replace('PM', '');\n        }\n        if (value[0] === 'now') {\n            let now = new Date(+new Date() + this.options.fromNow);\n            value = [now.getHours().toString(), now.getMinutes().toString()];\n            if (this.options.twelveHour) {\n                this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\n            }\n        }\n        this.hours = +value[0] || 0;\n        this.minutes = +value[1] || 0;\n        this.inputHours.value = this.hours;\n        this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\n        this._updateAmPmView();\n    }\n    resetClock(delay) {\n        var _a;\n        let view = this.currentView, value = this[view], isHours = view === 'hours', unit = Math.PI / (isHours ? 6 : 30), radian = value * unit, radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius, x = Math.sin(radian) * radius, y = -Math.cos(radian) * radius, self = this;\n        if (delay) {\n            (_a = this.canvas) === null || _a === void 0 ? void 0 : _a.classList.add('timepicker-canvas-out');\n            setTimeout(() => {\n                var _a;\n                (_a = self.canvas) === null || _a === void 0 ? void 0 : _a.classList.remove('timepicker-canvas-out');\n                self.setHand(x, y);\n            }, delay);\n        }\n        else {\n            this.setHand(x, y);\n        }\n    }\n    drawClockFromTimeInput(value, isHours) {\n        const unit = Math.PI / (isHours ? 6 : 30);\n        const radian = value * unit;\n        let radius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    setHand(x, y, roundBy5 = false) {\n        let radian = Math.atan2(x, -y), isHours = this.currentView === 'hours', unit = Math.PI / (isHours || roundBy5 ? 6 : 30), z = Math.sqrt(x * x + y * y), inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2, radius = inner ? this.options.innerRadius : this.options.outerRadius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        // Radian should in range [0, 2PI]\n        if (radian < 0) {\n            radian = Math.PI * 2 + radian;\n        }\n        // Get the round value\n        let value = Math.round(radian / unit);\n        // Get the round radian\n        radian = value * unit;\n        // Correct the hours or minutes\n        if (this.options.twelveHour) {\n            if (isHours) {\n                if (value === 0)\n                    value = 12;\n            }\n            else {\n                if (roundBy5)\n                    value *= 5;\n                if (value === 60)\n                    value = 0;\n            }\n        }\n        else {\n            if (isHours) {\n                if (value === 12) {\n                    value = 0;\n                }\n                value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n            }\n            else {\n                if (roundBy5) {\n                    value *= 5;\n                }\n                if (value === 60) {\n                    value = 0;\n                }\n            }\n        }\n        // Once hours or minutes changed, vibrate the device\n        if (this[this.currentView] !== value) {\n            if (this.vibrate && this.options.vibrate) {\n                // Do not vibrate too frequently\n                if (!this.vibrateTimer) {\n                    navigator[this.vibrate](10);\n                    this.vibrateTimer = setTimeout(() => {\n                        this.vibrateTimer = null;\n                    }, 100);\n                }\n            }\n        }\n        this[this.currentView] = value;\n        if (isHours) {\n            this.inputHours.value = value.toString();\n        }\n        else {\n            this.inputMinutes.value = Timepicker._addLeadingZero(value);\n        }\n        // Set clock hand and others' position\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n}\nexports.Timepicker = Timepicker;\n(() => {\n    Timepicker._template = `\n      <div class=\"modal timepicker-modal\">\n        <div class=\"modal-content timepicker-container\">\n          <div class=\"timepicker-digital-display\">\n            <div class=\"timepicker-text-container\">\n              <div class=\"timepicker-display-column\">\n                <input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />\n                :\n                <input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />\n              </div>\n              <div class=\"timepicker-display-column timepicker-display-am-pm\">\n                <div class=\"timepicker-span-am-pm\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"timepicker-analog-display\">\n            <div class=\"timepicker-plate\">\n              <div class=\"timepicker-canvas\"></div>\n              <div class=\"timepicker-dial timepicker-hours\"></div>\n              <div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>\n            </div>\n            <div class=\"timepicker-footer\"></div>\n          </div>\n        </div>\n      </div`;\n})();\n\n\n/***/ }),\n\n/***/ \"./src/toasts.ts\":\n/*!***********************!*\\\n  !*** ./src/toasts.ts ***!\n  \\***********************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Toast = void 0;\nlet _defaults = {\n    text: '',\n    displayLength: 4000,\n    inDuration: 300,\n    outDuration: 375,\n    classes: '',\n    completeCallback: null,\n    activationPercent: 0.8\n};\nclass Toast {\n    constructor(options) {\n        this.options = Object.assign(Object.assign({}, Toast.defaults), options);\n        this.message = this.options.text;\n        this.panning = false;\n        this.timeRemaining = this.options.displayLength;\n        if (Toast._toasts.length === 0) {\n            Toast._createContainer();\n        }\n        // Create new toast\n        Toast._toasts.push(this);\n        let toastElement = this._createToast();\n        toastElement.M_Toast = this;\n        this.el = toastElement;\n        this._animateIn();\n        this._setTimer();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static getInstance(el) {\n        return el.M_Toast;\n    }\n    static _createContainer() {\n        const container = document.createElement('div');\n        container.setAttribute('id', 'toast-container');\n        // Add event handler\n        container.addEventListener('touchstart', Toast._onDragStart);\n        container.addEventListener('touchmove', Toast._onDragMove);\n        container.addEventListener('touchend', Toast._onDragEnd);\n        container.addEventListener('mousedown', Toast._onDragStart);\n        document.addEventListener('mousemove', Toast._onDragMove);\n        document.addEventListener('mouseup', Toast._onDragEnd);\n        document.body.appendChild(container);\n        Toast._container = container;\n    }\n    static _removeContainer() {\n        document.removeEventListener('mousemove', Toast._onDragMove);\n        document.removeEventListener('mouseup', Toast._onDragEnd);\n        Toast._container.remove();\n        Toast._container = null;\n    }\n    static _onDragStart(e) {\n        if (e.target && e.target.closest('.toast')) {\n            const toastElem = e.target.closest('.toast');\n            const toast = toastElem.M_Toast;\n            toast.panning = true;\n            Toast._draggedToast = toast;\n            toast.el.classList.add('panning');\n            toast.el.style.transition = '';\n            toast.startingXPos = Toast._xPos(e);\n            toast.time = Date.now();\n            toast.xPos = Toast._xPos(e);\n        }\n    }\n    static _onDragMove(e) {\n        if (!!Toast._draggedToast) {\n            e.preventDefault();\n            const toast = Toast._draggedToast;\n            toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\n            toast.xPos = Toast._xPos(e);\n            toast.velocityX = toast.deltaX / (Date.now() - toast.time);\n            toast.time = Date.now();\n            const totalDeltaX = toast.xPos - toast.startingXPos;\n            const activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            toast.el.style.transform = `translateX(${totalDeltaX}px)`;\n            toast.el.style.opacity = (1 - Math.abs(totalDeltaX / activationDistance)).toString();\n        }\n    }\n    static _onDragEnd() {\n        if (!!Toast._draggedToast) {\n            let toast = Toast._draggedToast;\n            toast.panning = false;\n            toast.el.classList.remove('panning');\n            let totalDeltaX = toast.xPos - toast.startingXPos;\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\n            // Remove toast\n            if (shouldBeDismissed) {\n                toast.wasSwiped = true;\n                toast.dismiss();\n                // Animate toast back to original position\n            }\n            else {\n                toast.el.style.transition = 'transform .2s, opacity .2s';\n                toast.el.style.transform = '';\n                toast.el.style.opacity = '';\n            }\n            Toast._draggedToast = null;\n        }\n    }\n    static _xPos(e) {\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    /**\n     * dismiss all toasts.\n     */\n    static dismissAll() {\n        for (let toastIndex in Toast._toasts) {\n            Toast._toasts[toastIndex].dismiss();\n        }\n    }\n    _createToast() {\n        const toast = this.options.toastId\n            ? document.getElementById(this.options.toastId)\n            : document.createElement('div');\n        toast.classList.add('toast');\n        toast.setAttribute('role', 'alert');\n        toast.setAttribute('aria-live', 'assertive');\n        toast.setAttribute('aria-atomic', 'true');\n        // Add custom classes onto toast\n        if (this.options.classes.length > 0) {\n            toast.classList.add(...this.options.classes.split(' '));\n        }\n        if (this.message)\n            toast.innerText = this.message;\n        Toast._container.appendChild(toast);\n        return toast;\n    }\n    _animateIn() {\n        // Animate toast in\n        this.el.style.display = \"\";\n        this.el.style.opacity = '0';\n        // easeOutCubic\n        this.el.style.transition = `\n      top ${this.options.inDuration}ms ease,\n      opacity ${this.options.inDuration}ms ease\n    `;\n        setTimeout(() => {\n            this.el.style.top = '0';\n            this.el.style.opacity = '1';\n        }, 1);\n    }\n    /**\n     * Create setInterval which automatically removes toast when timeRemaining >= 0\n     * has been reached.\n     */\n    _setTimer() {\n        if (this.timeRemaining !== Infinity) {\n            this.counterInterval = setInterval(() => {\n                // If toast is not being dragged, decrease its time remaining\n                if (!this.panning) {\n                    this.timeRemaining -= 20;\n                }\n                // Animate toast out\n                if (this.timeRemaining <= 0) {\n                    this.dismiss();\n                }\n            }, 20);\n        }\n    }\n    /**\n     * Dismiss toast with animation.\n     */\n    dismiss() {\n        window.clearInterval(this.counterInterval);\n        let activationDistance = this.el.offsetWidth * this.options.activationPercent;\n        if (this.wasSwiped) {\n            this.el.style.transition = 'transform .05s, opacity .05s';\n            this.el.style.transform = `translateX(${activationDistance}px)`;\n            this.el.style.opacity = '0';\n        }\n        // easeOutExpo\n        this.el.style.transition = `\n      margin ${this.options.outDuration}ms ease,\n      opacity ${this.options.outDuration}ms ease`;\n        setTimeout(() => {\n            this.el.style.opacity = '0';\n            this.el.style.marginTop = '-40px';\n        }, 1);\n        setTimeout(() => {\n            // Call the optional callback\n            if (typeof this.options.completeCallback === 'function') {\n                this.options.completeCallback();\n            }\n            // Remove toast from DOM\n            if (!this.options.toastId) {\n                this.el.remove();\n                Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\n                if (Toast._toasts.length === 0) {\n                    Toast._removeContainer();\n                }\n            }\n        }, this.options.outDuration);\n    }\n}\nexports.Toast = Toast;\n(() => {\n    Toast._toasts = [];\n    Toast._container = null;\n    Toast._draggedToast = null;\n})();\n\n\n/***/ }),\n\n/***/ \"./src/tooltip.ts\":\n/*!************************!*\\\n  !*** ./src/tooltip.ts ***!\n  \\************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tooltip = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    exitDelay: 200,\n    enterDelay: 0,\n    text: '',\n    margin: 5,\n    inDuration: 250,\n    outDuration: 200,\n    position: 'bottom',\n    transitionMovement: 10,\n    opacity: 1\n};\nclass Tooltip extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Tooltip);\n        /**\n         * Show tooltip.\n         */\n        this.open = (isManual) => {\n            if (this.isOpen)\n                return;\n            isManual = isManual === undefined ? true : undefined; // Default value true\n            this.isOpen = true;\n            // Update tooltip content with HTML attribute options\n            this.options = Object.assign(Object.assign({}, this.options), this._getAttributeOptions());\n            this._updateTooltipContent();\n            this._setEnterDelayTimeout(isManual);\n        };\n        /**\n         * Hide tooltip.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isHovered = false;\n            this.isFocused = false;\n            this.isOpen = false;\n            this._setExitDelayTimeout();\n        };\n        this._handleMouseEnter = () => {\n            this.isHovered = true;\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\n            this.open(false);\n        };\n        this._handleMouseLeave = () => {\n            this.isHovered = false;\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\n            this.close();\n        };\n        this._handleFocus = () => {\n            if (utils_1.Utils.tabPressed) {\n                this.isFocused = true;\n                this.open(false);\n            }\n        };\n        this._handleBlur = () => {\n            this.isFocused = false;\n            this.close();\n        };\n        this.el.M_Tooltip = this;\n        this.options = Object.assign(Object.assign(Object.assign({}, Tooltip.defaults), this._getAttributeOptions()), options);\n        this.isOpen = false;\n        this.isHovered = false;\n        this.isFocused = false;\n        this._appendTooltipEl();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Tooltip.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Tooltip);\n    }\n    static getInstance(el) {\n        return el.M_Tooltip;\n    }\n    destroy() {\n        this.tooltipEl.remove();\n        this._removeEventHandlers();\n        this.el.M_Tooltip = undefined;\n    }\n    _appendTooltipEl() {\n        this.tooltipEl = document.createElement('div');\n        this.tooltipEl.classList.add('material-tooltip');\n        const tooltipContentEl = this.options.tooltipId\n            ? document.getElementById(this.options.tooltipId)\n            : document.createElement('div');\n        this.tooltipEl.append(tooltipContentEl);\n        tooltipContentEl.style.display = \"\";\n        tooltipContentEl.classList.add('tooltip-content');\n        this._setTooltipContent(tooltipContentEl);\n        this.tooltipEl.appendChild(tooltipContentEl);\n        document.body.appendChild(this.tooltipEl);\n    }\n    _setTooltipContent(tooltipContentEl) {\n        if (this.options.tooltipId)\n            return;\n        tooltipContentEl.innerText = this.options.text;\n    }\n    _updateTooltipContent() {\n        this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('mouseenter', this._handleMouseEnter);\n        this.el.addEventListener('mouseleave', this._handleMouseLeave);\n        this.el.addEventListener('focus', this._handleFocus, true);\n        this.el.addEventListener('blur', this._handleBlur, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n        this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n        this.el.removeEventListener('focus', this._handleFocus, true);\n        this.el.removeEventListener('blur', this._handleBlur, true);\n    }\n    _setExitDelayTimeout() {\n        clearTimeout(this._exitDelayTimeout);\n        this._exitDelayTimeout = setTimeout(() => {\n            if (this.isHovered || this.isFocused)\n                return;\n            this._animateOut();\n        }, this.options.exitDelay);\n    }\n    _setEnterDelayTimeout(isManual) {\n        clearTimeout(this._enterDelayTimeout);\n        this._enterDelayTimeout = setTimeout(() => {\n            if (!this.isHovered && !this.isFocused && !isManual)\n                return;\n            this._animateIn();\n        }, this.options.enterDelay);\n    }\n    _positionTooltip() {\n        const tooltip = this.tooltipEl;\n        const origin = this.el, originHeight = origin.offsetHeight, originWidth = origin.offsetWidth, tooltipHeight = tooltip.offsetHeight, tooltipWidth = tooltip.offsetWidth, margin = this.options.margin;\n        (this.xMovement = 0), (this.yMovement = 0);\n        let targetTop = origin.getBoundingClientRect().top + utils_1.Utils.getDocumentScrollTop();\n        let targetLeft = origin.getBoundingClientRect().left + utils_1.Utils.getDocumentScrollLeft();\n        if (this.options.position === 'top') {\n            targetTop += -tooltipHeight - margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = -this.options.transitionMovement;\n        }\n        else if (this.options.position === 'right') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += originWidth + margin;\n            this.xMovement = this.options.transitionMovement;\n        }\n        else if (this.options.position === 'left') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += -tooltipWidth - margin;\n            this.xMovement = -this.options.transitionMovement;\n        }\n        else {\n            targetTop += originHeight + margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = this.options.transitionMovement;\n        }\n        const newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);\n        tooltip.style.top = newCoordinates.y + 'px';\n        tooltip.style.left = newCoordinates.x + 'px';\n    }\n    _repositionWithinScreen(x, y, width, height) {\n        const scrollLeft = utils_1.Utils.getDocumentScrollLeft();\n        const scrollTop = utils_1.Utils.getDocumentScrollTop();\n        let newX = x - scrollLeft;\n        let newY = y - scrollTop;\n        const bounding = {\n            left: newX,\n            top: newY,\n            width: width,\n            height: height\n        };\n        const offset = this.options.margin + this.options.transitionMovement;\n        const edges = utils_1.Utils.checkWithinContainer(document.body, bounding, offset);\n        if (edges.left) {\n            newX = offset;\n        }\n        else if (edges.right) {\n            newX -= newX + width - window.innerWidth;\n        }\n        if (edges.top) {\n            newY = offset;\n        }\n        else if (edges.bottom) {\n            newY -= newY + height - window.innerHeight;\n        }\n        return {\n            x: newX + scrollLeft,\n            y: newY + scrollTop\n        };\n    }\n    _animateIn() {\n        this._positionTooltip();\n        this.tooltipEl.style.visibility = 'visible';\n        const duration = this.options.inDuration;\n        // easeOutCubic\n        this.tooltipEl.style.transition = `\n      transform ${duration}ms ease-out,\n      opacity ${duration}ms ease-out`;\n        setTimeout(() => {\n            this.tooltipEl.style.transform = `translateX(${this.xMovement}px) translateY(${this.yMovement}px)`;\n            this.tooltipEl.style.opacity = (this.options.opacity || 1).toString();\n        }, 1);\n    }\n    _animateOut() {\n        const duration = this.options.outDuration;\n        // easeOutCubic\n        this.tooltipEl.style.transition = `\n      transform ${duration}ms ease-out,\n      opacity ${duration}ms ease-out`;\n        setTimeout(() => {\n            this.tooltipEl.style.transform = `translateX(0px) translateY(0px)`;\n            this.tooltipEl.style.opacity = '0';\n        }, 1);\n        /*\n        anim.remove(this.tooltipEl);\n        anim({\n          targets: this.tooltipEl,\n          opacity: 0,\n          translateX: 0,\n          translateY: 0,\n          duration: this.options.outDuration,\n          easing: 'easeOutCubic'\n        });\n        */\n    }\n    _getAttributeOptions() {\n        let attributeOptions = {};\n        const tooltipTextOption = this.el.getAttribute('data-tooltip');\n        const tooltipId = this.el.getAttribute('data-tooltip-id');\n        const positionOption = this.el.getAttribute('data-position');\n        if (tooltipTextOption) {\n            attributeOptions.text = tooltipTextOption;\n        }\n        if (positionOption) {\n            attributeOptions.position = positionOption;\n        }\n        if (tooltipId) {\n            attributeOptions.tooltipId = tooltipId;\n        }\n        return attributeOptions;\n    }\n}\nexports.Tooltip = Tooltip;\n\n\n/***/ }),\n\n/***/ \"./src/utils.ts\":\n/*!**********************!*\\\n  !*** ./src/utils.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Utils = void 0;\n/**\n * Class with utilitary functions for global usage.\n */\nclass Utils {\n    /**\n     * Detects when a key is pressed.\n     * @param e Event instance.\n     */\n    static docHandleKeydown(e) {\n        Utils.keyDown = true;\n        if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\n            Utils.tabPressed = true;\n        }\n    }\n    /**\n     * Detects when a key is released.\n     * @param e Event instance.\n     */\n    static docHandleKeyup(e) {\n        Utils.keyDown = false;\n        if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\n            Utils.tabPressed = false;\n        }\n    }\n    /**\n     * Detects when document is focused.\n     * @param e Event instance.\n     */\n    static docHandleFocus(e) {\n        if (Utils.keyDown) {\n            document.body.classList.add('keyboard-focused');\n        }\n    }\n    /**\n     * Detects when document is not focused.\n     * @param e Event instance.\n     */\n    static docHandleBlur(e) {\n        document.body.classList.remove('keyboard-focused');\n    }\n    /**\n     * Generates a unique string identifier.\n     */\n    static guid() {\n        const s4 = () => {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n    /**\n     * Checks for exceeded edges\n     * @param container Container element.\n     * @param bounding Bounding rect.\n     * @param offset Element offset.\n     */\n    static checkWithinContainer(container, bounding, offset) {\n        let edges = {\n            top: false,\n            right: false,\n            bottom: false,\n            left: false\n        };\n        let containerRect = container.getBoundingClientRect();\n        // If body element is smaller than viewport, use viewport height instead.\n        let containerBottom = container === document.body\n            ? Math.max(containerRect.bottom, window.innerHeight)\n            : containerRect.bottom;\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledY = bounding.top - scrollTop;\n        // Check for container and viewport for each edge\n        if (scrolledX < containerRect.left + offset || scrolledX < offset) {\n            edges.left = true;\n        }\n        if (scrolledX + bounding.width > containerRect.right - offset ||\n            scrolledX + bounding.width > window.innerWidth - offset) {\n            edges.right = true;\n        }\n        if (scrolledY < containerRect.top + offset || scrolledY < offset) {\n            edges.top = true;\n        }\n        if (scrolledY + bounding.height > containerBottom - offset ||\n            scrolledY + bounding.height > window.innerHeight - offset) {\n            edges.bottom = true;\n        }\n        return edges;\n    }\n    /**\n     * Checks if element can be aligned in multiple directions.\n     * @param el Element to be inspected.\n     * @param container Container element.\n     * @param bounding Bounding rect.\n     * @param offset Element offset.\n     */\n    static checkPossibleAlignments(el, container, bounding, offset) {\n        let canAlign = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            spaceOnTop: null,\n            spaceOnRight: null,\n            spaceOnBottom: null,\n            spaceOnLeft: null\n        };\n        let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\n        let containerRect = container.getBoundingClientRect();\n        let containerHeight = Math.min(containerRect.height, window.innerHeight);\n        let containerWidth = Math.min(containerRect.width, window.innerWidth);\n        let elOffsetRect = el.getBoundingClientRect();\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledYTopEdge = bounding.top - scrollTop;\n        let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\n        // Check for container and viewport for left\n        canAlign.spaceOnRight = !containerAllowsOverflow\n            ? containerWidth - (scrolledX + bounding.width)\n            : window.innerWidth - (elOffsetRect.left + bounding.width);\n        if (canAlign.spaceOnRight < 0) {\n            canAlign.left = false;\n        }\n        // Check for container and viewport for Right\n        canAlign.spaceOnLeft = !containerAllowsOverflow\n            ? scrolledX - bounding.width + elOffsetRect.width\n            : elOffsetRect.right - bounding.width;\n        if (canAlign.spaceOnLeft < 0) {\n            canAlign.right = false;\n        }\n        // Check for container and viewport for Top\n        canAlign.spaceOnBottom = !containerAllowsOverflow\n            ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\n            : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\n        if (canAlign.spaceOnBottom < 0) {\n            canAlign.top = false;\n        }\n        // Check for container and viewport for Bottom\n        canAlign.spaceOnTop = !containerAllowsOverflow\n            ? scrolledYBottomEdge - (bounding.height - offset)\n            : elOffsetRect.bottom - (bounding.height + offset);\n        if (canAlign.spaceOnTop < 0) {\n            canAlign.bottom = false;\n        }\n        return canAlign;\n    }\n    /**\n     * Retrieves target element id from trigger.\n     * @param trigger Trigger element.\n     */\n    static getIdFromTrigger(trigger) {\n        let id = trigger.dataset.target;\n        if (!id) {\n            id = trigger.getAttribute('href');\n            return id ? id.slice(1) : '';\n        }\n        return id;\n    }\n    /**\n     * Retrieves document scroll postion from top.\n     */\n    static getDocumentScrollTop() {\n        return window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    }\n    ;\n    /**\n     * Retrieves document scroll postion from left.\n     */\n    static getDocumentScrollLeft() {\n        return window.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    }\n    /**\n     * Fires the given function after a certain ammount of time.\n     * @param func Function to be fired.\n     * @param wait Wait time.\n     * @param options Additional options.\n     */\n    static throttle(func, wait, options = null) {\n        let context, args, result;\n        let timeout = null;\n        let previous = 0;\n        options || (options = {});\n        let later = function () {\n            previous = options.leading === false ? 0 : new Date().getTime();\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        };\n        return function () {\n            let now = new Date().getTime();\n            if (!previous && options.leading === false)\n                previous = now;\n            let remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0) {\n                clearTimeout(timeout);\n                timeout = null;\n                previous = now;\n                result = func.apply(context, args);\n                context = args = null;\n            }\n            else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n}\nexports.Utils = Utils;\n/** Specifies wether tab is pressed or not. */\nUtils.tabPressed = false;\n/** Specifies wether there is a key pressed. */\nUtils.keyDown = false;\n/**\n * Key maps.\n */\nUtils.keys = {\n    TAB: ['Tab'],\n    ENTER: ['Enter'],\n    ESC: ['Escape', 'Esc'],\n    BACKSPACE: ['Backspace'],\n    ARROW_UP: ['ArrowUp', 'Up'],\n    ARROW_DOWN: ['ArrowDown', 'Down'],\n    ARROW_LEFT: ['ArrowLeft', 'Left'],\n    ARROW_RIGHT: ['ArrowRight', 'Right'],\n    DELETE: ['Delete', 'Del'],\n};\n\n\n/***/ }),\n\n/***/ \"./src/waves.ts\":\n/*!**********************!*\\\n  !*** ./src/waves.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Waves = void 0;\nclass Waves {\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    // https://phoenix-dx.com/css-techniques-for-material-ripple-effect/\n    static renderWaveEffect(targetElement, position = null, color = null) {\n        const isCentered = position === null;\n        const duration = 500;\n        let animationFrame, animationStart;\n        const animationStep = function (timestamp) {\n            if (!animationStart) {\n                animationStart = timestamp;\n            }\n            const frame = timestamp - animationStart;\n            if (frame < duration) {\n                const easing = (frame / duration) * (2 - (frame / duration));\n                const circle = isCentered ? 'circle at 50% 50%' : `circle at ${position.x}px ${position.y}px`;\n                const waveColor = `rgba(${(color === null || color === void 0 ? void 0 : color.r) || 0}, ${(color === null || color === void 0 ? void 0 : color.g) || 0}, ${(color === null || color === void 0 ? void 0 : color.b) || 0}, ${0.3 * (1 - easing)})`;\n                const stop = 90 * easing + \"%\";\n                targetElement.style.backgroundImage = \"radial-gradient(\" + circle + \", \" + waveColor + \" \" + stop + \", transparent \" + stop + \")\";\n                animationFrame = window.requestAnimationFrame(animationStep);\n            }\n            else {\n                targetElement.style.backgroundImage = 'none';\n                window.cancelAnimationFrame(animationFrame);\n            }\n        };\n        animationFrame = window.requestAnimationFrame(animationStep);\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const el = trigger.closest('.waves-effect');\n                if (el && el.contains(trigger)) {\n                    const isCircular = el.classList.contains('waves-circle');\n                    const x = e.pageX - Waves._offset(el).left;\n                    const y = e.pageY - Waves._offset(el).top;\n                    let color = null;\n                    if (el.classList.contains('waves-light'))\n                        color = { r: 255, g: 255, b: 255 };\n                    Waves.renderWaveEffect(el, isCircular ? null : { x, y }, color);\n                }\n            });\n        });\n    }\n}\nexports.Waves = Waves;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(() => {\nvar exports = __webpack_exports__;\n/*!***********************!*\\\n  !*** ./src/global.ts ***!\n  \\***********************/\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.M = void 0;\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nconst buttons_1 = __webpack_require__(/*! ./buttons */ \"./src/buttons.ts\");\nconst cards_1 = __webpack_require__(/*! ./cards */ \"./src/cards.ts\");\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst characterCounter_1 = __webpack_require__(/*! ./characterCounter */ \"./src/characterCounter.ts\");\nconst chips_1 = __webpack_require__(/*! ./chips */ \"./src/chips.ts\");\nconst collapsible_1 = __webpack_require__(/*! ./collapsible */ \"./src/collapsible.ts\");\nconst datepicker_1 = __webpack_require__(/*! ./datepicker */ \"./src/datepicker.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst forms_1 = __webpack_require__(/*! ./forms */ \"./src/forms.ts\");\nconst materialbox_1 = __webpack_require__(/*! ./materialbox */ \"./src/materialbox.ts\");\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst parallax_1 = __webpack_require__(/*! ./parallax */ \"./src/parallax.ts\");\nconst pushpin_1 = __webpack_require__(/*! ./pushpin */ \"./src/pushpin.ts\");\nconst scrollspy_1 = __webpack_require__(/*! ./scrollspy */ \"./src/scrollspy.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nconst sidenav_1 = __webpack_require__(/*! ./sidenav */ \"./src/sidenav.ts\");\nconst slider_1 = __webpack_require__(/*! ./slider */ \"./src/slider.ts\");\nconst tabs_1 = __webpack_require__(/*! ./tabs */ \"./src/tabs.ts\");\nconst tapTarget_1 = __webpack_require__(/*! ./tapTarget */ \"./src/tapTarget.ts\");\nconst timepicker_1 = __webpack_require__(/*! ./timepicker */ \"./src/timepicker.ts\");\nconst toasts_1 = __webpack_require__(/*! ./toasts */ \"./src/toasts.ts\");\nconst tooltip_1 = __webpack_require__(/*! ./tooltip */ \"./src/tooltip.ts\");\nconst waves_1 = __webpack_require__(/*! ./waves */ \"./src/waves.ts\");\nconst range_1 = __webpack_require__(/*! ./range */ \"./src/range.ts\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nclass M {\n    /**\n     * Automatically initialize components.\n     * @param context Root element to initialize. Defaults to `document.body`.\n     */\n    static AutoInit(context = document.body) {\n        let registry = {\n            Autocomplete: context.querySelectorAll('.autocomplete:not(.no-autoinit)'),\n            Carousel: context.querySelectorAll('.carousel:not(.no-autoinit)'),\n            Chips: context.querySelectorAll('.chips:not(.no-autoinit)'),\n            Collapsible: context.querySelectorAll('.collapsible:not(.no-autoinit)'),\n            Datepicker: context.querySelectorAll('.datepicker:not(.no-autoinit)'),\n            Dropdown: context.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\n            Materialbox: context.querySelectorAll('.materialboxed:not(.no-autoinit)'),\n            Modal: context.querySelectorAll('.modal:not(.no-autoinit)'),\n            Parallax: context.querySelectorAll('.parallax:not(.no-autoinit)'),\n            Pushpin: context.querySelectorAll('.pushpin:not(.no-autoinit)'),\n            ScrollSpy: context.querySelectorAll('.scrollspy:not(.no-autoinit)'),\n            FormSelect: context.querySelectorAll('select:not(.no-autoinit)'),\n            Sidenav: context.querySelectorAll('.sidenav:not(.no-autoinit)'),\n            Tabs: context.querySelectorAll('.tabs:not(.no-autoinit)'),\n            TapTarget: context.querySelectorAll('.tap-target:not(.no-autoinit)'),\n            Timepicker: context.querySelectorAll('.timepicker:not(.no-autoinit)'),\n            Tooltip: context.querySelectorAll('.tooltipped:not(.no-autoinit)'),\n            FloatingActionButton: context.querySelectorAll('.fixed-action-btn:not(.no-autoinit)'),\n        };\n        M.Autocomplete.init(registry.Autocomplete, {});\n        M.Carousel.init(registry.Carousel, {});\n        M.Chips.init(registry.Chips, {});\n        M.Collapsible.init(registry.Collapsible, {});\n        M.Datepicker.init(registry.Datepicker, {});\n        M.Dropdown.init(registry.Dropdown, {});\n        M.Materialbox.init(registry.Materialbox, {});\n        M.Modal.init(registry.Modal, {});\n        M.Parallax.init(registry.Parallax, {});\n        M.Pushpin.init(registry.Pushpin, {});\n        M.ScrollSpy.init(registry.ScrollSpy, {});\n        M.FormSelect.init(registry.FormSelect, {});\n        M.Sidenav.init(registry.Sidenav, {});\n        M.Tabs.init(registry.Tabs, {});\n        M.TapTarget.init(registry.TapTarget, {});\n        M.Timepicker.init(registry.Timepicker, {});\n        M.Tooltip.init(registry.Tooltip, {});\n        M.FloatingActionButton.init(registry.FloatingActionButton, {});\n    }\n}\nexports.M = M;\nM.version = '2.0.3';\nM.Autocomplete = autocomplete_1.Autocomplete;\nM.Tabs = tabs_1.Tabs;\nM.Carousel = carousel_1.Carousel;\nM.Dropdown = dropdown_1.Dropdown;\nM.FloatingActionButton = buttons_1.FloatingActionButton;\nM.Chips = chips_1.Chips;\nM.Collapsible = collapsible_1.Collapsible;\nM.Datepicker = datepicker_1.Datepicker;\nM.CharacterCounter = characterCounter_1.CharacterCounter;\nM.Forms = forms_1.Forms;\nM.FormSelect = select_1.FormSelect;\nM.Modal = modal_1.Modal;\nM.Pushpin = pushpin_1.Pushpin;\nM.Materialbox = materialbox_1.Materialbox;\nM.Parallax = parallax_1.Parallax;\nM.Slider = slider_1.Slider;\nM.Timepicker = timepicker_1.Timepicker;\n/** Creates a toast. */\nM.toast = (opt) => new toasts_1.Toast(opt);\nM.Tooltip = tooltip_1.Tooltip;\nM.Sidenav = sidenav_1.Sidenav;\nM.TapTarget = tapTarget_1.TapTarget;\nM.ScrollSpy = scrollspy_1.ScrollSpy;\nM.Range = range_1.Range;\nM.Waves = waves_1.Waves;\nM.Utils = utils_1.Utils;\n(() => {\n    document.addEventListener('keydown', utils_1.Utils.docHandleKeydown, true);\n    document.addEventListener('keyup', utils_1.Utils.docHandleKeyup, true);\n    document.addEventListener('focus', utils_1.Utils.docHandleFocus, true);\n    document.addEventListener('blur', utils_1.Utils.docHandleBlur, true);\n    cards_1.Cards.Init();\n    forms_1.Forms.Init();\n    chips_1.Chips.Init();\n    waves_1.Waves.Init();\n    range_1.Range.Init();\n})();\n\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Interactive_parent, _Interactive_add_panel_id, _Interactive_add_panel_el;\nimport { M } from '@materializecss/materialize';\nclass Interactive {\n    constructor(parent, add_panel_id) {\n        _Interactive_parent.set(this, void 0);\n        _Interactive_add_panel_id.set(this, void 0);\n        _Interactive_add_panel_el.set(this, void 0);\n        __classPrivateFieldSet(this, _Interactive_parent, parent, \"f\");\n        __classPrivateFieldSet(this, _Interactive_add_panel_id, add_panel_id, \"f\");\n    }\n    get add_panel_button() {\n        if (!__classPrivateFieldGet(this, _Interactive_add_panel_el, \"f\")) {\n            __classPrivateFieldSet(this, _Interactive_add_panel_el, document.getElementById(__classPrivateFieldGet(this, _Interactive_add_panel_id, \"f\")), \"f\");\n            M.FloatingActionButton.init(__classPrivateFieldGet(this, _Interactive_add_panel_el, \"f\"));\n        }\n        return __classPrivateFieldGet(this, _Interactive_add_panel_el, \"f\");\n    }\n    setup() {\n        this.add_panel_button.addEventListener(\"click\", __classPrivateFieldGet(this, _Interactive_parent, \"f\").grid.add_panel.bind(__classPrivateFieldGet(this, _Interactive_parent, \"f\").grid));\n    }\n}\n_Interactive_parent = new WeakMap(), _Interactive_add_panel_id = new WeakMap(), _Interactive_add_panel_el = new WeakMap();\nexport default Interactive;\n","/**\n * utils.ts 10.0.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\n/** checks for obsolete method names */\n// eslint-disable-next-line\nexport function obsolete(self, f, oldName, newName, rev) {\n    let wrapper = (...args) => {\n        console.warn('gridstack.js: Function `' + oldName + '` is deprecated in ' + rev + ' and has been replaced ' +\n            'with `' + newName + '`. It will be **removed** in a future release');\n        return f.apply(self, args);\n    };\n    wrapper.prototype = f.prototype;\n    return wrapper;\n}\n/** checks for obsolete grid options (can be used for any fields, but msg is about options) */\nexport function obsoleteOpts(opts, oldName, newName, rev) {\n    if (opts[oldName] !== undefined) {\n        opts[newName] = opts[oldName];\n        console.warn('gridstack.js: Option `' + oldName + '` is deprecated in ' + rev + ' and has been replaced with `' +\n            newName + '`. It will be **removed** in a future release');\n    }\n}\n/** checks for obsolete grid options which are gone */\nexport function obsoleteOptsDel(opts, oldName, rev, info) {\n    if (opts[oldName] !== undefined) {\n        console.warn('gridstack.js: Option `' + oldName + '` is deprecated in ' + rev + info);\n    }\n}\n/** checks for obsolete Jquery element attributes */\nexport function obsoleteAttr(el, oldName, newName, rev) {\n    let oldAttr = el.getAttribute(oldName);\n    if (oldAttr !== null) {\n        el.setAttribute(newName, oldAttr);\n        console.warn('gridstack.js: attribute `' + oldName + '`=' + oldAttr + ' is deprecated on this object in ' + rev + ' and has been replaced with `' +\n            newName + '`. It will be **removed** in a future release');\n    }\n}\n/**\n * Utility methods\n */\nexport class Utils {\n    /** convert a potential selector into actual list of html elements. optional root which defaults to document (for shadow dom) */\n    static getElements(els, root = document) {\n        if (typeof els === 'string') {\n            const doc = ('getElementById' in root) ? root : undefined;\n            // Note: very common for people use to id='1,2,3' which is only legal as HTML5 id, but not CSS selectors\n            // so if we start with a number, assume it's an id and just return that one item...\n            // see https://github.com/gridstack/gridstack.js/issues/2234#issuecomment-1523796562\n            if (doc && !isNaN(+els[0])) { // start with digit\n                const el = doc.getElementById(els);\n                return el ? [el] : [];\n            }\n            let list = root.querySelectorAll(els);\n            if (!list.length && els[0] !== '.' && els[0] !== '#') {\n                list = root.querySelectorAll('.' + els);\n                if (!list.length) {\n                    list = root.querySelectorAll('#' + els);\n                }\n            }\n            return Array.from(list);\n        }\n        return [els];\n    }\n    /** convert a potential selector into actual single element. optional root which defaults to document (for shadow dom) */\n    static getElement(els, root = document) {\n        if (typeof els === 'string') {\n            const doc = ('getElementById' in root) ? root : undefined;\n            if (!els.length)\n                return null;\n            if (doc && els[0] === '#') {\n                return doc.getElementById(els.substring(1));\n            }\n            if (els[0] === '#' || els[0] === '.' || els[0] === '[') {\n                return root.querySelector(els);\n            }\n            // if we start with a digit, assume it's an id (error calling querySelector('#1')) as class are not valid CSS\n            if (doc && !isNaN(+els[0])) { // start with digit\n                return doc.getElementById(els);\n            }\n            // finally try string, then id, then class\n            let el = root.querySelector(els);\n            if (doc && !el) {\n                el = doc.getElementById(els);\n            }\n            if (!el) {\n                el = root.querySelector('.' + els);\n            }\n            return el;\n        }\n        return els;\n    }\n    /** true if we should resize to content */\n    static shouldSizeToContent(n) {\n        return n?.grid && (!!n.sizeToContent || (n.grid.opts.sizeToContent && n.sizeToContent !== false));\n    }\n    /** returns true if a and b overlap */\n    static isIntercepted(a, b) {\n        return !(a.y >= b.y + b.h || a.y + a.h <= b.y || a.x + a.w <= b.x || a.x >= b.x + b.w);\n    }\n    /** returns true if a and b touch edges or corners */\n    static isTouching(a, b) {\n        return Utils.isIntercepted(a, { x: b.x - 0.5, y: b.y - 0.5, w: b.w + 1, h: b.h + 1 });\n    }\n    /** returns the area a and b overlap */\n    static areaIntercept(a, b) {\n        let x0 = (a.x > b.x) ? a.x : b.x;\n        let x1 = (a.x + a.w < b.x + b.w) ? a.x + a.w : b.x + b.w;\n        if (x1 <= x0)\n            return 0; // no overlap\n        let y0 = (a.y > b.y) ? a.y : b.y;\n        let y1 = (a.y + a.h < b.y + b.h) ? a.y + a.h : b.y + b.h;\n        if (y1 <= y0)\n            return 0; // no overlap\n        return (x1 - x0) * (y1 - y0);\n    }\n    /** returns the area */\n    static area(a) {\n        return a.w * a.h;\n    }\n    /**\n     * Sorts array of nodes\n     * @param nodes array to sort\n     * @param dir 1 for asc, -1 for desc (optional)\n     * @param width width of the grid. If undefined the width will be calculated automatically (optional).\n     **/\n    static sort(nodes, dir = 1, column) {\n        column = column || nodes.reduce((col, n) => Math.max(n.x + n.w, col), 0) || 12;\n        if (dir === -1)\n            return nodes.sort((a, b) => ((b.x ?? 1000) + (b.y ?? 1000) * column) - ((a.x ?? 1000) + (a.y ?? 1000) * column));\n        else\n            return nodes.sort((b, a) => ((b.x ?? 1000) + (b.y ?? 1000) * column) - ((a.x ?? 1000) + (a.y ?? 1000) * column));\n    }\n    /** find an item by id */\n    static find(nodes, id) {\n        return id ? nodes.find(n => n.id === id) : undefined;\n    }\n    /**\n     * creates a style sheet with style id under given parent\n     * @param id will set the 'gs-style-id' attribute to that id\n     * @param parent to insert the stylesheet as first child,\n     * if none supplied it will be appended to the document head instead.\n     */\n    static createStylesheet(id, parent, options) {\n        let style = document.createElement('style');\n        const nonce = options?.nonce;\n        if (nonce)\n            style.nonce = nonce;\n        style.setAttribute('type', 'text/css');\n        style.setAttribute('gs-style-id', id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (style.styleSheet) { // TODO: only CSSImportRule have that and different beast ??\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            style.styleSheet.cssText = '';\n        }\n        else {\n            style.appendChild(document.createTextNode('')); // WebKit hack\n        }\n        if (!parent) {\n            // default to head\n            parent = document.getElementsByTagName('head')[0];\n            parent.appendChild(style);\n        }\n        else {\n            parent.insertBefore(style, parent.firstChild);\n        }\n        return style.sheet;\n    }\n    /** removed the given stylesheet id */\n    static removeStylesheet(id, parent) {\n        const target = parent || document;\n        let el = target.querySelector('STYLE[gs-style-id=' + id + ']');\n        if (el && el.parentNode)\n            el.remove();\n    }\n    /** inserts a CSS rule */\n    static addCSSRule(sheet, selector, rules) {\n        if (typeof sheet.addRule === 'function') {\n            sheet.addRule(selector, rules);\n        }\n        else if (typeof sheet.insertRule === 'function') {\n            sheet.insertRule(`${selector}{${rules}}`);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static toBool(v) {\n        if (typeof v === 'boolean') {\n            return v;\n        }\n        if (typeof v === 'string') {\n            v = v.toLowerCase();\n            return !(v === '' || v === 'no' || v === 'false' || v === '0');\n        }\n        return Boolean(v);\n    }\n    static toNumber(value) {\n        return (value === null || value.length === 0) ? undefined : Number(value);\n    }\n    static parseHeight(val) {\n        let h;\n        let unit = 'px';\n        if (typeof val === 'string') {\n            if (val === 'auto' || val === '')\n                h = 0;\n            else {\n                let match = val.match(/^(-[0-9]+\\.[0-9]+|[0-9]*\\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);\n                if (!match) {\n                    throw new Error(`Invalid height val = ${val}`);\n                }\n                unit = match[2] || 'px';\n                h = parseFloat(match[1]);\n            }\n        }\n        else {\n            h = val;\n        }\n        return { h, unit };\n    }\n    /** copies unset fields in target to use the given default sources values */\n    // eslint-disable-next-line\n    static defaults(target, ...sources) {\n        sources.forEach(source => {\n            for (const key in source) {\n                if (!source.hasOwnProperty(key))\n                    return;\n                if (target[key] === null || target[key] === undefined) {\n                    target[key] = source[key];\n                }\n                else if (typeof source[key] === 'object' && typeof target[key] === 'object') {\n                    // property is an object, recursively add it's field over... #1373\n                    this.defaults(target[key], source[key]);\n                }\n            }\n        });\n        return target;\n    }\n    /** given 2 objects return true if they have the same values. Checks for Object {} having same fields and values (just 1 level down) */\n    static same(a, b) {\n        if (typeof a !== 'object')\n            return a == b;\n        if (typeof a !== typeof b)\n            return false;\n        // else we have object, check just 1 level deep for being same things...\n        if (Object.keys(a).length !== Object.keys(b).length)\n            return false;\n        for (const key in a) {\n            if (a[key] !== b[key])\n                return false;\n        }\n        return true;\n    }\n    /** copies over b size & position (GridStackPosition), and optionally min/max as well */\n    static copyPos(a, b, doMinMax = false) {\n        if (b.x !== undefined)\n            a.x = b.x;\n        if (b.y !== undefined)\n            a.y = b.y;\n        if (b.w !== undefined)\n            a.w = b.w;\n        if (b.h !== undefined)\n            a.h = b.h;\n        if (doMinMax) {\n            if (b.minW)\n                a.minW = b.minW;\n            if (b.minH)\n                a.minH = b.minH;\n            if (b.maxW)\n                a.maxW = b.maxW;\n            if (b.maxH)\n                a.maxH = b.maxH;\n        }\n        return a;\n    }\n    /** true if a and b has same size & position */\n    static samePos(a, b) {\n        return a && b && a.x === b.x && a.y === b.y && (a.w || 1) === (b.w || 1) && (a.h || 1) === (b.h || 1);\n    }\n    /** given a node, makes sure it's min/max are valid */\n    static sanitizeMinMax(node) {\n        // remove 0, undefine, null\n        if (!node.minW) {\n            delete node.minW;\n        }\n        if (!node.minH) {\n            delete node.minH;\n        }\n        if (!node.maxW) {\n            delete node.maxW;\n        }\n        if (!node.maxH) {\n            delete node.maxH;\n        }\n    }\n    /** removes field from the first object if same as the second objects (like diffing) and internal '_' for saving */\n    static removeInternalAndSame(a, b) {\n        if (typeof a !== 'object' || typeof b !== 'object')\n            return;\n        for (let key in a) {\n            let val = a[key];\n            if (key[0] === '_' || val === b[key]) {\n                delete a[key];\n            }\n            else if (val && typeof val === 'object' && b[key] !== undefined) {\n                for (let i in val) {\n                    if (val[i] === b[key][i] || i[0] === '_') {\n                        delete val[i];\n                    }\n                }\n                if (!Object.keys(val).length) {\n                    delete a[key];\n                }\n            }\n        }\n    }\n    /** removes internal fields '_' and default values for saving */\n    static removeInternalForSave(n, removeEl = true) {\n        for (let key in n) {\n            if (key[0] === '_' || n[key] === null || n[key] === undefined)\n                delete n[key];\n        }\n        delete n.grid;\n        if (removeEl)\n            delete n.el;\n        // delete default values (will be re-created on read)\n        if (!n.autoPosition)\n            delete n.autoPosition;\n        if (!n.noResize)\n            delete n.noResize;\n        if (!n.noMove)\n            delete n.noMove;\n        if (!n.locked)\n            delete n.locked;\n        if (n.w === 1 || n.w === n.minW)\n            delete n.w;\n        if (n.h === 1 || n.h === n.minH)\n            delete n.h;\n    }\n    /** return the closest parent (or itself) matching the given class */\n    // static closestUpByClass(el: HTMLElement, name: string): HTMLElement {\n    //   while (el) {\n    //     if (el.classList.contains(name)) return el;\n    //     el = el.parentElement\n    //   }\n    //   return null;\n    // }\n    /** delay calling the given function for given delay, preventing new calls from happening while waiting */\n    static throttle(func, delay) {\n        let isWaiting = false;\n        return (...args) => {\n            if (!isWaiting) {\n                isWaiting = true;\n                setTimeout(() => { func(...args); isWaiting = false; }, delay);\n            }\n        };\n    }\n    static removePositioningStyles(el) {\n        let style = el.style;\n        if (style.position) {\n            style.removeProperty('position');\n        }\n        if (style.left) {\n            style.removeProperty('left');\n        }\n        if (style.top) {\n            style.removeProperty('top');\n        }\n        if (style.width) {\n            style.removeProperty('width');\n        }\n        if (style.height) {\n            style.removeProperty('height');\n        }\n    }\n    /** @internal returns the passed element if scrollable, else the closest parent that will, up to the entire document scrolling element */\n    static getScrollElement(el) {\n        if (!el)\n            return document.scrollingElement || document.documentElement; // IE support\n        const style = getComputedStyle(el);\n        const overflowRegex = /(auto|scroll)/;\n        if (overflowRegex.test(style.overflow + style.overflowY)) {\n            return el;\n        }\n        else {\n            return this.getScrollElement(el.parentElement);\n        }\n    }\n    /** @internal */\n    static updateScrollPosition(el, position, distance) {\n        // is widget in view?\n        let rect = el.getBoundingClientRect();\n        let innerHeightOrClientHeight = (window.innerHeight || document.documentElement.clientHeight);\n        if (rect.top < 0 ||\n            rect.bottom > innerHeightOrClientHeight) {\n            // set scrollTop of first parent that scrolls\n            // if parent is larger than el, set as low as possible\n            // to get entire widget on screen\n            let offsetDiffDown = rect.bottom - innerHeightOrClientHeight;\n            let offsetDiffUp = rect.top;\n            let scrollEl = this.getScrollElement(el);\n            if (scrollEl !== null) {\n                let prevScroll = scrollEl.scrollTop;\n                if (rect.top < 0 && distance < 0) {\n                    // moving up\n                    if (el.offsetHeight > innerHeightOrClientHeight) {\n                        scrollEl.scrollTop += distance;\n                    }\n                    else {\n                        scrollEl.scrollTop += Math.abs(offsetDiffUp) > Math.abs(distance) ? distance : offsetDiffUp;\n                    }\n                }\n                else if (distance > 0) {\n                    // moving down\n                    if (el.offsetHeight > innerHeightOrClientHeight) {\n                        scrollEl.scrollTop += distance;\n                    }\n                    else {\n                        scrollEl.scrollTop += offsetDiffDown > distance ? distance : offsetDiffDown;\n                    }\n                }\n                // move widget y by amount scrolled\n                position.top += scrollEl.scrollTop - prevScroll;\n            }\n        }\n    }\n    /**\n     * @internal Function used to scroll the page.\n     *\n     * @param event `MouseEvent` that triggers the resize\n     * @param el `HTMLElement` that's being resized\n     * @param distance Distance from the V edges to start scrolling\n     */\n    static updateScrollResize(event, el, distance) {\n        const scrollEl = this.getScrollElement(el);\n        const height = scrollEl.clientHeight;\n        // #1727 event.clientY is relative to viewport, so must compare this against position of scrollEl getBoundingClientRect().top\n        // #1745 Special situation if scrollEl is document 'html': here browser spec states that\n        // clientHeight is height of viewport, but getBoundingClientRect() is rectangle of html element;\n        // this discrepancy arises because in reality scrollbar is attached to viewport, not html element itself.\n        const offsetTop = (scrollEl === this.getScrollElement()) ? 0 : scrollEl.getBoundingClientRect().top;\n        const pointerPosY = event.clientY - offsetTop;\n        const top = pointerPosY < distance;\n        const bottom = pointerPosY > height - distance;\n        if (top) {\n            // This also can be done with a timeout to keep scrolling while the mouse is\n            // in the scrolling zone. (will have smoother behavior)\n            scrollEl.scrollBy({ behavior: 'smooth', top: pointerPosY - distance });\n        }\n        else if (bottom) {\n            scrollEl.scrollBy({ behavior: 'smooth', top: distance - (height - pointerPosY) });\n        }\n    }\n    /** single level clone, returning a new object with same top fields. This will share sub objects and arrays */\n    static clone(obj) {\n        if (obj === null || obj === undefined || typeof (obj) !== 'object') {\n            return obj;\n        }\n        // return Object.assign({}, obj);\n        if (obj instanceof Array) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return [...obj];\n        }\n        return { ...obj };\n    }\n    /**\n     * Recursive clone version that returns a full copy, checking for nested objects and arrays ONLY.\n     * Note: this will use as-is any key starting with double __ (and not copy inside) some lib have circular dependencies.\n     */\n    static cloneDeep(obj) {\n        // list of fields we will skip during cloneDeep (nested objects, other internal)\n        const skipFields = ['parentGrid', 'el', 'grid', 'subGrid', 'engine'];\n        // return JSON.parse(JSON.stringify(obj)); // doesn't work with date format ?\n        const ret = Utils.clone(obj);\n        for (const key in ret) {\n            // NOTE: we don't support function/circular dependencies so skip those properties for now...\n            if (ret.hasOwnProperty(key) && typeof (ret[key]) === 'object' && key.substring(0, 2) !== '__' && !skipFields.find(k => k === key)) {\n                ret[key] = Utils.cloneDeep(obj[key]);\n            }\n        }\n        return ret;\n    }\n    /** deep clone the given HTML node, removing teh unique id field */\n    static cloneNode(el) {\n        const node = el.cloneNode(true);\n        node.removeAttribute('id');\n        return node;\n    }\n    static appendTo(el, parent) {\n        let parentNode;\n        if (typeof parent === 'string') {\n            parentNode = Utils.getElement(parent);\n        }\n        else {\n            parentNode = parent;\n        }\n        if (parentNode) {\n            parentNode.appendChild(el);\n        }\n    }\n    // public static setPositionRelative(el: HTMLElement): void {\n    //   if (!(/^(?:r|a|f)/).test(getComputedStyle(el).position)) {\n    //     el.style.position = \"relative\";\n    //   }\n    // }\n    static addElStyles(el, styles) {\n        if (styles instanceof Object) {\n            for (const s in styles) {\n                if (styles.hasOwnProperty(s)) {\n                    if (Array.isArray(styles[s])) {\n                        // support fallback value\n                        styles[s].forEach(val => {\n                            el.style[s] = val;\n                        });\n                    }\n                    else {\n                        el.style[s] = styles[s];\n                    }\n                }\n            }\n        }\n    }\n    static initEvent(e, info) {\n        const evt = { type: info.type };\n        const obj = {\n            button: 0,\n            which: 0,\n            buttons: 1,\n            bubbles: true,\n            cancelable: true,\n            target: info.target ? info.target : e.target\n        };\n        // don't check for `instanceof DragEvent` as Safari use MouseEvent #1540\n        if (e.dataTransfer) {\n            evt['dataTransfer'] = e.dataTransfer; // workaround 'readonly' field.\n        }\n        ['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].forEach(p => evt[p] = e[p]); // keys\n        ['pageX', 'pageY', 'clientX', 'clientY', 'screenX', 'screenY'].forEach(p => evt[p] = e[p]); // point info\n        return { ...evt, ...obj };\n    }\n    /** copies the MouseEvent properties and sends it as another event to the given target */\n    static simulateMouseEvent(e, simulatedType, target) {\n        const simulatedEvent = document.createEvent('MouseEvents');\n        simulatedEvent.initMouseEvent(simulatedType, // type\n        true, // bubbles\n        true, // cancelable\n        window, // view\n        1, // detail\n        e.screenX, // screenX\n        e.screenY, // screenY\n        e.clientX, // clientX\n        e.clientY, // clientY\n        e.ctrlKey, // ctrlKey\n        e.altKey, // altKey\n        e.shiftKey, // shiftKey\n        e.metaKey, // metaKey\n        0, // button\n        e.target // relatedTarget\n        );\n        (target || e.target).dispatchEvent(simulatedEvent);\n    }\n}\n//# sourceMappingURL=utils.js.map","/**\n * gridstack-engine.ts 10.0.1\n * Copyright (c) 2021-2022 Alain Dumesny - see GridStack root license\n */\nimport { Utils } from './utils';\n/**\n * Defines the GridStack engine that does most no DOM grid manipulation.\n * See GridStack methods and vars for descriptions.\n *\n * NOTE: values should not be modified directly - call the main GridStack API instead\n */\nclass GridStackEngine {\n    constructor(opts = {}) {\n        this.addedNodes = [];\n        this.removedNodes = [];\n        this.column = opts.column || 12;\n        this.maxRow = opts.maxRow;\n        this._float = opts.float;\n        this.nodes = opts.nodes || [];\n        this.onChange = opts.onChange;\n    }\n    batchUpdate(flag = true, doPack = true) {\n        if (!!this.batchMode === flag)\n            return this;\n        this.batchMode = flag;\n        if (flag) {\n            this._prevFloat = this._float;\n            this._float = true; // let things go anywhere for now... will restore and possibly reposition later\n            this.cleanNodes();\n            this.saveInitial(); // since begin update (which is called multiple times) won't do this\n        }\n        else {\n            this._float = this._prevFloat;\n            delete this._prevFloat;\n            if (doPack)\n                this._packNodes();\n            this._notify();\n        }\n        return this;\n    }\n    // use entire row for hitting area (will use bottom reverse sorted first) if we not actively moving DOWN and didn't already skip\n    _useEntireRowArea(node, nn) {\n        return (!this.float || this.batchMode && !this._prevFloat) && !this._hasLocked && (!node._moving || node._skipDown || nn.y <= node.y);\n    }\n    /** @internal fix collision on given 'node', going to given new location 'nn', with optional 'collide' node already found.\n     * return true if we moved. */\n    _fixCollisions(node, nn = node, collide, opt = {}) {\n        this.sortNodes(-1); // from last to first, so recursive collision move items in the right order\n        collide = collide || this.collide(node, nn); // REAL area collide for swap and skip if none...\n        if (!collide)\n            return false;\n        // swap check: if we're actively moving in gravity mode, see if we collide with an object the same size\n        if (node._moving && !opt.nested && !this.float) {\n            if (this.swap(node, collide))\n                return true;\n        }\n        // during while() collisions MAKE SURE to check entire row so larger items don't leap frog small ones (push them all down starting last in grid)\n        let area = nn;\n        if (this._useEntireRowArea(node, nn)) {\n            area = { x: 0, w: this.column, y: nn.y, h: nn.h };\n            collide = this.collide(node, area, opt.skip); // force new hit\n        }\n        let didMove = false;\n        let newOpt = { nested: true, pack: false };\n        while (collide = collide || this.collide(node, area, opt.skip)) { // could collide with more than 1 item... so repeat for each\n            let moved;\n            // if colliding with a locked item OR moving down with top gravity (and collide could move up) -> skip past the collide,\n            // but remember that skip down so we only do this once (and push others otherwise).\n            if (collide.locked || node._moving && !node._skipDown && nn.y > node.y && !this.float &&\n                // can take space we had, or before where we're going\n                (!this.collide(collide, { ...collide, y: node.y }, node) || !this.collide(collide, { ...collide, y: nn.y - collide.h }, node))) {\n                node._skipDown = (node._skipDown || nn.y > node.y);\n                moved = this.moveNode(node, { ...nn, y: collide.y + collide.h, ...newOpt });\n                if (collide.locked && moved) {\n                    Utils.copyPos(nn, node); // moving after lock become our new desired location\n                }\n                else if (!collide.locked && moved && opt.pack) {\n                    // we moved after and will pack: do it now and keep the original drop location, but past the old collide to see what else we might push way\n                    this._packNodes();\n                    nn.y = collide.y + collide.h;\n                    Utils.copyPos(node, nn);\n                }\n                didMove = didMove || moved;\n            }\n            else {\n                // move collide down *after* where we will be, ignoring where we are now (don't collide with us)\n                moved = this.moveNode(collide, { ...collide, y: nn.y + nn.h, skip: node, ...newOpt });\n            }\n            if (!moved) {\n                return didMove;\n            } // break inf loop if we couldn't move after all (ex: maxRow, fixed)\n            collide = undefined;\n        }\n        return didMove;\n    }\n    /** return the nodes that intercept the given node. Optionally a different area can be used, as well as a second node to skip */\n    collide(skip, area = skip, skip2) {\n        const skipId = skip._id;\n        const skip2Id = skip2?._id;\n        return this.nodes.find(n => n._id !== skipId && n._id !== skip2Id && Utils.isIntercepted(n, area));\n    }\n    collideAll(skip, area = skip, skip2) {\n        const skipId = skip._id;\n        const skip2Id = skip2?._id;\n        return this.nodes.filter(n => n._id !== skipId && n._id !== skip2Id && Utils.isIntercepted(n, area));\n    }\n    /** does a pixel coverage collision based on where we started, returning the node that has the most coverage that is >50% mid line */\n    directionCollideCoverage(node, o, collides) {\n        if (!o.rect || !node._rect)\n            return;\n        let r0 = node._rect; // where started\n        let r = { ...o.rect }; // where we are\n        // update dragged rect to show where it's coming from (above or below, etc...)\n        if (r.y > r0.y) {\n            r.h += r.y - r0.y;\n            r.y = r0.y;\n        }\n        else {\n            r.h += r0.y - r.y;\n        }\n        if (r.x > r0.x) {\n            r.w += r.x - r0.x;\n            r.x = r0.x;\n        }\n        else {\n            r.w += r0.x - r.x;\n        }\n        let collide;\n        let overMax = 0.5; // need >50%\n        collides.forEach(n => {\n            if (n.locked || !n._rect)\n                return;\n            let r2 = n._rect; // overlapping target\n            let yOver = Number.MAX_VALUE, xOver = Number.MAX_VALUE;\n            // depending on which side we started from, compute the overlap % of coverage\n            // (ex: from above/below we only compute the max horizontal line coverage)\n            if (r0.y < r2.y) { // from above\n                yOver = ((r.y + r.h) - r2.y) / r2.h;\n            }\n            else if (r0.y + r0.h > r2.y + r2.h) { // from below\n                yOver = ((r2.y + r2.h) - r.y) / r2.h;\n            }\n            if (r0.x < r2.x) { // from the left\n                xOver = ((r.x + r.w) - r2.x) / r2.w;\n            }\n            else if (r0.x + r0.w > r2.x + r2.w) { // from the right\n                xOver = ((r2.x + r2.w) - r.x) / r2.w;\n            }\n            let over = Math.min(xOver, yOver);\n            if (over > overMax) {\n                overMax = over;\n                collide = n;\n            }\n        });\n        o.collide = collide; // save it so we don't have to find it again\n        return collide;\n    }\n    /** does a pixel coverage returning the node that has the most coverage by area */\n    /*\n    protected collideCoverage(r: GridStackPosition, collides: GridStackNode[]): {collide: GridStackNode, over: number} {\n      let collide: GridStackNode;\n      let overMax = 0;\n      collides.forEach(n => {\n        if (n.locked || !n._rect) return;\n        let over = Utils.areaIntercept(r, n._rect);\n        if (over > overMax) {\n          overMax = over;\n          collide = n;\n        }\n      });\n      return {collide, over: overMax};\n    }\n    */\n    /** called to cache the nodes pixel rectangles used for collision detection during drag */\n    cacheRects(w, h, top, right, bottom, left) {\n        this.nodes.forEach(n => n._rect = {\n            y: n.y * h + top,\n            x: n.x * w + left,\n            w: n.w * w - left - right,\n            h: n.h * h - top - bottom\n        });\n        return this;\n    }\n    /** called to possibly swap between 2 nodes (same size or column, not locked, touching), returning true if successful */\n    swap(a, b) {\n        if (!b || b.locked || !a || a.locked)\n            return false;\n        function _doSwap() {\n            let x = b.x, y = b.y;\n            b.x = a.x;\n            b.y = a.y; // b -> a position\n            if (a.h != b.h) {\n                a.x = x;\n                a.y = b.y + b.h; // a -> goes after b\n            }\n            else if (a.w != b.w) {\n                a.x = b.x + b.w;\n                a.y = y; // a -> goes after b\n            }\n            else {\n                a.x = x;\n                a.y = y; // a -> old b position\n            }\n            a._dirty = b._dirty = true;\n            return true;\n        }\n        let touching; // remember if we called it (vs undefined)\n        // same size and same row or column, and touching\n        if (a.w === b.w && a.h === b.h && (a.x === b.x || a.y === b.y) && (touching = Utils.isTouching(a, b)))\n            return _doSwap();\n        if (touching === false)\n            return; // IFF ran test and fail, bail out\n        // check for taking same columns (but different height) and touching\n        if (a.w === b.w && a.x === b.x && (touching || (touching = Utils.isTouching(a, b)))) {\n            if (b.y < a.y) {\n                let t = a;\n                a = b;\n                b = t;\n            } // swap a <-> b vars so a is first\n            return _doSwap();\n        }\n        if (touching === false)\n            return;\n        // check if taking same row (but different width) and touching\n        if (a.h === b.h && a.y === b.y && (touching || (touching = Utils.isTouching(a, b)))) {\n            if (b.x < a.x) {\n                let t = a;\n                a = b;\n                b = t;\n            } // swap a <-> b vars so a is first\n            return _doSwap();\n        }\n        return false;\n    }\n    isAreaEmpty(x, y, w, h) {\n        let nn = { x: x || 0, y: y || 0, w: w || 1, h: h || 1 };\n        return !this.collide(nn);\n    }\n    /** re-layout grid items to reclaim any empty space - optionally keeping the sort order exactly the same ('list' mode) vs truly finding an empty spaces */\n    compact(layout = 'compact', doSort = true) {\n        if (this.nodes.length === 0)\n            return this;\n        if (doSort)\n            this.sortNodes();\n        const wasBatch = this.batchMode;\n        if (!wasBatch)\n            this.batchUpdate();\n        const wasColumnResize = this._inColumnResize;\n        if (!wasColumnResize)\n            this._inColumnResize = true; // faster addNode()\n        let copyNodes = this.nodes;\n        this.nodes = []; // pretend we have no nodes to conflict layout to start with...\n        copyNodes.forEach((n, index, list) => {\n            let after;\n            if (!n.locked) {\n                n.autoPosition = true;\n                if (layout === 'list' && index)\n                    after = list[index - 1];\n            }\n            this.addNode(n, false, after); // 'false' for add event trigger\n        });\n        if (!wasColumnResize)\n            delete this._inColumnResize;\n        if (!wasBatch)\n            this.batchUpdate(false);\n        return this;\n    }\n    /** enable/disable floating widgets (default: `false`) See [example](http://gridstackjs.com/demo/float.html) */\n    set float(val) {\n        if (this._float === val)\n            return;\n        this._float = val || false;\n        if (!val) {\n            this._packNodes()._notify();\n        }\n    }\n    /** float getter method */\n    get float() { return this._float || false; }\n    /** sort the nodes array from first to last, or reverse. Called during collision/placement to force an order */\n    sortNodes(dir = 1, column = this.column) {\n        this.nodes = Utils.sort(this.nodes, dir, column);\n        return this;\n    }\n    /** @internal called to top gravity pack the items back OR revert back to original Y positions when floating */\n    _packNodes() {\n        if (this.batchMode) {\n            return this;\n        }\n        this.sortNodes(); // first to last\n        if (this.float) {\n            // restore original Y pos\n            this.nodes.forEach(n => {\n                if (n._updating || n._orig === undefined || n.y === n._orig.y)\n                    return;\n                let newY = n.y;\n                while (newY > n._orig.y) {\n                    --newY;\n                    let collide = this.collide(n, { x: n.x, y: newY, w: n.w, h: n.h });\n                    if (!collide) {\n                        n._dirty = true;\n                        n.y = newY;\n                    }\n                }\n            });\n        }\n        else {\n            // top gravity pack\n            this.nodes.forEach((n, i) => {\n                if (n.locked)\n                    return;\n                while (n.y > 0) {\n                    let newY = i === 0 ? 0 : n.y - 1;\n                    let canBeMoved = i === 0 || !this.collide(n, { x: n.x, y: newY, w: n.w, h: n.h });\n                    if (!canBeMoved)\n                        break;\n                    // Note: must be dirty (from last position) for GridStack::OnChange CB to update positions\n                    // and move items back. The user 'change' CB should detect changes from the original\n                    // starting position instead.\n                    n._dirty = (n.y !== newY);\n                    n.y = newY;\n                }\n            });\n        }\n        return this;\n    }\n    /**\n     * given a random node, makes sure it's coordinates/values are valid in the current grid\n     * @param node to adjust\n     * @param resizing if out of bound, resize down or move into the grid to fit ?\n     */\n    prepareNode(node, resizing) {\n        node._id = node._id ?? GridStackEngine._idSeq++;\n        // if we're missing position, have the grid position us automatically (before we set them to 0,0)\n        if (node.x === undefined || node.y === undefined || node.x === null || node.y === null) {\n            node.autoPosition = true;\n        }\n        // assign defaults for missing required fields\n        let defaults = { x: 0, y: 0, w: 1, h: 1 };\n        Utils.defaults(node, defaults);\n        if (!node.autoPosition) {\n            delete node.autoPosition;\n        }\n        if (!node.noResize) {\n            delete node.noResize;\n        }\n        if (!node.noMove) {\n            delete node.noMove;\n        }\n        Utils.sanitizeMinMax(node);\n        // check for NaN (in case messed up strings were passed. can't do parseInt() || defaults.x above as 0 is valid #)\n        if (typeof node.x == 'string') {\n            node.x = Number(node.x);\n        }\n        if (typeof node.y == 'string') {\n            node.y = Number(node.y);\n        }\n        if (typeof node.w == 'string') {\n            node.w = Number(node.w);\n        }\n        if (typeof node.h == 'string') {\n            node.h = Number(node.h);\n        }\n        if (isNaN(node.x)) {\n            node.x = defaults.x;\n            node.autoPosition = true;\n        }\n        if (isNaN(node.y)) {\n            node.y = defaults.y;\n            node.autoPosition = true;\n        }\n        if (isNaN(node.w)) {\n            node.w = defaults.w;\n        }\n        if (isNaN(node.h)) {\n            node.h = defaults.h;\n        }\n        this.nodeBoundFix(node, resizing);\n        return node;\n    }\n    /** part2 of preparing a node to fit inside our grid - checks for x,y,w from grid dimensions */\n    nodeBoundFix(node, resizing) {\n        let before = node._orig || Utils.copyPos({}, node);\n        if (node.maxW) {\n            node.w = Math.min(node.w, node.maxW);\n        }\n        if (node.maxH) {\n            node.h = Math.min(node.h, node.maxH);\n        }\n        if (node.minW && node.minW <= this.column) {\n            node.w = Math.max(node.w, node.minW);\n        }\n        if (node.minH) {\n            node.h = Math.max(node.h, node.minH);\n        }\n        // if user loaded a larger than allowed widget for current # of columns,\n        // remember it's position & width so we can restore back (1 -> 12 column) #1655 #1985\n        // IFF we're not in the middle of column resizing!\n        const saveOrig = (node.x || 0) + (node.w || 1) > this.column;\n        if (saveOrig && this.column < 12 && !this._inColumnResize && node._id && this.findCacheLayout(node, 12) === -1) {\n            let copy = { ...node }; // need _id + positions\n            if (copy.autoPosition || copy.x === undefined) {\n                delete copy.x;\n                delete copy.y;\n            }\n            else\n                copy.x = Math.min(11, copy.x);\n            copy.w = Math.min(12, copy.w || 1);\n            this.cacheOneLayout(copy, 12);\n        }\n        if (node.w > this.column) {\n            node.w = this.column;\n        }\n        else if (node.w < 1) {\n            node.w = 1;\n        }\n        if (this.maxRow && node.h > this.maxRow) {\n            node.h = this.maxRow;\n        }\n        else if (node.h < 1) {\n            node.h = 1;\n        }\n        if (node.x < 0) {\n            node.x = 0;\n        }\n        if (node.y < 0) {\n            node.y = 0;\n        }\n        if (node.x + node.w > this.column) {\n            if (resizing) {\n                node.w = this.column - node.x;\n            }\n            else {\n                node.x = this.column - node.w;\n            }\n        }\n        if (this.maxRow && node.y + node.h > this.maxRow) {\n            if (resizing) {\n                node.h = this.maxRow - node.y;\n            }\n            else {\n                node.y = this.maxRow - node.h;\n            }\n        }\n        if (!Utils.samePos(node, before)) {\n            node._dirty = true;\n        }\n        return this;\n    }\n    /** returns a list of modified nodes from their original values */\n    getDirtyNodes(verify) {\n        // compare original x,y,w,h instead as _dirty can be a temporary state\n        if (verify) {\n            return this.nodes.filter(n => n._dirty && !Utils.samePos(n, n._orig));\n        }\n        return this.nodes.filter(n => n._dirty);\n    }\n    /** @internal call this to call onChange callback with dirty nodes so DOM can be updated */\n    _notify(removedNodes) {\n        if (this.batchMode || !this.onChange)\n            return this;\n        let dirtyNodes = (removedNodes || []).concat(this.getDirtyNodes());\n        this.onChange(dirtyNodes);\n        return this;\n    }\n    /** @internal remove dirty and last tried info */\n    cleanNodes() {\n        if (this.batchMode)\n            return this;\n        this.nodes.forEach(n => {\n            delete n._dirty;\n            delete n._lastTried;\n        });\n        return this;\n    }\n    /** @internal called to save initial position/size to track real dirty state.\n     * Note: should be called right after we call change event (so next API is can detect changes)\n     * as well as right before we start move/resize/enter (so we can restore items to prev values) */\n    saveInitial() {\n        this.nodes.forEach(n => {\n            n._orig = Utils.copyPos({}, n);\n            delete n._dirty;\n        });\n        this._hasLocked = this.nodes.some(n => n.locked);\n        return this;\n    }\n    /** @internal restore all the nodes back to initial values (called when we leave) */\n    restoreInitial() {\n        this.nodes.forEach(n => {\n            if (Utils.samePos(n, n._orig))\n                return;\n            Utils.copyPos(n, n._orig);\n            n._dirty = true;\n        });\n        this._notify();\n        return this;\n    }\n    /** find the first available empty spot for the given node width/height, updating the x,y attributes. return true if found.\n     * optionally you can pass your own existing node list and column count, otherwise defaults to that engine data.\n     * Optionally pass a widget to start search AFTER, meaning the order will remain the same but possibly have empty slots we skipped\n     */\n    findEmptyPosition(node, nodeList = this.nodes, column = this.column, after) {\n        let start = after ? after.y * column + (after.x + after.w) : 0;\n        let found = false;\n        for (let i = start; !found; ++i) {\n            let x = i % column;\n            let y = Math.floor(i / column);\n            if (x + node.w > column) {\n                continue;\n            }\n            let box = { x, y, w: node.w, h: node.h };\n            if (!nodeList.find(n => Utils.isIntercepted(box, n))) {\n                if (node.x !== x || node.y !== y)\n                    node._dirty = true;\n                node.x = x;\n                node.y = y;\n                delete node.autoPosition;\n                found = true;\n            }\n        }\n        return found;\n    }\n    /** call to add the given node to our list, fixing collision and re-packing */\n    addNode(node, triggerAddEvent = false, after) {\n        let dup = this.nodes.find(n => n._id === node._id);\n        if (dup)\n            return dup; // prevent inserting twice! return it instead.\n        // skip prepareNode if we're in middle of column resize (not new) but do check for bounds!\n        this._inColumnResize ? this.nodeBoundFix(node) : this.prepareNode(node);\n        delete node._temporaryRemoved;\n        delete node._removeDOM;\n        let skipCollision;\n        if (node.autoPosition && this.findEmptyPosition(node, this.nodes, this.column, after)) {\n            delete node.autoPosition; // found our slot\n            skipCollision = true;\n        }\n        this.nodes.push(node);\n        if (triggerAddEvent) {\n            this.addedNodes.push(node);\n        }\n        if (!skipCollision)\n            this._fixCollisions(node);\n        if (!this.batchMode) {\n            this._packNodes()._notify();\n        }\n        return node;\n    }\n    removeNode(node, removeDOM = true, triggerEvent = false) {\n        if (!this.nodes.find(n => n._id === node._id)) {\n            // TEST console.log(`Error: GridStackEngine.removeNode() node._id=${node._id} not found!`)\n            return this;\n        }\n        if (triggerEvent) { // we wait until final drop to manually track removed items (rather than during drag)\n            this.removedNodes.push(node);\n        }\n        if (removeDOM)\n            node._removeDOM = true; // let CB remove actual HTML (used to set _id to null, but then we loose layout info)\n        // don't use 'faster' .splice(findIndex(),1) in case node isn't in our list, or in multiple times.\n        this.nodes = this.nodes.filter(n => n._id !== node._id);\n        if (!node._isAboutToRemove)\n            this._packNodes(); // if dragged out, no need to relayout as already done...\n        this._notify([node]);\n        return this;\n    }\n    removeAll(removeDOM = true) {\n        delete this._layouts;\n        if (!this.nodes.length)\n            return this;\n        removeDOM && this.nodes.forEach(n => n._removeDOM = true); // let CB remove actual HTML (used to set _id to null, but then we loose layout info)\n        this.removedNodes = this.nodes;\n        this.nodes = [];\n        return this._notify(this.removedNodes);\n    }\n    /** checks if item can be moved (layout constrain) vs moveNode(), returning true if was able to move.\n     * In more complicated cases (maxRow) it will attempt at moving the item and fixing\n     * others in a clone first, then apply those changes if still within specs. */\n    moveNodeCheck(node, o) {\n        // if (node.locked) return false;\n        if (!this.changedPosConstrain(node, o))\n            return false;\n        o.pack = true;\n        // simpler case: move item directly...\n        if (!this.maxRow) {\n            return this.moveNode(node, o);\n        }\n        // complex case: create a clone with NO maxRow (will check for out of bounds at the end)\n        let clonedNode;\n        let clone = new GridStackEngine({\n            column: this.column,\n            float: this.float,\n            nodes: this.nodes.map(n => {\n                if (n._id === node._id) {\n                    clonedNode = { ...n };\n                    return clonedNode;\n                }\n                return { ...n };\n            })\n        });\n        if (!clonedNode)\n            return false;\n        // check if we're covering 50% collision and could move, while still being under maxRow or at least not making it worse\n        // (case where widget was somehow added past our max #2449)\n        let canMove = clone.moveNode(clonedNode, o) && clone.getRow() <= Math.max(this.getRow(), this.maxRow);\n        // else check if we can force a swap (float=true, or different shapes) on non-resize\n        if (!canMove && !o.resizing && o.collide) {\n            let collide = o.collide.el.gridstackNode; // find the source node the clone collided with at 50%\n            if (this.swap(node, collide)) { // swaps and mark dirty\n                this._notify();\n                return true;\n            }\n        }\n        if (!canMove)\n            return false;\n        // if clone was able to move, copy those mods over to us now instead of caller trying to do this all over!\n        // Note: we can't use the list directly as elements and other parts point to actual node, so copy content\n        clone.nodes.filter(n => n._dirty).forEach(c => {\n            let n = this.nodes.find(a => a._id === c._id);\n            if (!n)\n                return;\n            Utils.copyPos(n, c);\n            n._dirty = true;\n        });\n        this._notify();\n        return true;\n    }\n    /** return true if can fit in grid height constrain only (always true if no maxRow) */\n    willItFit(node) {\n        delete node._willFitPos;\n        if (!this.maxRow)\n            return true;\n        // create a clone with NO maxRow and check if still within size\n        let clone = new GridStackEngine({\n            column: this.column,\n            float: this.float,\n            nodes: this.nodes.map(n => { return { ...n }; })\n        });\n        let n = { ...node }; // clone node so we don't mod any settings on it but have full autoPosition and min/max as well! #1687\n        this.cleanupNode(n);\n        delete n.el;\n        delete n._id;\n        delete n.content;\n        delete n.grid;\n        clone.addNode(n);\n        if (clone.getRow() <= this.maxRow) {\n            node._willFitPos = Utils.copyPos({}, n);\n            return true;\n        }\n        return false;\n    }\n    /** true if x,y or w,h are different after clamping to min/max */\n    changedPosConstrain(node, p) {\n        // first make sure w,h are set for caller\n        p.w = p.w || node.w;\n        p.h = p.h || node.h;\n        if (node.x !== p.x || node.y !== p.y)\n            return true;\n        // check constrained w,h\n        if (node.maxW) {\n            p.w = Math.min(p.w, node.maxW);\n        }\n        if (node.maxH) {\n            p.h = Math.min(p.h, node.maxH);\n        }\n        if (node.minW) {\n            p.w = Math.max(p.w, node.minW);\n        }\n        if (node.minH) {\n            p.h = Math.max(p.h, node.minH);\n        }\n        return (node.w !== p.w || node.h !== p.h);\n    }\n    /** return true if the passed in node was actually moved (checks for no-op and locked) */\n    moveNode(node, o) {\n        if (!node || /*node.locked ||*/ !o)\n            return false;\n        let wasUndefinedPack;\n        if (o.pack === undefined && !this.batchMode) {\n            wasUndefinedPack = o.pack = true;\n        }\n        // constrain the passed in values and check if we're still changing our node\n        if (typeof o.x !== 'number') {\n            o.x = node.x;\n        }\n        if (typeof o.y !== 'number') {\n            o.y = node.y;\n        }\n        if (typeof o.w !== 'number') {\n            o.w = node.w;\n        }\n        if (typeof o.h !== 'number') {\n            o.h = node.h;\n        }\n        let resizing = (node.w !== o.w || node.h !== o.h);\n        let nn = Utils.copyPos({}, node, true); // get min/max out first, then opt positions next\n        Utils.copyPos(nn, o);\n        this.nodeBoundFix(nn, resizing);\n        Utils.copyPos(o, nn);\n        if (!o.forceCollide && Utils.samePos(node, o))\n            return false;\n        let prevPos = Utils.copyPos({}, node);\n        // check if we will need to fix collision at our new location\n        let collides = this.collideAll(node, nn, o.skip);\n        let needToMove = true;\n        if (collides.length) {\n            let activeDrag = node._moving && !o.nested;\n            // check to make sure we actually collided over 50% surface area while dragging\n            let collide = activeDrag ? this.directionCollideCoverage(node, o, collides) : collides[0];\n            // if we're enabling creation of sub-grids on the fly, see if we're covering 80% of either one, if we didn't already do that\n            if (activeDrag && collide && node.grid?.opts?.subGridDynamic && !node.grid._isTemp) {\n                let over = Utils.areaIntercept(o.rect, collide._rect);\n                let a1 = Utils.area(o.rect);\n                let a2 = Utils.area(collide._rect);\n                let perc = over / (a1 < a2 ? a1 : a2);\n                if (perc > .8) {\n                    collide.grid.makeSubGrid(collide.el, undefined, node);\n                    collide = undefined;\n                }\n            }\n            if (collide) {\n                needToMove = !this._fixCollisions(node, nn, collide, o); // check if already moved...\n            }\n            else {\n                needToMove = false; // we didn't cover >50% for a move, skip...\n                if (wasUndefinedPack)\n                    delete o.pack;\n            }\n        }\n        // now move (to the original ask vs the collision version which might differ) and repack things\n        if (needToMove) {\n            node._dirty = true;\n            Utils.copyPos(node, nn);\n        }\n        if (o.pack) {\n            this._packNodes()\n                ._notify();\n        }\n        return !Utils.samePos(node, prevPos); // pack might have moved things back\n    }\n    getRow() {\n        return this.nodes.reduce((row, n) => Math.max(row, n.y + n.h), 0);\n    }\n    beginUpdate(node) {\n        if (!node._updating) {\n            node._updating = true;\n            delete node._skipDown;\n            if (!this.batchMode)\n                this.saveInitial();\n        }\n        return this;\n    }\n    endUpdate() {\n        let n = this.nodes.find(n => n._updating);\n        if (n) {\n            delete n._updating;\n            delete n._skipDown;\n        }\n        return this;\n    }\n    /** saves a copy of the largest column layout (eg 12 even when rendering oneColumnMode) so we don't loose orig layout,\n     * returning a list of widgets for serialization */\n    save(saveElement = true, saveCB) {\n        // use the highest layout for any saved info so we can have full detail on reload #1849\n        let len = this._layouts?.length;\n        let layout = len && this.column !== (len - 1) ? this._layouts[len - 1] : null;\n        let list = [];\n        this.sortNodes();\n        this.nodes.forEach(n => {\n            let wl = layout?.find(l => l._id === n._id);\n            // use layout info fields instead if set\n            let w = { ...n, ...(wl || {}) };\n            Utils.removeInternalForSave(w, !saveElement);\n            if (saveCB)\n                saveCB(n, w);\n            list.push(w);\n        });\n        return list;\n    }\n    /** @internal called whenever a node is added or moved - updates the cached layouts */\n    layoutsNodesChange(nodes) {\n        if (!this._layouts || this._inColumnResize)\n            return this;\n        // remove smaller layouts - we will re-generate those on the fly... larger ones need to update\n        this._layouts.forEach((layout, column) => {\n            if (!layout || column === this.column)\n                return this;\n            if (column < this.column) {\n                this._layouts[column] = undefined;\n            }\n            else {\n                // we save the original x,y,w (h isn't cached) to see what actually changed to propagate better.\n                // NOTE: we don't need to check against out of bound scaling/moving as that will be done when using those cache values. #1785\n                let ratio = column / this.column;\n                nodes.forEach(node => {\n                    if (!node._orig)\n                        return; // didn't change (newly added ?)\n                    let n = layout.find(l => l._id === node._id);\n                    if (!n)\n                        return; // no cache for new nodes. Will use those values.\n                    // Y changed, push down same amount\n                    // TODO: detect doing item 'swaps' will help instead of move (especially in 1 column mode)\n                    if (n.y >= 0 && node.y !== node._orig.y) {\n                        n.y += (node.y - node._orig.y);\n                    }\n                    // X changed, scale from new position\n                    if (node.x !== node._orig.x) {\n                        n.x = Math.round(node.x * ratio);\n                    }\n                    // width changed, scale from new width\n                    if (node.w !== node._orig.w) {\n                        n.w = Math.round(node.w * ratio);\n                    }\n                    // ...height always carries over from cache\n                });\n            }\n        });\n        return this;\n    }\n    /**\n     * @internal Called to scale the widget width & position up/down based on the column change.\n     * Note we store previous layouts (especially original ones) to make it possible to go\n     * from say 12 -> 1 -> 12 and get back to where we were.\n     *\n     * @param prevColumn previous number of columns\n     * @param column  new column number\n     * @param nodes different sorted list (ex: DOM order) instead of current list\n     * @param layout specify the type of re-layout that will happen (position, size, etc...).\n     * Note: items will never be outside of the current column boundaries. default (moveScale). Ignored for 1 column\n     */\n    columnChanged(prevColumn, column, nodes, layout = 'moveScale') {\n        if (!this.nodes.length || !column || prevColumn === column)\n            return this;\n        // simpler shortcuts layouts\n        const doCompact = layout === 'compact' || layout === 'list';\n        if (doCompact) {\n            this.sortNodes(1, prevColumn); // sort with original layout once and only once (new column will affect order otherwise)\n        }\n        // cache the current layout in case they want to go back (like 12 -> 1 -> 12) as it requires original data IFF we're sizing down (see below)\n        if (column < prevColumn)\n            this.cacheLayout(this.nodes, prevColumn);\n        this.batchUpdate(); // do this EARLY as it will call saveInitial() so we can detect where we started for _dirty and collision\n        let newNodes = [];\n        // if we're going to 1 column and using DOM order (item passed in) rather than default sorting, then generate that layout\n        let domOrder = false;\n        if (column === 1 && nodes?.length) {\n            domOrder = true;\n            let top = 0;\n            nodes.forEach(n => {\n                n.x = 0;\n                n.w = 1;\n                n.y = Math.max(n.y, top);\n                top = n.y + n.h;\n            });\n            newNodes = nodes;\n            nodes = [];\n        }\n        else {\n            nodes = doCompact ? this.nodes : Utils.sort(this.nodes, -1, prevColumn); // current column reverse sorting so we can insert last to front (limit collision)\n        }\n        // see if we have cached previous layout IFF we are going up in size (restore) otherwise always\n        // generate next size down from where we are (looks more natural as you gradually size down).\n        if (column > prevColumn && this._layouts) {\n            const cacheNodes = this._layouts[column] || [];\n            // ...if not, start with the largest layout (if not already there) as down-scaling is more accurate\n            // by pretending we came from that larger column by assigning those values as starting point\n            let lastIndex = this._layouts.length - 1;\n            if (!cacheNodes.length && prevColumn !== lastIndex && this._layouts[lastIndex]?.length) {\n                prevColumn = lastIndex;\n                this._layouts[lastIndex].forEach(cacheNode => {\n                    let n = nodes.find(n => n._id === cacheNode._id);\n                    if (n) {\n                        // still current, use cache info positions\n                        if (!doCompact && !cacheNode.autoPosition) {\n                            n.x = cacheNode.x ?? n.x;\n                            n.y = cacheNode.y ?? n.y;\n                        }\n                        n.w = cacheNode.w ?? n.w;\n                        if (cacheNode.x == undefined || cacheNode.y === undefined)\n                            n.autoPosition = true;\n                    }\n                });\n            }\n            // if we found cache re-use those nodes that are still current\n            cacheNodes.forEach(cacheNode => {\n                let j = nodes.findIndex(n => n._id === cacheNode._id);\n                if (j !== -1) {\n                    const n = nodes[j];\n                    // still current, use cache info positions\n                    if (doCompact) {\n                        n.w = cacheNode.w; // only w is used, and don't trim the list\n                        return;\n                    }\n                    if (cacheNode.autoPosition || isNaN(cacheNode.x) || isNaN(cacheNode.y)) {\n                        this.findEmptyPosition(cacheNode, newNodes);\n                    }\n                    if (!cacheNode.autoPosition) {\n                        n.x = cacheNode.x ?? n.x;\n                        n.y = cacheNode.y ?? n.y;\n                        n.w = cacheNode.w ?? n.w;\n                        newNodes.push(n);\n                    }\n                    nodes.splice(j, 1);\n                }\n            });\n        }\n        // much simpler layout that just compacts\n        if (doCompact) {\n            this.compact(layout, false);\n        }\n        else {\n            // ...and add any extra non-cached ones\n            if (nodes.length) {\n                if (typeof layout === 'function') {\n                    layout(column, prevColumn, newNodes, nodes);\n                }\n                else if (!domOrder) {\n                    let ratio = (doCompact || layout === 'none') ? 1 : column / prevColumn;\n                    let move = (layout === 'move' || layout === 'moveScale');\n                    let scale = (layout === 'scale' || layout === 'moveScale');\n                    nodes.forEach(node => {\n                        // NOTE: x + w could be outside of the grid, but addNode() below will handle that\n                        node.x = (column === 1 ? 0 : (move ? Math.round(node.x * ratio) : Math.min(node.x, column - 1)));\n                        node.w = ((column === 1 || prevColumn === 1) ? 1 : scale ? (Math.round(node.w * ratio) || 1) : (Math.min(node.w, column)));\n                        newNodes.push(node);\n                    });\n                    nodes = [];\n                }\n            }\n            // finally re-layout them in reverse order (to get correct placement)\n            if (!domOrder)\n                newNodes = Utils.sort(newNodes, -1, column);\n            this._inColumnResize = true; // prevent cache update\n            this.nodes = []; // pretend we have no nodes to start with (add() will use same structures) to simplify layout\n            newNodes.forEach(node => {\n                this.addNode(node, false); // 'false' for add event trigger\n                delete node._orig; // make sure the commit doesn't try to restore things back to original\n            });\n        }\n        this.nodes.forEach(n => delete n._orig); // clear _orig before batch=false so it doesn't handle float=true restore\n        this.batchUpdate(false, !doCompact);\n        delete this._inColumnResize;\n        return this;\n    }\n    /**\n     * call to cache the given layout internally to the given location so we can restore back when column changes size\n     * @param nodes list of nodes\n     * @param column corresponding column index to save it under\n     * @param clear if true, will force other caches to be removed (default false)\n     */\n    cacheLayout(nodes, column, clear = false) {\n        let copy = [];\n        nodes.forEach((n, i) => {\n            // make sure we have an id in case this is new layout, else re-use id already set\n            if (n._id === undefined) {\n                const existing = n.id ? this.nodes.find(n2 => n2.id === n.id) : undefined; // find existing node using users id\n                n._id = existing?._id ?? GridStackEngine._idSeq++;\n            }\n            copy[i] = { x: n.x, y: n.y, w: n.w, _id: n._id }; // only thing we change is x,y,w and id to find it back\n        });\n        this._layouts = clear ? [] : this._layouts || []; // use array to find larger quick\n        this._layouts[column] = copy;\n        return this;\n    }\n    /**\n     * call to cache the given node layout internally to the given location so we can restore back when column changes size\n     * @param node single node to cache\n     * @param column corresponding column index to save it under\n     */\n    cacheOneLayout(n, column) {\n        n._id = n._id ?? GridStackEngine._idSeq++;\n        let l = { x: n.x, y: n.y, w: n.w, _id: n._id };\n        if (n.autoPosition || n.x === undefined) {\n            delete l.x;\n            delete l.y;\n            if (n.autoPosition)\n                l.autoPosition = true;\n        }\n        this._layouts = this._layouts || [];\n        this._layouts[column] = this._layouts[column] || [];\n        let index = this.findCacheLayout(n, column);\n        if (index === -1)\n            this._layouts[column].push(l);\n        else\n            this._layouts[column][index] = l;\n        return this;\n    }\n    findCacheLayout(n, column) {\n        return this._layouts?.[column]?.findIndex(l => l._id === n._id) ?? -1;\n    }\n    removeNodeFromLayoutCache(n) {\n        if (!this._layouts) {\n            return;\n        }\n        for (let i = 0; i < this._layouts.length; i++) {\n            let index = this.findCacheLayout(n, i);\n            if (index !== -1) {\n                this._layouts[i].splice(index, 1);\n            }\n        }\n    }\n    /** called to remove all internal values but the _id */\n    cleanupNode(node) {\n        for (let prop in node) {\n            if (prop[0] === '_' && prop !== '_id')\n                delete node[prop];\n        }\n        return this;\n    }\n}\n/** @internal unique global internal _id counter */\nGridStackEngine._idSeq = 0;\nexport { GridStackEngine };\n//# sourceMappingURL=gridstack-engine.js.map","/**\n * types.ts 10.0.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\n// default values for grid options - used during init and when saving out\nexport const gridDefaults = {\n    alwaysShowResizeHandle: 'mobile',\n    animate: true,\n    auto: true,\n    cellHeight: 'auto',\n    cellHeightThrottle: 100,\n    cellHeightUnit: 'px',\n    column: 12,\n    draggable: { handle: '.grid-stack-item-content', appendTo: 'body', scroll: true },\n    handle: '.grid-stack-item-content',\n    itemClass: 'grid-stack-item',\n    margin: 10,\n    marginUnit: 'px',\n    maxRow: 0,\n    minRow: 0,\n    placeholderClass: 'grid-stack-placeholder',\n    placeholderText: '',\n    removableOptions: { accept: 'grid-stack-item', decline: 'grid-stack-non-removable' },\n    resizable: { handles: 'se' },\n    rtl: 'auto',\n    // **** same as not being set ****\n    // disableDrag: false,\n    // disableResize: false,\n    // float: false,\n    // handleClass: null,\n    // removable: false,\n    // staticGrid: false,\n    // styleInHead: false,\n    //removable\n};\n/** default dragIn options */\nexport const dragInDefaultOptions = {\n    handle: '.grid-stack-item-content',\n    appendTo: 'body',\n    // revert: 'invalid',\n    // scroll: false,\n};\n//# sourceMappingURL=types.js.map","/**\n * dd-manager.ts 10.0.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\n/**\n * globals that are shared across Drag & Drop instances\n */\nexport class DDManager {\n}\n//# sourceMappingURL=dd-manager.js.map","/**\n * touch.ts 10.0.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\nimport { DDManager } from './dd-manager';\n/**\n * Detect touch support - Windows Surface devices and other touch devices\n * should we use this instead ? (what we had for always showing resize handles)\n * /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n */\nexport const isTouch = typeof window !== 'undefined' && typeof document !== 'undefined' &&\n    ('ontouchstart' in document\n        || 'ontouchstart' in window\n        // || !!window.TouchEvent // true on Windows 10 Chrome desktop so don't use this\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        || (window.DocumentTouch && document instanceof window.DocumentTouch)\n        || navigator.maxTouchPoints > 0\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        || navigator.msMaxTouchPoints > 0);\n// interface TouchCoord {x: number, y: number};\nclass DDTouch {\n}\n/**\n* Get the x,y position of a touch event\n*/\n// function getTouchCoords(e: TouchEvent): TouchCoord {\n//   return {\n//     x: e.changedTouches[0].pageX,\n//     y: e.changedTouches[0].pageY\n//   };\n// }\n/**\n * Simulate a mouse event based on a corresponding touch event\n * @param {Object} e A touch event\n * @param {String} simulatedType The corresponding mouse event\n */\nfunction simulateMouseEvent(e, simulatedType) {\n    // Ignore multi-touch events\n    if (e.touches.length > 1)\n        return;\n    // Prevent \"Ignored attempt to cancel a touchmove event with cancelable=false\" errors\n    if (e.cancelable)\n        e.preventDefault();\n    const touch = e.changedTouches[0], simulatedEvent = document.createEvent('MouseEvents');\n    // Initialize the simulated mouse event using the touch event's coordinates\n    simulatedEvent.initMouseEvent(simulatedType, // type\n    true, // bubbles\n    true, // cancelable\n    window, // view\n    1, // detail\n    touch.screenX, // screenX\n    touch.screenY, // screenY\n    touch.clientX, // clientX\n    touch.clientY, // clientY\n    false, // ctrlKey\n    false, // altKey\n    false, // shiftKey\n    false, // metaKey\n    0, // button\n    null // relatedTarget\n    );\n    // Dispatch the simulated event to the target element\n    e.target.dispatchEvent(simulatedEvent);\n}\n/**\n * Simulate a mouse event based on a corresponding Pointer event\n * @param {Object} e A pointer event\n * @param {String} simulatedType The corresponding mouse event\n */\nfunction simulatePointerMouseEvent(e, simulatedType) {\n    // Prevent \"Ignored attempt to cancel a touchmove event with cancelable=false\" errors\n    if (e.cancelable)\n        e.preventDefault();\n    const simulatedEvent = document.createEvent('MouseEvents');\n    // Initialize the simulated mouse event using the touch event's coordinates\n    simulatedEvent.initMouseEvent(simulatedType, // type\n    true, // bubbles\n    true, // cancelable\n    window, // view\n    1, // detail\n    e.screenX, // screenX\n    e.screenY, // screenY\n    e.clientX, // clientX\n    e.clientY, // clientY\n    false, // ctrlKey\n    false, // altKey\n    false, // shiftKey\n    false, // metaKey\n    0, // button\n    null // relatedTarget\n    );\n    // Dispatch the simulated event to the target element\n    e.target.dispatchEvent(simulatedEvent);\n}\n/**\n * Handle the touchstart events\n * @param {Object} e The widget element's touchstart event\n */\nexport function touchstart(e) {\n    // Ignore the event if another widget is already being handled\n    if (DDTouch.touchHandled)\n        return;\n    DDTouch.touchHandled = true;\n    // Simulate the mouse events\n    // simulateMouseEvent(e, 'mouseover');\n    // simulateMouseEvent(e, 'mousemove');\n    simulateMouseEvent(e, 'mousedown');\n}\n/**\n * Handle the touchmove events\n * @param {Object} e The document's touchmove event\n */\nexport function touchmove(e) {\n    // Ignore event if not handled by us\n    if (!DDTouch.touchHandled)\n        return;\n    simulateMouseEvent(e, 'mousemove');\n}\n/**\n * Handle the touchend events\n * @param {Object} e The document's touchend event\n */\nexport function touchend(e) {\n    // Ignore event if not handled\n    if (!DDTouch.touchHandled)\n        return;\n    // cancel delayed leave event when we release on ourself which happens BEFORE we get this!\n    if (DDTouch.pointerLeaveTimeout) {\n        window.clearTimeout(DDTouch.pointerLeaveTimeout);\n        delete DDTouch.pointerLeaveTimeout;\n    }\n    const wasDragging = !!DDManager.dragElement;\n    // Simulate the mouseup event\n    simulateMouseEvent(e, 'mouseup');\n    // simulateMouseEvent(event, 'mouseout');\n    // If the touch interaction did not move, it should trigger a click\n    if (!wasDragging) {\n        simulateMouseEvent(e, 'click');\n    }\n    // Unset the flag to allow other widgets to inherit the touch event\n    DDTouch.touchHandled = false;\n}\n/**\n * Note we don't get touchenter/touchleave (which are deprecated)\n * see https://stackoverflow.com/questions/27908339/js-touch-equivalent-for-mouseenter\n * so instead of PointerEvent to still get enter/leave and send the matching mouse event.\n */\nexport function pointerdown(e) {\n    // console.log(\"pointer down\")\n    if (e.pointerType === 'mouse')\n        return;\n    e.target.releasePointerCapture(e.pointerId); // <- Important!\n}\nexport function pointerenter(e) {\n    // ignore the initial one we get on pointerdown on ourself\n    if (!DDManager.dragElement) {\n        // console.log('pointerenter ignored');\n        return;\n    }\n    // console.log('pointerenter');\n    if (e.pointerType === 'mouse')\n        return;\n    simulatePointerMouseEvent(e, 'mouseenter');\n}\nexport function pointerleave(e) {\n    // ignore the leave on ourself we get before releasing the mouse over ourself\n    // by delaying sending the event and having the up event cancel us\n    if (!DDManager.dragElement) {\n        // console.log('pointerleave ignored');\n        return;\n    }\n    if (e.pointerType === 'mouse')\n        return;\n    DDTouch.pointerLeaveTimeout = window.setTimeout(() => {\n        delete DDTouch.pointerLeaveTimeout;\n        // console.log('pointerleave delayed');\n        simulatePointerMouseEvent(e, 'mouseleave');\n    }, 10);\n}\n//# sourceMappingURL=dd-touch.js.map","/**\n * dd-resizable-handle.ts 10.0.1\n * Copyright (c) 2021-2022 Alain Dumesny - see GridStack root license\n */\nimport { isTouch, pointerdown, touchend, touchmove, touchstart } from './dd-touch';\nclass DDResizableHandle {\n    constructor(host, direction, option) {\n        /** @internal true after we've moved enough pixels to start a resize */\n        this.moving = false;\n        this.host = host;\n        this.dir = direction;\n        this.option = option;\n        // create var event binding so we can easily remove and still look like TS methods (unlike anonymous functions)\n        this._mouseDown = this._mouseDown.bind(this);\n        this._mouseMove = this._mouseMove.bind(this);\n        this._mouseUp = this._mouseUp.bind(this);\n        this._init();\n    }\n    /** @internal */\n    _init() {\n        const el = document.createElement('div');\n        el.classList.add('ui-resizable-handle');\n        el.classList.add(`${DDResizableHandle.prefix}${this.dir}`);\n        el.style.zIndex = '100';\n        el.style.userSelect = 'none';\n        this.el = el;\n        this.host.appendChild(this.el);\n        this.el.addEventListener('mousedown', this._mouseDown);\n        if (isTouch) {\n            this.el.addEventListener('touchstart', touchstart);\n            this.el.addEventListener('pointerdown', pointerdown);\n            // this.el.style.touchAction = 'none'; // not needed unlike pointerdown doc comment\n        }\n        return this;\n    }\n    /** call this when resize handle needs to be removed and cleaned up */\n    destroy() {\n        if (this.moving)\n            this._mouseUp(this.mouseDownEvent);\n        this.el.removeEventListener('mousedown', this._mouseDown);\n        if (isTouch) {\n            this.el.removeEventListener('touchstart', touchstart);\n            this.el.removeEventListener('pointerdown', pointerdown);\n        }\n        this.host.removeChild(this.el);\n        delete this.el;\n        delete this.host;\n        return this;\n    }\n    /** @internal called on mouse down on us: capture move on the entire document (mouse might not stay on us) until we release the mouse */\n    _mouseDown(e) {\n        this.mouseDownEvent = e;\n        document.addEventListener('mousemove', this._mouseMove, true); // capture, not bubble\n        document.addEventListener('mouseup', this._mouseUp, true);\n        if (isTouch) {\n            this.el.addEventListener('touchmove', touchmove);\n            this.el.addEventListener('touchend', touchend);\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    }\n    /** @internal */\n    _mouseMove(e) {\n        let s = this.mouseDownEvent;\n        if (this.moving) {\n            this._triggerEvent('move', e);\n        }\n        else if (Math.abs(e.x - s.x) + Math.abs(e.y - s.y) > 2) {\n            // don't start unless we've moved at least 3 pixels\n            this.moving = true;\n            this._triggerEvent('start', this.mouseDownEvent);\n            this._triggerEvent('move', e);\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    }\n    /** @internal */\n    _mouseUp(e) {\n        if (this.moving) {\n            this._triggerEvent('stop', e);\n        }\n        document.removeEventListener('mousemove', this._mouseMove, true);\n        document.removeEventListener('mouseup', this._mouseUp, true);\n        if (isTouch) {\n            this.el.removeEventListener('touchmove', touchmove);\n            this.el.removeEventListener('touchend', touchend);\n        }\n        delete this.moving;\n        delete this.mouseDownEvent;\n        e.stopPropagation();\n        e.preventDefault();\n    }\n    /** @internal */\n    _triggerEvent(name, event) {\n        if (this.option[name])\n            this.option[name](event);\n        return this;\n    }\n}\n/** @internal */\nDDResizableHandle.prefix = 'ui-resizable-';\nexport { DDResizableHandle };\n//# sourceMappingURL=dd-resizable-handle.js.map","/**\n * dd-base-impl.ts 10.0.1\n * Copyright (c) 2021-2022 Alain Dumesny - see GridStack root license\n */\nexport class DDBaseImplement {\n    constructor() {\n        /** @internal */\n        this._eventRegister = {};\n    }\n    /** returns the enable state, but you have to call enable()/disable() to change (as other things need to happen) */\n    get disabled() { return this._disabled; }\n    on(event, callback) {\n        this._eventRegister[event] = callback;\n    }\n    off(event) {\n        delete this._eventRegister[event];\n    }\n    enable() {\n        this._disabled = false;\n    }\n    disable() {\n        this._disabled = true;\n    }\n    destroy() {\n        delete this._eventRegister;\n    }\n    triggerEvent(eventName, event) {\n        if (!this.disabled && this._eventRegister && this._eventRegister[eventName])\n            return this._eventRegister[eventName](event);\n    }\n}\n//# sourceMappingURL=dd-base-impl.js.map","/**\n * dd-resizable.ts 10.0.1\n * Copyright (c) 2021-2022 Alain Dumesny - see GridStack root license\n */\nimport { DDResizableHandle } from './dd-resizable-handle';\nimport { DDBaseImplement } from './dd-base-impl';\nimport { Utils } from './utils';\nimport { DDManager } from './dd-manager';\nclass DDResizable extends DDBaseImplement {\n    constructor(el, opts = {}) {\n        super();\n        /** @internal */\n        this.rectScale = { x: 1, y: 1 };\n        /** @internal */\n        this._ui = () => {\n            const containmentEl = this.el.parentElement;\n            const containmentRect = containmentEl.getBoundingClientRect();\n            const newRect = {\n                width: this.originalRect.width,\n                height: this.originalRect.height + this.scrolled,\n                left: this.originalRect.left,\n                top: this.originalRect.top - this.scrolled\n            };\n            const rect = this.temporalRect || newRect;\n            return {\n                position: {\n                    left: (rect.left - containmentRect.left) * this.rectScale.x,\n                    top: (rect.top - containmentRect.top) * this.rectScale.y\n                },\n                size: {\n                    width: rect.width * this.rectScale.x,\n                    height: rect.height * this.rectScale.y\n                }\n                /* Gridstack ONLY needs position set above... keep around in case.\n                element: [this.el], // The object representing the element to be resized\n                helper: [], // TODO: not support yet - The object representing the helper that's being resized\n                originalElement: [this.el],// we don't wrap here, so simplify as this.el //The object representing the original element before it is wrapped\n                originalPosition: { // The position represented as { left, top } before the resizable is resized\n                  left: this.originalRect.left - containmentRect.left,\n                  top: this.originalRect.top - containmentRect.top\n                },\n                originalSize: { // The size represented as { width, height } before the resizable is resized\n                  width: this.originalRect.width,\n                  height: this.originalRect.height\n                }\n                */\n            };\n        };\n        this.el = el;\n        this.option = opts;\n        // create var event binding so we can easily remove and still look like TS methods (unlike anonymous functions)\n        this._mouseOver = this._mouseOver.bind(this);\n        this._mouseOut = this._mouseOut.bind(this);\n        this.enable();\n        this._setupAutoHide(this.option.autoHide);\n        this._setupHandlers();\n    }\n    on(event, callback) {\n        super.on(event, callback);\n    }\n    off(event) {\n        super.off(event);\n    }\n    enable() {\n        super.enable();\n        this.el.classList.remove('ui-resizable-disabled');\n        this._setupAutoHide(this.option.autoHide);\n    }\n    disable() {\n        super.disable();\n        this.el.classList.add('ui-resizable-disabled');\n        this._setupAutoHide(false);\n    }\n    destroy() {\n        this._removeHandlers();\n        this._setupAutoHide(false);\n        delete this.el;\n        super.destroy();\n    }\n    updateOption(opts) {\n        let updateHandles = (opts.handles && opts.handles !== this.option.handles);\n        let updateAutoHide = (opts.autoHide && opts.autoHide !== this.option.autoHide);\n        Object.keys(opts).forEach(key => this.option[key] = opts[key]);\n        if (updateHandles) {\n            this._removeHandlers();\n            this._setupHandlers();\n        }\n        if (updateAutoHide) {\n            this._setupAutoHide(this.option.autoHide);\n        }\n        return this;\n    }\n    /** @internal turns auto hide on/off */\n    _setupAutoHide(auto) {\n        if (auto) {\n            this.el.classList.add('ui-resizable-autohide');\n            // use mouseover and not mouseenter to get better performance and track for nested cases\n            this.el.addEventListener('mouseover', this._mouseOver);\n            this.el.addEventListener('mouseout', this._mouseOut);\n        }\n        else {\n            this.el.classList.remove('ui-resizable-autohide');\n            this.el.removeEventListener('mouseover', this._mouseOver);\n            this.el.removeEventListener('mouseout', this._mouseOut);\n            if (DDManager.overResizeElement === this) {\n                delete DDManager.overResizeElement;\n            }\n        }\n        return this;\n    }\n    /** @internal */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _mouseOver(e) {\n        // console.log(`${count++} pre-enter ${(this.el as GridItemHTMLElement).gridstackNode._id}`)\n        // already over a child, ignore. Ideally we just call e.stopPropagation() but see https://github.com/gridstack/gridstack.js/issues/2018\n        if (DDManager.overResizeElement || DDManager.dragElement)\n            return;\n        DDManager.overResizeElement = this;\n        // console.log(`${count++} enter ${(this.el as GridItemHTMLElement).gridstackNode._id}`)\n        this.el.classList.remove('ui-resizable-autohide');\n    }\n    /** @internal */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _mouseOut(e) {\n        // console.log(`${count++} pre-leave ${(this.el as GridItemHTMLElement).gridstackNode._id}`)\n        if (DDManager.overResizeElement !== this)\n            return;\n        delete DDManager.overResizeElement;\n        // console.log(`${count++} leave ${(this.el as GridItemHTMLElement).gridstackNode._id}`)\n        this.el.classList.add('ui-resizable-autohide');\n    }\n    /** @internal */\n    _setupHandlers() {\n        let handlerDirection = this.option.handles || 'e,s,se';\n        if (handlerDirection === 'all') {\n            handlerDirection = 'n,e,s,w,se,sw,ne,nw';\n        }\n        this.handlers = handlerDirection.split(',')\n            .map(dir => dir.trim())\n            .map(dir => new DDResizableHandle(this.el, dir, {\n            start: (event) => {\n                this._resizeStart(event);\n            },\n            stop: (event) => {\n                this._resizeStop(event);\n            },\n            move: (event) => {\n                this._resizing(event, dir);\n            }\n        }));\n        return this;\n    }\n    /** @internal */\n    _resizeStart(event) {\n        this.originalRect = this.el.getBoundingClientRect();\n        this.scrollEl = Utils.getScrollElement(this.el);\n        this.scrollY = this.scrollEl.scrollTop;\n        this.scrolled = 0;\n        this.startEvent = event;\n        this._setupHelper();\n        this._applyChange();\n        const ev = Utils.initEvent(event, { type: 'resizestart', target: this.el });\n        if (this.option.start) {\n            this.option.start(ev, this._ui());\n        }\n        this.el.classList.add('ui-resizable-resizing');\n        this.triggerEvent('resizestart', ev);\n        return this;\n    }\n    /** @internal */\n    _resizing(event, dir) {\n        this.scrolled = this.scrollEl.scrollTop - this.scrollY;\n        this.temporalRect = this._getChange(event, dir);\n        this._applyChange();\n        const ev = Utils.initEvent(event, { type: 'resize', target: this.el });\n        if (this.option.resize) {\n            this.option.resize(ev, this._ui());\n        }\n        this.triggerEvent('resize', ev);\n        return this;\n    }\n    /** @internal */\n    _resizeStop(event) {\n        const ev = Utils.initEvent(event, { type: 'resizestop', target: this.el });\n        if (this.option.stop) {\n            this.option.stop(ev); // Note: ui() not used by gridstack so don't pass\n        }\n        this.el.classList.remove('ui-resizable-resizing');\n        this.triggerEvent('resizestop', ev);\n        this._cleanHelper();\n        delete this.startEvent;\n        delete this.originalRect;\n        delete this.temporalRect;\n        delete this.scrollY;\n        delete this.scrolled;\n        return this;\n    }\n    /** @internal */\n    _setupHelper() {\n        this.elOriginStyleVal = DDResizable._originStyleProp.map(prop => this.el.style[prop]);\n        this.parentOriginStylePosition = this.el.parentElement.style.position;\n        const parent = this.el.parentElement;\n        const testEl = document.createElement('div');\n        Utils.addElStyles(testEl, {\n            opacity: '0',\n            position: 'fixed',\n            top: 0 + 'px',\n            left: 0 + 'px',\n            width: '1px',\n            height: '1px',\n            zIndex: '-999999',\n        });\n        parent.appendChild(testEl);\n        const testElPosition = testEl.getBoundingClientRect();\n        parent.removeChild(testEl);\n        this.rectScale = {\n            x: 1 / testElPosition.width,\n            y: 1 / testElPosition.height\n        };\n        if (getComputedStyle(this.el.parentElement).position.match(/static/)) {\n            this.el.parentElement.style.position = 'relative';\n        }\n        this.el.style.position = 'absolute';\n        this.el.style.opacity = '0.8';\n        return this;\n    }\n    /** @internal */\n    _cleanHelper() {\n        DDResizable._originStyleProp.forEach((prop, i) => {\n            this.el.style[prop] = this.elOriginStyleVal[i] || null;\n        });\n        this.el.parentElement.style.position = this.parentOriginStylePosition || null;\n        return this;\n    }\n    /** @internal */\n    _getChange(event, dir) {\n        const oEvent = this.startEvent;\n        const newRect = {\n            width: this.originalRect.width,\n            height: this.originalRect.height + this.scrolled,\n            left: this.originalRect.left,\n            top: this.originalRect.top - this.scrolled\n        };\n        const offsetX = event.clientX - oEvent.clientX;\n        const offsetY = event.clientY - oEvent.clientY;\n        if (dir.indexOf('e') > -1) {\n            newRect.width += offsetX;\n        }\n        else if (dir.indexOf('w') > -1) {\n            newRect.width -= offsetX;\n            newRect.left += offsetX;\n        }\n        if (dir.indexOf('s') > -1) {\n            newRect.height += offsetY;\n        }\n        else if (dir.indexOf('n') > -1) {\n            newRect.height -= offsetY;\n            newRect.top += offsetY;\n        }\n        const constrain = this._constrainSize(newRect.width, newRect.height);\n        if (Math.round(newRect.width) !== Math.round(constrain.width)) { // round to ignore slight round-off errors\n            if (dir.indexOf('w') > -1) {\n                newRect.left += newRect.width - constrain.width;\n            }\n            newRect.width = constrain.width;\n        }\n        if (Math.round(newRect.height) !== Math.round(constrain.height)) {\n            if (dir.indexOf('n') > -1) {\n                newRect.top += newRect.height - constrain.height;\n            }\n            newRect.height = constrain.height;\n        }\n        return newRect;\n    }\n    /** @internal constrain the size to the set min/max values */\n    _constrainSize(oWidth, oHeight) {\n        const maxWidth = this.option.maxWidth || Number.MAX_SAFE_INTEGER;\n        const minWidth = this.option.minWidth / this.rectScale.x || oWidth;\n        const maxHeight = this.option.maxHeight || Number.MAX_SAFE_INTEGER;\n        const minHeight = this.option.minHeight / this.rectScale.y || oHeight;\n        const width = Math.min(maxWidth, Math.max(minWidth, oWidth));\n        const height = Math.min(maxHeight, Math.max(minHeight, oHeight));\n        return { width, height };\n    }\n    /** @internal */\n    _applyChange() {\n        let containmentRect = { left: 0, top: 0, width: 0, height: 0 };\n        if (this.el.style.position === 'absolute') {\n            const containmentEl = this.el.parentElement;\n            const { left, top } = containmentEl.getBoundingClientRect();\n            containmentRect = { left, top, width: 0, height: 0 };\n        }\n        if (!this.temporalRect)\n            return this;\n        Object.keys(this.temporalRect).forEach(key => {\n            const value = this.temporalRect[key];\n            const scaleReciprocal = key === 'width' || key === 'left' ? this.rectScale.x : key === 'height' || key === 'top' ? this.rectScale.y : 1;\n            this.el.style[key] = (value - containmentRect[key]) * scaleReciprocal + 'px';\n        });\n        return this;\n    }\n    /** @internal */\n    _removeHandlers() {\n        this.handlers.forEach(handle => handle.destroy());\n        delete this.handlers;\n        return this;\n    }\n}\n/** @internal */\nDDResizable._originStyleProp = ['width', 'height', 'position', 'left', 'top', 'opacity', 'zIndex'];\nexport { DDResizable };\n//# sourceMappingURL=dd-resizable.js.map","/**\n * dd-draggable.ts 10.0.1\n * Copyright (c) 2021-2022 Alain Dumesny - see GridStack root license\n */\nimport { DDManager } from './dd-manager';\nimport { Utils } from './utils';\nimport { DDBaseImplement } from './dd-base-impl';\nimport { isTouch, touchend, touchmove, touchstart, pointerdown } from './dd-touch';\n// make sure we are not clicking on known object that handles mouseDown\nconst skipMouseDown = 'input,textarea,button,select,option,[contenteditable=\"true\"],.ui-resizable-handle';\n// let count = 0; // TEST\nclass DDDraggable extends DDBaseImplement {\n    constructor(el, option = {}) {\n        super();\n        /** @internal */\n        this.dragScale = { x: 1, y: 1 };\n        this.el = el;\n        this.option = option;\n        // get the element that is actually supposed to be dragged by\n        let handleName = option.handle.substring(1);\n        this.dragEl = el.classList.contains(handleName) ? el : el.querySelector(option.handle) || el;\n        // create var event binding so we can easily remove and still look like TS methods (unlike anonymous functions)\n        this._mouseDown = this._mouseDown.bind(this);\n        this._mouseMove = this._mouseMove.bind(this);\n        this._mouseUp = this._mouseUp.bind(this);\n        this.enable();\n    }\n    on(event, callback) {\n        super.on(event, callback);\n    }\n    off(event) {\n        super.off(event);\n    }\n    enable() {\n        if (this.disabled === false)\n            return;\n        super.enable();\n        this.dragEl.addEventListener('mousedown', this._mouseDown);\n        if (isTouch) {\n            this.dragEl.addEventListener('touchstart', touchstart);\n            this.dragEl.addEventListener('pointerdown', pointerdown);\n            // this.dragEl.style.touchAction = 'none'; // not needed unlike pointerdown doc comment\n        }\n        this.el.classList.remove('ui-draggable-disabled');\n    }\n    disable(forDestroy = false) {\n        if (this.disabled === true)\n            return;\n        super.disable();\n        this.dragEl.removeEventListener('mousedown', this._mouseDown);\n        if (isTouch) {\n            this.dragEl.removeEventListener('touchstart', touchstart);\n            this.dragEl.removeEventListener('pointerdown', pointerdown);\n        }\n        if (!forDestroy)\n            this.el.classList.add('ui-draggable-disabled');\n    }\n    destroy() {\n        if (this.dragTimeout)\n            window.clearTimeout(this.dragTimeout);\n        delete this.dragTimeout;\n        if (this.mouseDownEvent)\n            this._mouseUp(this.mouseDownEvent);\n        this.disable(true);\n        delete this.el;\n        delete this.helper;\n        delete this.option;\n        super.destroy();\n    }\n    updateOption(opts) {\n        Object.keys(opts).forEach(key => this.option[key] = opts[key]);\n        return this;\n    }\n    /** @internal call when mouse goes down before a dragstart happens */\n    _mouseDown(e) {\n        // don't let more than one widget handle mouseStart\n        if (DDManager.mouseHandled)\n            return;\n        if (e.button !== 0)\n            return true; // only left click\n        // make sure we are not clicking on known object that handles mouseDown, or ones supplied by the user\n        if (e.target.closest(skipMouseDown))\n            return true;\n        if (this.option.cancel) {\n            if (e.target.closest(this.option.cancel))\n                return true;\n        }\n        // REMOVE: why would we get the event if it wasn't for us or child ?\n        // make sure we are clicking on a drag handle or child of it...\n        // Note: we don't need to check that's handle is an immediate child, as mouseHandled will prevent parents from also handling it (lowest wins)\n        // let className = this.option.handle.substring(1);\n        // let el = e.target as HTMLElement;\n        // while (el && !el.classList.contains(className)) { el = el.parentElement; }\n        // if (!el) return;\n        this.mouseDownEvent = e;\n        delete this.dragging;\n        delete DDManager.dragElement;\n        delete DDManager.dropElement;\n        // document handler so we can continue receiving moves as the item is 'fixed' position, and capture=true so WE get a first crack\n        document.addEventListener('mousemove', this._mouseMove, true); // true=capture, not bubble\n        document.addEventListener('mouseup', this._mouseUp, true);\n        if (isTouch) {\n            this.dragEl.addEventListener('touchmove', touchmove);\n            this.dragEl.addEventListener('touchend', touchend);\n        }\n        e.preventDefault();\n        // preventDefault() prevents blur event which occurs just after mousedown event.\n        // if an editable content has focus, then blur must be call\n        if (document.activeElement)\n            document.activeElement.blur();\n        DDManager.mouseHandled = true;\n        return true;\n    }\n    /** @internal method to call actual drag event */\n    _callDrag(e) {\n        if (!this.dragging)\n            return;\n        const ev = Utils.initEvent(e, { target: this.el, type: 'drag' });\n        if (this.option.drag) {\n            this.option.drag(ev, this.ui());\n        }\n        this.triggerEvent('drag', ev);\n    }\n    /** @internal called when the main page (after successful mousedown) receives a move event to drag the item around the screen */\n    _mouseMove(e) {\n        // console.log(`${count++} move ${e.x},${e.y}`)\n        let s = this.mouseDownEvent;\n        if (this.dragging) {\n            this._dragFollow(e);\n            // delay actual grid handling drag until we pause for a while if set\n            if (DDManager.pauseDrag) {\n                const pause = Number.isInteger(DDManager.pauseDrag) ? DDManager.pauseDrag : 100;\n                if (this.dragTimeout)\n                    window.clearTimeout(this.dragTimeout);\n                this.dragTimeout = window.setTimeout(() => this._callDrag(e), pause);\n            }\n            else {\n                this._callDrag(e);\n            }\n        }\n        else if (Math.abs(e.x - s.x) + Math.abs(e.y - s.y) > 3) {\n            /**\n             * don't start unless we've moved at least 3 pixels\n             */\n            this.dragging = true;\n            DDManager.dragElement = this;\n            // if we're dragging an actual grid item, set the current drop as the grid (to detect enter/leave)\n            let grid = this.el.gridstackNode?.grid;\n            if (grid) {\n                DDManager.dropElement = grid.el.ddElement.ddDroppable;\n            }\n            else {\n                delete DDManager.dropElement;\n            }\n            this.helper = this._createHelper(e);\n            this._setupHelperContainmentStyle();\n            this.dragOffset = this._getDragOffset(e, this.el, this.helperContainment);\n            const ev = Utils.initEvent(e, { target: this.el, type: 'dragstart' });\n            this._setupHelperStyle(e);\n            if (this.option.start) {\n                this.option.start(ev, this.ui());\n            }\n            this.triggerEvent('dragstart', ev);\n        }\n        e.preventDefault(); // needed otherwise we get text sweep text selection as we drag around\n        return true;\n    }\n    /** @internal call when the mouse gets released to drop the item at current location */\n    _mouseUp(e) {\n        document.removeEventListener('mousemove', this._mouseMove, true);\n        document.removeEventListener('mouseup', this._mouseUp, true);\n        if (isTouch) {\n            this.dragEl.removeEventListener('touchmove', touchmove, true);\n            this.dragEl.removeEventListener('touchend', touchend, true);\n        }\n        if (this.dragging) {\n            delete this.dragging;\n            // reset the drop target if dragging over ourself (already parented, just moving during stop callback below)\n            if (DDManager.dropElement?.el === this.el.parentElement) {\n                delete DDManager.dropElement;\n            }\n            this.helperContainment.style.position = this.parentOriginStylePosition || null;\n            if (this.helper === this.el) {\n                this._removeHelperStyle();\n            }\n            else {\n                this.helper.remove();\n            }\n            const ev = Utils.initEvent(e, { target: this.el, type: 'dragstop' });\n            if (this.option.stop) {\n                this.option.stop(ev); // NOTE: destroy() will be called when removing item, so expect NULL ptr after!\n            }\n            this.triggerEvent('dragstop', ev);\n            // call the droppable method to receive the item\n            if (DDManager.dropElement) {\n                DDManager.dropElement.drop(e);\n            }\n        }\n        delete this.helper;\n        delete this.mouseDownEvent;\n        delete DDManager.dragElement;\n        delete DDManager.dropElement;\n        delete DDManager.mouseHandled;\n        e.preventDefault();\n    }\n    /** @internal create a clone copy (or user defined method) of the original drag item if set */\n    _createHelper(event) {\n        let helper = this.el;\n        if (typeof this.option.helper === 'function') {\n            helper = this.option.helper(event);\n        }\n        else if (this.option.helper === 'clone') {\n            helper = Utils.cloneNode(this.el);\n        }\n        if (!document.body.contains(helper)) {\n            Utils.appendTo(helper, this.option.appendTo === 'parent' ? this.el.parentElement : this.option.appendTo);\n        }\n        if (helper === this.el) {\n            this.dragElementOriginStyle = DDDraggable.originStyleProp.map(prop => this.el.style[prop]);\n        }\n        return helper;\n    }\n    /** @internal set the fix position of the dragged item */\n    _setupHelperStyle(e) {\n        this.helper.classList.add('ui-draggable-dragging');\n        // TODO: set all at once with style.cssText += ... ? https://stackoverflow.com/questions/3968593\n        const style = this.helper.style;\n        style.pointerEvents = 'none'; // needed for over items to get enter/leave\n        // style.cursor = 'move'; //  TODO: can't set with pointerEvents=none ! (done in CSS as well)\n        style.width = this.dragOffset.width + 'px';\n        style.height = this.dragOffset.height + 'px';\n        style.willChange = 'left, top';\n        style.position = 'fixed'; // let us drag between grids by not clipping as parent .grid-stack is position: 'relative'\n        this._dragFollow(e); // now position it\n        style.transition = 'none'; // show up instantly\n        setTimeout(() => {\n            if (this.helper) {\n                style.transition = null; // recover animation\n            }\n        }, 0);\n        return this;\n    }\n    /** @internal restore back the original style before dragging */\n    _removeHelperStyle() {\n        this.helper.classList.remove('ui-draggable-dragging');\n        let node = this.helper?.gridstackNode;\n        // don't bother restoring styles if we're gonna remove anyway...\n        if (!node?._isAboutToRemove && this.dragElementOriginStyle) {\n            let helper = this.helper;\n            // don't animate, otherwise we animate offseted when switching back to 'absolute' from 'fixed'.\n            // TODO: this also removes resizing animation which doesn't have this issue, but others.\n            // Ideally both would animate ('move' would immediately restore 'absolute' and adjust coordinate to match,\n            // then trigger a delay (repaint) to restore to final dest with animate) but then we need to make sure 'resizestop'\n            // is called AFTER 'transitionend' event is received (see https://github.com/gridstack/gridstack.js/issues/2033)\n            let transition = this.dragElementOriginStyle['transition'] || null;\n            helper.style.transition = this.dragElementOriginStyle['transition'] = 'none'; // can't be NULL #1973\n            DDDraggable.originStyleProp.forEach(prop => helper.style[prop] = this.dragElementOriginStyle[prop] || null);\n            setTimeout(() => helper.style.transition = transition, 50); // recover animation from saved vars after a pause (0 isn't enough #1973)\n        }\n        delete this.dragElementOriginStyle;\n        return this;\n    }\n    /** @internal updates the top/left position to follow the mouse */\n    _dragFollow(e) {\n        let containmentRect = { left: 0, top: 0 };\n        // if (this.helper.style.position === 'absolute') { // we use 'fixed'\n        //   const { left, top } = this.helperContainment.getBoundingClientRect();\n        //   containmentRect = { left, top };\n        // }\n        const style = this.helper.style;\n        const offset = this.dragOffset;\n        style.left = (e.clientX + offset.offsetLeft - containmentRect.left) * this.dragScale.x + 'px';\n        style.top = (e.clientY + offset.offsetTop - containmentRect.top) * this.dragScale.y + 'px';\n    }\n    /** @internal */\n    _setupHelperContainmentStyle() {\n        this.helperContainment = this.helper.parentElement;\n        if (this.helper.style.position !== 'fixed') {\n            this.parentOriginStylePosition = this.helperContainment.style.position;\n            if (getComputedStyle(this.helperContainment).position.match(/static/)) {\n                this.helperContainment.style.position = 'relative';\n            }\n        }\n        return this;\n    }\n    /** @internal */\n    _getDragOffset(event, el, parent) {\n        // in case ancestor has transform/perspective css properties that change the viewpoint\n        let xformOffsetX = 0;\n        let xformOffsetY = 0;\n        if (parent) {\n            const testEl = document.createElement('div');\n            Utils.addElStyles(testEl, {\n                opacity: '0',\n                position: 'fixed',\n                top: 0 + 'px',\n                left: 0 + 'px',\n                width: '1px',\n                height: '1px',\n                zIndex: '-999999',\n            });\n            parent.appendChild(testEl);\n            const testElPosition = testEl.getBoundingClientRect();\n            parent.removeChild(testEl);\n            xformOffsetX = testElPosition.left;\n            xformOffsetY = testElPosition.top;\n            this.dragScale = {\n                x: 1 / testElPosition.width,\n                y: 1 / testElPosition.height\n            };\n        }\n        const targetOffset = el.getBoundingClientRect();\n        return {\n            left: targetOffset.left,\n            top: targetOffset.top,\n            offsetLeft: -event.clientX + targetOffset.left - xformOffsetX,\n            offsetTop: -event.clientY + targetOffset.top - xformOffsetY,\n            width: targetOffset.width * this.dragScale.x,\n            height: targetOffset.height * this.dragScale.y\n        };\n    }\n    /** @internal TODO: set to public as called by DDDroppable! */\n    ui() {\n        const containmentEl = this.el.parentElement;\n        const containmentRect = containmentEl.getBoundingClientRect();\n        const offset = this.helper.getBoundingClientRect();\n        return {\n            position: {\n                top: (offset.top - containmentRect.top) * this.dragScale.y,\n                left: (offset.left - containmentRect.left) * this.dragScale.x\n            }\n            /* not used by GridStack for now...\n            helper: [this.helper], //The object arr representing the helper that's being dragged.\n            offset: { top: offset.top, left: offset.left } // Current offset position of the helper as { top, left } object.\n            */\n        };\n    }\n}\n/** @internal properties we change during dragging, and restore back */\nDDDraggable.originStyleProp = ['transition', 'pointerEvents', 'position', 'left', 'top', 'minWidth', 'willChange'];\nexport { DDDraggable };\n//# sourceMappingURL=dd-draggable.js.map","/**\n * dd-droppable.ts 10.0.1\n * Copyright (c) 2021-2022 Alain Dumesny - see GridStack root license\n */\nimport { DDManager } from './dd-manager';\nimport { DDBaseImplement } from './dd-base-impl';\nimport { Utils } from './utils';\nimport { isTouch, pointerenter, pointerleave } from './dd-touch';\n// let count = 0; // TEST\nexport class DDDroppable extends DDBaseImplement {\n    constructor(el, opts = {}) {\n        super();\n        this.el = el;\n        this.option = opts;\n        // create var event binding so we can easily remove and still look like TS methods (unlike anonymous functions)\n        this._mouseEnter = this._mouseEnter.bind(this);\n        this._mouseLeave = this._mouseLeave.bind(this);\n        this.enable();\n        this._setupAccept();\n    }\n    on(event, callback) {\n        super.on(event, callback);\n    }\n    off(event) {\n        super.off(event);\n    }\n    enable() {\n        if (this.disabled === false)\n            return;\n        super.enable();\n        this.el.classList.add('ui-droppable');\n        this.el.classList.remove('ui-droppable-disabled');\n        this.el.addEventListener('mouseenter', this._mouseEnter);\n        this.el.addEventListener('mouseleave', this._mouseLeave);\n        if (isTouch) {\n            this.el.addEventListener('pointerenter', pointerenter);\n            this.el.addEventListener('pointerleave', pointerleave);\n        }\n    }\n    disable(forDestroy = false) {\n        if (this.disabled === true)\n            return;\n        super.disable();\n        this.el.classList.remove('ui-droppable');\n        if (!forDestroy)\n            this.el.classList.add('ui-droppable-disabled');\n        this.el.removeEventListener('mouseenter', this._mouseEnter);\n        this.el.removeEventListener('mouseleave', this._mouseLeave);\n        if (isTouch) {\n            this.el.removeEventListener('pointerenter', pointerenter);\n            this.el.removeEventListener('pointerleave', pointerleave);\n        }\n    }\n    destroy() {\n        this.disable(true);\n        this.el.classList.remove('ui-droppable');\n        this.el.classList.remove('ui-droppable-disabled');\n        super.destroy();\n    }\n    updateOption(opts) {\n        Object.keys(opts).forEach(key => this.option[key] = opts[key]);\n        this._setupAccept();\n        return this;\n    }\n    /** @internal called when the cursor enters our area - prepare for a possible drop and track leaving */\n    _mouseEnter(e) {\n        // console.log(`${count++} Enter ${this.el.id || (this.el as GridHTMLElement).gridstack.opts.id}`); // TEST\n        if (!DDManager.dragElement)\n            return;\n        if (!this._canDrop(DDManager.dragElement.el))\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        // make sure when we enter this, that the last one gets a leave FIRST to correctly cleanup as we don't always do\n        if (DDManager.dropElement && DDManager.dropElement !== this) {\n            DDManager.dropElement._mouseLeave(e);\n        }\n        DDManager.dropElement = this;\n        const ev = Utils.initEvent(e, { target: this.el, type: 'dropover' });\n        if (this.option.over) {\n            this.option.over(ev, this._ui(DDManager.dragElement));\n        }\n        this.triggerEvent('dropover', ev);\n        this.el.classList.add('ui-droppable-over');\n        // console.log('tracking'); // TEST\n    }\n    /** @internal called when the item is leaving our area, stop tracking if we had moving item */\n    _mouseLeave(e) {\n        // console.log(`${count++} Leave ${this.el.id || (this.el as GridHTMLElement).gridstack.opts.id}`); // TEST\n        if (!DDManager.dragElement || DDManager.dropElement !== this)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        const ev = Utils.initEvent(e, { target: this.el, type: 'dropout' });\n        if (this.option.out) {\n            this.option.out(ev, this._ui(DDManager.dragElement));\n        }\n        this.triggerEvent('dropout', ev);\n        if (DDManager.dropElement === this) {\n            delete DDManager.dropElement;\n            // console.log('not tracking'); // TEST\n            // if we're still over a parent droppable, send it an enter as we don't get one from leaving nested children\n            let parentDrop;\n            let parent = this.el.parentElement;\n            while (!parentDrop && parent) {\n                parentDrop = parent.ddElement?.ddDroppable;\n                parent = parent.parentElement;\n            }\n            if (parentDrop) {\n                parentDrop._mouseEnter(e);\n            }\n        }\n    }\n    /** item is being dropped on us - called by the drag mouseup handler - this calls the client drop event */\n    drop(e) {\n        e.preventDefault();\n        const ev = Utils.initEvent(e, { target: this.el, type: 'drop' });\n        if (this.option.drop) {\n            this.option.drop(ev, this._ui(DDManager.dragElement));\n        }\n        this.triggerEvent('drop', ev);\n    }\n    /** @internal true if element matches the string/method accept option */\n    _canDrop(el) {\n        return el && (!this.accept || this.accept(el));\n    }\n    /** @internal */\n    _setupAccept() {\n        if (!this.option.accept)\n            return this;\n        if (typeof this.option.accept === 'string') {\n            this.accept = (el) => el.classList.contains(this.option.accept) || el.matches(this.option.accept);\n        }\n        else {\n            this.accept = this.option.accept;\n        }\n        return this;\n    }\n    /** @internal */\n    _ui(drag) {\n        return {\n            draggable: drag.el,\n            ...drag.ui()\n        };\n    }\n}\n//# sourceMappingURL=dd-droppable.js.map","/**\n * dd-elements.ts 10.0.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\nimport { DDResizable } from './dd-resizable';\nimport { DDDraggable } from './dd-draggable';\nimport { DDDroppable } from './dd-droppable';\nexport class DDElement {\n    static init(el) {\n        if (!el.ddElement) {\n            el.ddElement = new DDElement(el);\n        }\n        return el.ddElement;\n    }\n    constructor(el) {\n        this.el = el;\n    }\n    on(eventName, callback) {\n        if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\n            this.ddDraggable.on(eventName, callback);\n        }\n        else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\n            this.ddDroppable.on(eventName, callback);\n        }\n        else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\n            this.ddResizable.on(eventName, callback);\n        }\n        return this;\n    }\n    off(eventName) {\n        if (this.ddDraggable && ['drag', 'dragstart', 'dragstop'].indexOf(eventName) > -1) {\n            this.ddDraggable.off(eventName);\n        }\n        else if (this.ddDroppable && ['drop', 'dropover', 'dropout'].indexOf(eventName) > -1) {\n            this.ddDroppable.off(eventName);\n        }\n        else if (this.ddResizable && ['resizestart', 'resize', 'resizestop'].indexOf(eventName) > -1) {\n            this.ddResizable.off(eventName);\n        }\n        return this;\n    }\n    setupDraggable(opts) {\n        if (!this.ddDraggable) {\n            this.ddDraggable = new DDDraggable(this.el, opts);\n        }\n        else {\n            this.ddDraggable.updateOption(opts);\n        }\n        return this;\n    }\n    cleanDraggable() {\n        if (this.ddDraggable) {\n            this.ddDraggable.destroy();\n            delete this.ddDraggable;\n        }\n        return this;\n    }\n    setupResizable(opts) {\n        if (!this.ddResizable) {\n            this.ddResizable = new DDResizable(this.el, opts);\n        }\n        else {\n            this.ddResizable.updateOption(opts);\n        }\n        return this;\n    }\n    cleanResizable() {\n        if (this.ddResizable) {\n            this.ddResizable.destroy();\n            delete this.ddResizable;\n        }\n        return this;\n    }\n    setupDroppable(opts) {\n        if (!this.ddDroppable) {\n            this.ddDroppable = new DDDroppable(this.el, opts);\n        }\n        else {\n            this.ddDroppable.updateOption(opts);\n        }\n        return this;\n    }\n    cleanDroppable() {\n        if (this.ddDroppable) {\n            this.ddDroppable.destroy();\n            delete this.ddDroppable;\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=dd-element.js.map","/*!\n * GridStack 10.0.1\n * https://gridstackjs.com/\n *\n * Copyright (c) 2021-2022 Alain Dumesny\n * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE\n */\nimport { GridStackEngine } from './gridstack-engine';\nimport { Utils, obsolete } from './utils';\nimport { gridDefaults, dragInDefaultOptions } from './types';\n/*\n * and include D&D by default\n * TODO: while we could generate a gridstack-static.js at smaller size - saves about 31k (41k -> 72k)\n * I don't know how to generate the DD only code at the remaining 31k to delay load as code depends on Gridstack.ts\n * also it caused loading issues in prod - see https://github.com/gridstack/gridstack.js/issues/2039\n */\nimport { DDGridStack } from './dd-gridstack';\nimport { isTouch } from './dd-touch';\nimport { DDManager } from './dd-manager';\nconst dd = new DDGridStack;\n// export all dependent file as well to make it easier for users to just import the main file\nexport * from './types';\nexport * from './utils';\nexport * from './gridstack-engine';\nexport * from './dd-gridstack';\n/**\n * Main gridstack class - you will need to call `GridStack.init()` first to initialize your grid.\n * Note: your grid elements MUST have the following classes for the CSS layout to work:\n * @example\n * <div class=\"grid-stack\">\n *   <div class=\"grid-stack-item\">\n *     <div class=\"grid-stack-item-content\">Item 1</div>\n *   </div>\n * </div>\n */\nclass GridStack {\n    /**\n     * initializing the HTML element, or selector string, into a grid will return the grid. Calling it again will\n     * simply return the existing instance (ignore any passed options). There is also an initAll() version that support\n     * multiple grids initialization at once. Or you can use addGrid() to create the entire grid from JSON.\n     * @param options grid options (optional)\n     * @param elOrString element or CSS selector (first one used) to convert to a grid (default to '.grid-stack' class selector)\n     *\n     * @example\n     * let grid = GridStack.init();\n     *\n     * Note: the HTMLElement (of type GridHTMLElement) will store a `gridstack: GridStack` value that can be retrieve later\n     * let grid = document.querySelector('.grid-stack').gridstack;\n     */\n    static init(options = {}, elOrString = '.grid-stack') {\n        let el = GridStack.getGridElement(elOrString);\n        if (!el) {\n            if (typeof elOrString === 'string') {\n                console.error('GridStack.initAll() no grid was found with selector \"' + elOrString + '\" - element missing or wrong selector ?' +\n                    '\\nNote: \".grid-stack\" is required for proper CSS styling and drag/drop, and is the default selector.');\n            }\n            else {\n                console.error('GridStack.init() no grid element was passed.');\n            }\n            return null;\n        }\n        if (!el.gridstack) {\n            el.gridstack = new GridStack(el, Utils.cloneDeep(options));\n        }\n        return el.gridstack;\n    }\n    /**\n     * Will initialize a list of elements (given a selector) and return an array of grids.\n     * @param options grid options (optional)\n     * @param selector elements selector to convert to grids (default to '.grid-stack' class selector)\n     *\n     * @example\n     * let grids = GridStack.initAll();\n     * grids.forEach(...)\n     */\n    static initAll(options = {}, selector = '.grid-stack') {\n        let grids = [];\n        GridStack.getGridElements(selector).forEach(el => {\n            if (!el.gridstack) {\n                el.gridstack = new GridStack(el, Utils.cloneDeep(options));\n            }\n            grids.push(el.gridstack);\n        });\n        if (grids.length === 0) {\n            console.error('GridStack.initAll() no grid was found with selector \"' + selector + '\" - element missing or wrong selector ?' +\n                '\\nNote: \".grid-stack\" is required for proper CSS styling and drag/drop, and is the default selector.');\n        }\n        return grids;\n    }\n    /**\n     * call to create a grid with the given options, including loading any children from JSON structure. This will call GridStack.init(), then\n     * grid.load() on any passed children (recursively). Great alternative to calling init() if you want entire grid to come from\n     * JSON serialized data, including options.\n     * @param parent HTML element parent to the grid\n     * @param opt grids options used to initialize the grid, and list of children\n     */\n    static addGrid(parent, opt = {}) {\n        if (!parent)\n            return null;\n        let el = parent;\n        if (el.gridstack) {\n            // already a grid - set option and load data\n            const grid = el.gridstack;\n            if (opt)\n                grid.opts = { ...grid.opts, ...opt };\n            if (opt.children !== undefined)\n                grid.load(opt.children);\n            return grid;\n        }\n        // create the grid element, but check if the passed 'parent' already has grid styling and should be used instead\n        const parentIsGrid = parent.classList.contains('grid-stack');\n        if (!parentIsGrid || GridStack.addRemoveCB) {\n            if (GridStack.addRemoveCB) {\n                el = GridStack.addRemoveCB(parent, opt, true, true);\n            }\n            else {\n                let doc = document.implementation.createHTMLDocument(''); // IE needs a param\n                doc.body.innerHTML = `<div class=\"grid-stack ${opt.class || ''}\"></div>`;\n                el = doc.body.children[0];\n                parent.appendChild(el);\n            }\n        }\n        // create grid class and load any children\n        let grid = GridStack.init(opt, el);\n        return grid;\n    }\n    /** call this method to register your engine instead of the default one.\n     * See instead `GridStackOptions.engineClass` if you only need to\n     * replace just one instance.\n     */\n    static registerEngine(engineClass) {\n        GridStack.engineClass = engineClass;\n    }\n    /** @internal create placeholder DIV as needed */\n    get placeholder() {\n        if (!this._placeholder) {\n            let placeholderChild = document.createElement('div'); // child so padding match item-content\n            placeholderChild.className = 'placeholder-content';\n            if (this.opts.placeholderText) {\n                placeholderChild.innerHTML = this.opts.placeholderText;\n            }\n            this._placeholder = document.createElement('div');\n            this._placeholder.classList.add(this.opts.placeholderClass, gridDefaults.itemClass, this.opts.itemClass);\n            this.placeholder.appendChild(placeholderChild);\n        }\n        return this._placeholder;\n    }\n    /**\n     * Construct a grid item from the given element and options\n     * @param el\n     * @param opts\n     */\n    constructor(el, opts = {}) {\n        /** @internal */\n        this._gsEventHandler = {};\n        /** @internal extra row added when dragging at the bottom of the grid */\n        this._extraDragRow = 0;\n        el.gridstack = this;\n        this.el = el; // exposed HTML element to the user\n        opts = opts || {}; // handles null/undefined/0\n        if (!el.classList.contains('grid-stack')) {\n            this.el.classList.add('grid-stack');\n        }\n        // if row property exists, replace minRow and maxRow instead\n        if (opts.row) {\n            opts.minRow = opts.maxRow = opts.row;\n            delete opts.row;\n        }\n        let rowAttr = Utils.toNumber(el.getAttribute('gs-row'));\n        // flag only valid in sub-grids (handled by parent, not here)\n        if (opts.column === 'auto') {\n            delete opts.column;\n        }\n        // save original setting so we can restore on save\n        if (opts.alwaysShowResizeHandle !== undefined) {\n            opts._alwaysShowResizeHandle = opts.alwaysShowResizeHandle;\n        }\n        let bk = opts.columnOpts?.breakpoints;\n        // LEGACY: oneColumnMode stuff changed in v10.x - check if user explicitly set something to convert over\n        const oldOpts = opts;\n        if (oldOpts.oneColumnModeDomSort) {\n            delete oldOpts.oneColumnModeDomSort;\n            console.log('Error: Gridstack oneColumnModeDomSort no longer supported. Check GridStackOptions.columnOpts instead.');\n        }\n        if (oldOpts.oneColumnSize || oldOpts.disableOneColumnMode === false) {\n            const oneSize = oldOpts.oneColumnSize || 768;\n            delete oldOpts.oneColumnSize;\n            delete oldOpts.disableOneColumnMode;\n            opts.columnOpts = opts.columnOpts || {};\n            bk = opts.columnOpts.breakpoints = opts.columnOpts.breakpoints || [];\n            let oneColumn = bk.find(b => b.c === 1);\n            if (!oneColumn) {\n                oneColumn = { c: 1, w: oneSize };\n                bk.push(oneColumn, { c: 12, w: oneSize + 1 });\n            }\n            else\n                oneColumn.w = oneSize;\n        }\n        //...end LEGACY\n        // cleanup responsive opts (must have columnWidth | breakpoints) then sort breakpoints by size (so we can match during resize)\n        const resp = opts.columnOpts;\n        if (resp) {\n            if (!resp.columnWidth && !resp.breakpoints?.length) {\n                delete opts.columnOpts;\n                bk = undefined;\n            }\n            else {\n                resp.columnMax = resp.columnMax || 12;\n            }\n        }\n        if (bk?.length > 1)\n            bk.sort((a, b) => (b.w || 0) - (a.w || 0));\n        // elements DOM attributes override any passed options (like CSS style) - merge the two together\n        let defaults = { ...Utils.cloneDeep(gridDefaults),\n            column: Utils.toNumber(el.getAttribute('gs-column')) || gridDefaults.column,\n            minRow: rowAttr ? rowAttr : Utils.toNumber(el.getAttribute('gs-min-row')) || gridDefaults.minRow,\n            maxRow: rowAttr ? rowAttr : Utils.toNumber(el.getAttribute('gs-max-row')) || gridDefaults.maxRow,\n            staticGrid: Utils.toBool(el.getAttribute('gs-static')) || gridDefaults.staticGrid,\n            draggable: {\n                handle: (opts.handleClass ? '.' + opts.handleClass : (opts.handle ? opts.handle : '')) || gridDefaults.draggable.handle,\n            },\n            removableOptions: {\n                accept: opts.itemClass || gridDefaults.removableOptions.accept,\n                decline: gridDefaults.removableOptions.decline\n            },\n        };\n        if (el.getAttribute('gs-animate')) { // default to true, but if set to false use that instead\n            defaults.animate = Utils.toBool(el.getAttribute('gs-animate'));\n        }\n        this.opts = Utils.defaults(opts, defaults);\n        opts = null; // make sure we use this.opts instead\n        this._initMargin(); // part of settings defaults...\n        // Now check if we're loading into 1 column mode FIRST so we don't do un-necessary work (like cellHeight = width / 12 then go 1 column)\n        this.checkDynamicColumn();\n        this.el.classList.add('gs-' + this.opts.column);\n        if (this.opts.rtl === 'auto') {\n            this.opts.rtl = (el.style.direction === 'rtl');\n        }\n        if (this.opts.rtl) {\n            this.el.classList.add('grid-stack-rtl');\n        }\n        // check if we're been nested, and if so update our style and keep pointer around (used during save)\n        const grandParent = this.el.parentElement?.parentElement;\n        let parentGridItem = grandParent?.classList.contains(gridDefaults.itemClass) ? grandParent.gridstackNode : undefined;\n        if (parentGridItem) {\n            parentGridItem.subGrid = this;\n            this.parentGridItem = parentGridItem;\n            this.el.classList.add('grid-stack-nested');\n            parentGridItem.el.classList.add('grid-stack-sub-grid');\n        }\n        this._isAutoCellHeight = (this.opts.cellHeight === 'auto');\n        if (this._isAutoCellHeight || this.opts.cellHeight === 'initial') {\n            // make the cell content square initially (will use resize/column event to keep it square)\n            this.cellHeight(undefined, false);\n        }\n        else {\n            // append unit if any are set\n            if (typeof this.opts.cellHeight == 'number' && this.opts.cellHeightUnit && this.opts.cellHeightUnit !== gridDefaults.cellHeightUnit) {\n                this.opts.cellHeight = this.opts.cellHeight + this.opts.cellHeightUnit;\n                delete this.opts.cellHeightUnit;\n            }\n            this.cellHeight(this.opts.cellHeight, false);\n        }\n        // see if we need to adjust auto-hide\n        if (this.opts.alwaysShowResizeHandle === 'mobile') {\n            this.opts.alwaysShowResizeHandle = isTouch;\n        }\n        this._styleSheetClass = 'gs-id-' + GridStackEngine._idSeq++;\n        this.el.classList.add(this._styleSheetClass);\n        this._setStaticClass();\n        let engineClass = this.opts.engineClass || GridStack.engineClass || GridStackEngine;\n        this.engine = new engineClass({\n            column: this.getColumn(),\n            float: this.opts.float,\n            maxRow: this.opts.maxRow,\n            onChange: (cbNodes) => {\n                let maxH = 0;\n                this.engine.nodes.forEach(n => { maxH = Math.max(maxH, n.y + n.h); });\n                cbNodes.forEach(n => {\n                    let el = n.el;\n                    if (!el)\n                        return;\n                    if (n._removeDOM) {\n                        if (el)\n                            el.remove();\n                        delete n._removeDOM;\n                    }\n                    else {\n                        this._writePosAttr(el, n);\n                    }\n                });\n                this._updateStyles(false, maxH); // false = don't recreate, just append if need be\n            }\n        });\n        // create initial global styles BEFORE loading children so resizeToContent margin can be calculated correctly\n        this._updateStyles(false, 0);\n        if (this.opts.auto) {\n            this.batchUpdate(); // prevent in between re-layout #1535 TODO: this only set float=true, need to prevent collision check...\n            this.getGridItems().forEach(el => this._prepareElement(el));\n            this.batchUpdate(false);\n        }\n        // load any passed in children as well, which overrides any DOM layout done above\n        if (this.opts.children) {\n            let children = this.opts.children;\n            delete this.opts.children;\n            if (children.length)\n                this.load(children); // don't load empty\n        }\n        // if (this.engine.nodes.length) this._updateStyles(); // update based on # of children. done in engine onChange CB\n        this.setAnimation(this.opts.animate);\n        // dynamic grids require pausing during drag to detect over to nest vs push\n        if (this.opts.subGridDynamic && !DDManager.pauseDrag)\n            DDManager.pauseDrag = true;\n        if (this.opts.draggable?.pause !== undefined)\n            DDManager.pauseDrag = this.opts.draggable.pause;\n        this._setupRemoveDrop();\n        this._setupAcceptWidget();\n        this._updateResizeEvent();\n    }\n    /**\n     * add a new widget and returns it.\n     *\n     * Widget will be always placed even if result height is more than actual grid height.\n     * You need to use `willItFit()` before calling addWidget for additional check.\n     * See also `makeWidget()`.\n     *\n     * @example\n     * let grid = GridStack.init();\n     * grid.addWidget({w: 3, content: 'hello'});\n     * grid.addWidget('<div class=\"grid-stack-item\"><div class=\"grid-stack-item-content\">hello</div></div>', {w: 3});\n     *\n     * @param el  GridStackWidget (which can have content string as well), html element, or string definition to add\n     * @param options widget position/size options (optional, and ignore if first param is already option) - see GridStackWidget\n     */\n    addWidget(els, options) {\n        function isGridStackWidget(w) {\n            return w.el !== undefined || w.x !== undefined || w.y !== undefined || w.w !== undefined || w.h !== undefined || w.content !== undefined ? true : false;\n        }\n        let el;\n        let node;\n        if (typeof els === 'string') {\n            let doc = document.implementation.createHTMLDocument(''); // IE needs a param\n            doc.body.innerHTML = els;\n            el = doc.body.children[0];\n        }\n        else if (arguments.length === 0 || arguments.length === 1 && isGridStackWidget(els)) {\n            node = options = els;\n            if (node?.el) {\n                el = node.el; // re-use element stored in the node\n            }\n            else if (GridStack.addRemoveCB) {\n                el = GridStack.addRemoveCB(this.el, options, true, false);\n            }\n            else {\n                let content = options?.content || '';\n                let doc = document.implementation.createHTMLDocument(''); // IE needs a param\n                doc.body.innerHTML = `<div class=\"grid-stack-item ${this.opts.itemClass || ''}\"><div class=\"grid-stack-item-content\">${content}</div></div>`;\n                el = doc.body.children[0];\n            }\n        }\n        else {\n            el = els;\n        }\n        if (!el)\n            return;\n        // if the caller ended up initializing the widget in addRemoveCB, or we stared with one already, skip the rest\n        node = el.gridstackNode;\n        if (node && el.parentElement === this.el && this.engine.nodes.find(n => n._id === node._id))\n            return el;\n        // Tempting to initialize the passed in opt with default and valid values, but this break knockout demos\n        // as the actual value are filled in when _prepareElement() calls el.getAttribute('gs-xyz') before adding the node.\n        // So make sure we load any DOM attributes that are not specified in passed in options (which override)\n        let domAttr = this._readAttr(el);\n        options = Utils.cloneDeep(options) || {}; // make a copy before we modify in case caller re-uses it\n        Utils.defaults(options, domAttr);\n        node = this.engine.prepareNode(options);\n        this._writeAttr(el, options);\n        if (this._insertNotAppend) {\n            this.el.prepend(el);\n        }\n        else {\n            this.el.appendChild(el);\n        }\n        this.makeWidget(el, options);\n        return el;\n    }\n    /**\n     * Convert an existing gridItem element into a sub-grid with the given (optional) options, else inherit them\n     * from the parent's subGrid options.\n     * @param el gridItem element to convert\n     * @param ops (optional) sub-grid options, else default to node, then parent settings, else defaults\n     * @param nodeToAdd (optional) node to add to the newly created sub grid (used when dragging over existing regular item)\n     * @returns newly created grid\n     */\n    makeSubGrid(el, ops, nodeToAdd, saveContent = true) {\n        let node = el.gridstackNode;\n        if (!node) {\n            node = this.makeWidget(el).gridstackNode;\n        }\n        if (node.subGrid?.el)\n            return node.subGrid; // already done\n        // find the template subGrid stored on a parent as fallback...\n        let subGridTemplate; // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let grid = this;\n        while (grid && !subGridTemplate) {\n            subGridTemplate = grid.opts?.subGridOpts;\n            grid = grid.parentGridItem?.grid;\n        }\n        //... and set the create options\n        ops = Utils.cloneDeep({ ...(subGridTemplate || {}), children: undefined, ...(ops || node.subGridOpts) });\n        node.subGridOpts = ops;\n        // if column special case it set, remember that flag and set default\n        let autoColumn;\n        if (ops.column === 'auto') {\n            autoColumn = true;\n            ops.column = Math.max(node.w || 1, nodeToAdd?.w || 1);\n            delete ops.columnOpts; // driven by parent\n        }\n        // if we're converting an existing full item, move over the content to be the first sub item in the new grid\n        let content = node.el.querySelector('.grid-stack-item-content');\n        let newItem;\n        let newItemOpt;\n        if (saveContent) {\n            this._removeDD(node.el); // remove D&D since it's set on content div\n            newItemOpt = { ...node, x: 0, y: 0 };\n            Utils.removeInternalForSave(newItemOpt);\n            delete newItemOpt.subGridOpts;\n            if (node.content) {\n                newItemOpt.content = node.content;\n                delete node.content;\n            }\n            if (GridStack.addRemoveCB) {\n                newItem = GridStack.addRemoveCB(this.el, newItemOpt, true, false);\n            }\n            else {\n                let doc = document.implementation.createHTMLDocument(''); // IE needs a param\n                doc.body.innerHTML = `<div class=\"grid-stack-item\"></div>`;\n                newItem = doc.body.children[0];\n                newItem.appendChild(content);\n                doc.body.innerHTML = `<div class=\"grid-stack-item-content\"></div>`;\n                content = doc.body.children[0];\n                node.el.appendChild(content);\n            }\n            this._prepareDragDropByNode(node); // ... and restore original D&D\n        }\n        // if we're adding an additional item, make the container large enough to have them both\n        if (nodeToAdd) {\n            let w = autoColumn ? ops.column : node.w;\n            let h = node.h + nodeToAdd.h;\n            let style = node.el.style;\n            style.transition = 'none'; // show up instantly so we don't see scrollbar with nodeToAdd\n            this.update(node.el, { w, h });\n            setTimeout(() => style.transition = null); // recover animation\n        }\n        let subGrid = node.subGrid = GridStack.addGrid(content, ops);\n        if (nodeToAdd?._moving)\n            subGrid._isTemp = true; // prevent re-nesting as we add over\n        if (autoColumn)\n            subGrid._autoColumn = true;\n        // add the original content back as a child of hte newly created grid\n        if (saveContent) {\n            subGrid.addWidget(newItem, newItemOpt);\n        }\n        // now add any additional node\n        if (nodeToAdd) {\n            if (nodeToAdd._moving) {\n                // create an artificial event even for the just created grid to receive this item\n                window.setTimeout(() => Utils.simulateMouseEvent(nodeToAdd._event, 'mouseenter', subGrid.el), 0);\n            }\n            else {\n                subGrid.addWidget(node.el, node);\n            }\n        }\n        return subGrid;\n    }\n    /**\n     * called when an item was converted into a nested grid to accommodate a dragged over item, but then item leaves - return back\n     * to the original grid-item. Also called to remove empty sub-grids when last item is dragged out (since re-creating is simple)\n     */\n    removeAsSubGrid(nodeThatRemoved) {\n        let pGrid = this.parentGridItem?.grid;\n        if (!pGrid)\n            return;\n        pGrid.batchUpdate();\n        pGrid.removeWidget(this.parentGridItem.el, true, true);\n        this.engine.nodes.forEach(n => {\n            // migrate any children over and offsetting by our location\n            n.x += this.parentGridItem.x;\n            n.y += this.parentGridItem.y;\n            pGrid.addWidget(n.el, n);\n        });\n        pGrid.batchUpdate(false);\n        if (this.parentGridItem)\n            delete this.parentGridItem.subGrid;\n        delete this.parentGridItem;\n        // create an artificial event for the original grid now that this one is gone (got a leave, but won't get enter)\n        if (nodeThatRemoved) {\n            window.setTimeout(() => Utils.simulateMouseEvent(nodeThatRemoved._event, 'mouseenter', pGrid.el), 0);\n        }\n    }\n    /**\n     * saves the current layout returning a list of widgets for serialization which might include any nested grids.\n     * @param saveContent if true (default) the latest html inside .grid-stack-content will be saved to GridStackWidget.content field, else it will\n     * be removed.\n     * @param saveGridOpt if true (default false), save the grid options itself, so you can call the new GridStack.addGrid()\n     * to recreate everything from scratch. GridStackOptions.children would then contain the widget list instead.\n     * @param saveCB callback for each node -> widget, so application can insert additional data to be saved into the widget data structure.\n     * @returns list of widgets or full grid option, including .children list of widgets\n     */\n    save(saveContent = true, saveGridOpt = false, saveCB = GridStack.saveCB) {\n        // return copied GridStackWidget (with optionally .el) we can modify at will...\n        let list = this.engine.save(saveContent, saveCB);\n        // check for HTML content and nested grids\n        list.forEach(n => {\n            if (saveContent && n.el && !n.subGrid && !saveCB) { // sub-grid are saved differently, not plain content\n                let sub = n.el.querySelector('.grid-stack-item-content');\n                n.content = sub ? sub.innerHTML : undefined;\n                if (!n.content)\n                    delete n.content;\n            }\n            else {\n                if (!saveContent && !saveCB) {\n                    delete n.content;\n                }\n                // check for nested grid\n                if (n.subGrid?.el) {\n                    const listOrOpt = n.subGrid.save(saveContent, saveGridOpt, saveCB);\n                    n.subGridOpts = (saveGridOpt ? listOrOpt : { children: listOrOpt });\n                    delete n.subGrid;\n                }\n            }\n            delete n.el;\n        });\n        // check if save entire grid options (needed for recursive) + children...\n        if (saveGridOpt) {\n            let o = Utils.cloneDeep(this.opts);\n            // delete default values that will be recreated on launch\n            if (o.marginBottom === o.marginTop && o.marginRight === o.marginLeft && o.marginTop === o.marginRight) {\n                o.margin = o.marginTop;\n                delete o.marginTop;\n                delete o.marginRight;\n                delete o.marginBottom;\n                delete o.marginLeft;\n            }\n            if (o.rtl === (this.el.style.direction === 'rtl')) {\n                o.rtl = 'auto';\n            }\n            if (this._isAutoCellHeight) {\n                o.cellHeight = 'auto';\n            }\n            if (this._autoColumn) {\n                o.column = 'auto';\n            }\n            const origShow = o._alwaysShowResizeHandle;\n            delete o._alwaysShowResizeHandle;\n            if (origShow !== undefined) {\n                o.alwaysShowResizeHandle = origShow;\n            }\n            else {\n                delete o.alwaysShowResizeHandle;\n            }\n            Utils.removeInternalAndSame(o, gridDefaults);\n            o.children = list;\n            return o;\n        }\n        return list;\n    }\n    /**\n     * load the widgets from a list. This will call update() on each (matching by id) or add/remove widgets that are not there.\n     *\n     * @param layout list of widgets definition to update/create\n     * @param addAndRemove boolean (default true) or callback method can be passed to control if and how missing widgets can be added/removed, giving\n     * the user control of insertion.\n     *\n     * @example\n     * see http://gridstackjs.com/demo/serialization.html\n     */\n    load(items, addRemove = GridStack.addRemoveCB || true) {\n        items = Utils.cloneDeep(items); // so we can mod\n        const column = this.getColumn();\n        // if passed list has coordinates, use them (insert from end to beginning for conflict resolution) else keep widget order\n        const haveCoord = items.some(w => w.x !== undefined || w.y !== undefined);\n        if (haveCoord)\n            items = Utils.sort(items, -1, column);\n        this._insertNotAppend = haveCoord; // if we create in reverse order...\n        // if we're loading a layout into for example 1 column and items don't fit, make sure to save\n        // the original wanted layout so we can scale back up correctly #1471\n        if (items.some(n => ((n.x || 0) + (n.w || 1)) > column)) {\n            this._ignoreLayoutsNodeChange = true; // skip layout update\n            this.engine.cacheLayout(items, 12, true); // TODO: 12 is arbitrary. use max value in layout ?\n        }\n        // if given a different callback, temporally set it as global option so creating will use it\n        const prevCB = GridStack.addRemoveCB;\n        if (typeof (addRemove) === 'function')\n            GridStack.addRemoveCB = addRemove;\n        let removed = [];\n        this.batchUpdate();\n        // if we are blank (loading into empty like startup) temp remove animation\n        const noAnim = !this.engine.nodes.length;\n        if (noAnim)\n            this.setAnimation(false);\n        // see if any items are missing from new layout and need to be removed first\n        if (addRemove) {\n            let copyNodes = [...this.engine.nodes]; // don't loop through array you modify\n            copyNodes.forEach(n => {\n                if (!n.id)\n                    return;\n                let item = Utils.find(items, n.id);\n                if (!item) {\n                    if (GridStack.addRemoveCB)\n                        GridStack.addRemoveCB(this.el, n, false, false);\n                    removed.push(n); // batch keep track\n                    this.removeWidget(n.el, true, false);\n                }\n            });\n        }\n        // now add/update the widgets - starting with removing items in the new layout we will reposition\n        // to reduce collision and add no-coord ones at next available spot\n        let updateNodes = [];\n        this.engine.nodes = this.engine.nodes.filter(n => {\n            if (Utils.find(items, n.id)) {\n                updateNodes.push(n);\n                return false;\n            } // remove if found from list\n            return true;\n        });\n        items.forEach(w => {\n            let item = Utils.find(updateNodes, w.id);\n            if (item) {\n                // if item sizes to content, re-use the exiting height so it's a better guess at the final size (same if width doesn't change)\n                if (Utils.shouldSizeToContent(item))\n                    w.h = item.h;\n                // check if missing coord, in which case find next empty slot with new (or old if missing) sizes\n                this.engine.nodeBoundFix(w);\n                if (w.autoPosition || w.x === undefined || w.y === undefined) {\n                    w.w = w.w || item.w;\n                    w.h = w.h || item.h;\n                    this.engine.findEmptyPosition(w);\n                }\n                // add back to current list BUT force a collision check if it 'appears' we didn't change to make sure we don't overlap others now\n                this.engine.nodes.push(item);\n                if (Utils.samePos(item, w)) {\n                    this.moveNode(item, { ...w, forceCollide: true });\n                }\n                this.update(item.el, w);\n                if (w.subGridOpts?.children) { // update any sub grid as well\n                    let sub = item.el.querySelector('.grid-stack');\n                    if (sub && sub.gridstack) {\n                        sub.gridstack.load(w.subGridOpts.children); // TODO: support updating grid options ?\n                        this._insertNotAppend = true; // got reset by above call\n                    }\n                }\n            }\n            else if (addRemove) {\n                this.addWidget(w);\n            }\n        });\n        this.engine.removedNodes = removed;\n        this.batchUpdate(false);\n        // after commit, clear that flag\n        delete this._ignoreLayoutsNodeChange;\n        delete this._insertNotAppend;\n        prevCB ? GridStack.addRemoveCB = prevCB : delete GridStack.addRemoveCB;\n        // delay adding animation back\n        if (noAnim && this.opts.animate)\n            setTimeout(() => this.setAnimation(this.opts.animate));\n        return this;\n    }\n    /**\n     * use before calling a bunch of `addWidget()` to prevent un-necessary relayouts in between (more efficient)\n     * and get a single event callback. You will see no changes until `batchUpdate(false)` is called.\n     */\n    batchUpdate(flag = true) {\n        this.engine.batchUpdate(flag);\n        if (!flag) {\n            this._updateContainerHeight();\n            this._triggerRemoveEvent();\n            this._triggerAddEvent();\n            this._triggerChangeEvent();\n        }\n        return this;\n    }\n    /**\n     * Gets current cell height.\n     */\n    getCellHeight(forcePixel = false) {\n        if (this.opts.cellHeight && this.opts.cellHeight !== 'auto' &&\n            (!forcePixel || !this.opts.cellHeightUnit || this.opts.cellHeightUnit === 'px')) {\n            return this.opts.cellHeight;\n        }\n        // do rem/em to px conversion\n        if (this.opts.cellHeightUnit === 'rem') {\n            return this.opts.cellHeight * parseFloat(getComputedStyle(document.documentElement).fontSize);\n        }\n        if (this.opts.cellHeightUnit === 'em') {\n            return this.opts.cellHeight * parseFloat(getComputedStyle(this.el).fontSize);\n        }\n        // else get first cell height\n        let el = this.el.querySelector('.' + this.opts.itemClass);\n        if (el) {\n            let h = Utils.toNumber(el.getAttribute('gs-h')) || 1; // since we don't write 1 anymore\n            return Math.round(el.offsetHeight / h);\n        }\n        // else do entire grid and # of rows (but doesn't work if min-height is the actual constrain)\n        let rows = parseInt(this.el.getAttribute('gs-current-row'));\n        return rows ? Math.round(this.el.getBoundingClientRect().height / rows) : this.opts.cellHeight;\n    }\n    /**\n     * Update current cell height - see `GridStackOptions.cellHeight` for format.\n     * This method rebuilds an internal CSS style sheet.\n     * Note: You can expect performance issues if call this method too often.\n     *\n     * @param val the cell height. If not passed (undefined), cells content will be made square (match width minus margin),\n     * if pass 0 the CSS will be generated by the application instead.\n     * @param update (Optional) if false, styles will not be updated\n     *\n     * @example\n     * grid.cellHeight(100); // same as 100px\n     * grid.cellHeight('70px');\n     * grid.cellHeight(grid.cellWidth() * 1.2);\n     */\n    cellHeight(val, update = true) {\n        // if not called internally, check if we're changing mode\n        if (update && val !== undefined) {\n            if (this._isAutoCellHeight !== (val === 'auto')) {\n                this._isAutoCellHeight = (val === 'auto');\n                this._updateResizeEvent();\n            }\n        }\n        if (val === 'initial' || val === 'auto') {\n            val = undefined;\n        }\n        // make item content be square\n        if (val === undefined) {\n            let marginDiff = -this.opts.marginRight - this.opts.marginLeft\n                + this.opts.marginTop + this.opts.marginBottom;\n            val = this.cellWidth() + marginDiff;\n        }\n        let data = Utils.parseHeight(val);\n        if (this.opts.cellHeightUnit === data.unit && this.opts.cellHeight === data.h) {\n            return this;\n        }\n        this.opts.cellHeightUnit = data.unit;\n        this.opts.cellHeight = data.h;\n        this.resizeToContentCheck();\n        if (update) {\n            this._updateStyles(true); // true = force re-create for current # of rows\n        }\n        return this;\n    }\n    /** Gets current cell width. */\n    cellWidth() {\n        return this._widthOrContainer() / this.getColumn();\n    }\n    /** return our expected width (or parent) , and optionally of window for dynamic column check */\n    _widthOrContainer(forBreakpoint = false) {\n        // use `offsetWidth` or `clientWidth` (no scrollbar) ?\n        // https://stackoverflow.com/questions/21064101/understanding-offsetwidth-clientwidth-scrollwidth-and-height-respectively\n        return forBreakpoint && this.opts.columnOpts?.breakpointForWindow ? window.innerWidth : (this.el.clientWidth || this.el.parentElement.clientWidth || window.innerWidth);\n    }\n    /** checks for dynamic column count for our current size, returning true if changed */\n    checkDynamicColumn() {\n        const resp = this.opts.columnOpts;\n        if (!resp || (!resp.columnWidth && !resp.breakpoints?.length))\n            return false;\n        const column = this.getColumn();\n        let newColumn = column;\n        const w = this._widthOrContainer(true);\n        if (resp.columnWidth) {\n            newColumn = Math.min(Math.round(w / resp.columnWidth) || 1, resp.columnMax);\n        }\n        else {\n            // find the closest breakpoint (already sorted big to small) that matches\n            newColumn = resp.columnMax;\n            let i = 0;\n            while (i < resp.breakpoints.length && w <= resp.breakpoints[i].w) {\n                newColumn = resp.breakpoints[i++].c || column;\n            }\n        }\n        if (newColumn !== column) {\n            const bk = resp.breakpoints?.find(b => b.c === newColumn);\n            this.column(newColumn, bk?.layout || resp.layout);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * re-layout grid items to reclaim any empty space. Options are:\n     * 'list' keep the widget left->right order the same, even if that means leaving an empty slot if things don't fit\n     * 'compact' might re-order items to fill any empty space\n     *\n     * doSort - 'false' to let you do your own sorting ahead in case you need to control a different order. (default to sort)\n     */\n    compact(layout = 'compact', doSort = true) {\n        this.engine.compact(layout, doSort);\n        this._triggerChangeEvent();\n        return this;\n    }\n    /**\n     * set the number of columns in the grid. Will update existing widgets to conform to new number of columns,\n     * as well as cache the original layout so you can revert back to previous positions without loss.\n     * Requires `gridstack-extra.css` or `gridstack-extra.min.css` for [2-11],\n     * else you will need to generate correct CSS (see https://github.com/gridstack/gridstack.js#change-grid-columns)\n     * @param column - Integer > 0 (default 12).\n     * @param layout specify the type of re-layout that will happen (position, size, etc...).\n     * Note: items will never be outside of the current column boundaries. default ('moveScale'). Ignored for 1 column\n     */\n    column(column, layout = 'moveScale') {\n        if (!column || column < 1 || this.opts.column === column)\n            return this;\n        let oldColumn = this.getColumn();\n        this.opts.column = column;\n        if (!this.engine)\n            return this; // called in constructor, noting else to do\n        this.engine.column = column;\n        this.el.classList.remove('gs-' + oldColumn);\n        this.el.classList.add('gs-' + column);\n        // update the items now, checking if we have a custom children layout\n        /*const newChildren = this.opts.columnOpts?.breakpoints?.find(r => r.c === column)?.children;\n        if (newChildren) this.load(newChildren);\n        else*/ this.engine.columnChanged(oldColumn, column, undefined, layout);\n        if (this._isAutoCellHeight)\n            this.cellHeight();\n        this.resizeToContentCheck(true); // wait for width resizing\n        // and trigger our event last...\n        this._ignoreLayoutsNodeChange = true; // skip layout update\n        this._triggerChangeEvent();\n        delete this._ignoreLayoutsNodeChange;\n        return this;\n    }\n    /**\n     * get the number of columns in the grid (default 12)\n     */\n    getColumn() { return this.opts.column; }\n    /** returns an array of grid HTML elements (no placeholder) - used to iterate through our children in DOM order */\n    getGridItems() {\n        return Array.from(this.el.children)\n            .filter((el) => el.matches('.' + this.opts.itemClass) && !el.matches('.' + this.opts.placeholderClass));\n    }\n    /**\n     * Destroys a grid instance. DO NOT CALL any methods or access any vars after this as it will free up members.\n     * @param removeDOM if `false` grid and items HTML elements will not be removed from the DOM (Optional. Default `true`).\n     */\n    destroy(removeDOM = true) {\n        if (!this.el)\n            return; // prevent multiple calls\n        this.offAll();\n        this._updateResizeEvent(true);\n        this.setStatic(true, false); // permanently removes DD but don't set CSS class (we're going away)\n        this.setAnimation(false);\n        if (!removeDOM) {\n            this.removeAll(removeDOM);\n            this.el.classList.remove(this._styleSheetClass);\n            this.el.removeAttribute('gs-current-row');\n        }\n        else {\n            this.el.parentNode.removeChild(this.el);\n        }\n        this._removeStylesheet();\n        if (this.parentGridItem)\n            delete this.parentGridItem.subGrid;\n        delete this.parentGridItem;\n        delete this.opts;\n        delete this._placeholder;\n        delete this.engine;\n        delete this.el.gridstack; // remove circular dependency that would prevent a freeing\n        delete this.el;\n        return this;\n    }\n    /**\n     * enable/disable floating widgets (default: `false`) See [example](http://gridstackjs.com/demo/float.html)\n     */\n    float(val) {\n        if (this.opts.float !== val) {\n            this.opts.float = this.engine.float = val;\n            this._triggerChangeEvent();\n        }\n        return this;\n    }\n    /**\n     * get the current float mode\n     */\n    getFloat() {\n        return this.engine.float;\n    }\n    /**\n     * Get the position of the cell under a pixel on screen.\n     * @param position the position of the pixel to resolve in\n     * absolute coordinates, as an object with top and left properties\n     * @param useDocRelative if true, value will be based on document position vs parent position (Optional. Default false).\n     * Useful when grid is within `position: relative` element\n     *\n     * Returns an object with properties `x` and `y` i.e. the column and row in the grid.\n     */\n    getCellFromPixel(position, useDocRelative = false) {\n        let box = this.el.getBoundingClientRect();\n        // console.log(`getBoundingClientRect left: ${box.left} top: ${box.top} w: ${box.w} h: ${box.h}`)\n        let containerPos;\n        if (useDocRelative) {\n            containerPos = { top: box.top + document.documentElement.scrollTop, left: box.left };\n            // console.log(`getCellFromPixel scrollTop: ${document.documentElement.scrollTop}`)\n        }\n        else {\n            containerPos = { top: this.el.offsetTop, left: this.el.offsetLeft };\n            // console.log(`getCellFromPixel offsetTop: ${containerPos.left} offsetLeft: ${containerPos.top}`)\n        }\n        let relativeLeft = position.left - containerPos.left;\n        let relativeTop = position.top - containerPos.top;\n        let columnWidth = (box.width / this.getColumn());\n        let rowHeight = (box.height / parseInt(this.el.getAttribute('gs-current-row')));\n        return { x: Math.floor(relativeLeft / columnWidth), y: Math.floor(relativeTop / rowHeight) };\n    }\n    /** returns the current number of rows, which will be at least `minRow` if set */\n    getRow() {\n        return Math.max(this.engine.getRow(), this.opts.minRow);\n    }\n    /**\n     * Checks if specified area is empty.\n     * @param x the position x.\n     * @param y the position y.\n     * @param w the width of to check\n     * @param h the height of to check\n     */\n    isAreaEmpty(x, y, w, h) {\n        return this.engine.isAreaEmpty(x, y, w, h);\n    }\n    /**\n     * If you add elements to your grid by hand (or have some framework creating DOM), you have to tell gridstack afterwards to make them widgets.\n     * If you want gridstack to add the elements for you, use `addWidget()` instead.\n     * Makes the given element a widget and returns it.\n     * @param els widget or single selector to convert.\n     * @param options widget definition to use instead of reading attributes or using default sizing values\n     *\n     * @example\n     * let grid = GridStack.init();\n     * grid.el.appendChild('<div id=\"1\" gs-w=\"3\"></div>');\n     * grid.el.appendChild('<div id=\"2\"></div>');\n     * grid.makeWidget('1');\n     * grid.makeWidget('2', {w:2, content: 'hello'});\n     */\n    makeWidget(els, options) {\n        let el = GridStack.getElement(els);\n        this._prepareElement(el, true, options);\n        const node = el.gridstackNode;\n        this._updateContainerHeight();\n        // see if there is a sub-grid to create\n        if (node.subGridOpts) {\n            this.makeSubGrid(el, node.subGridOpts, undefined, false); // node.subGrid will be used as option in method, no need to pass\n        }\n        // if we're adding an item into 1 column make sure\n        // we don't override the larger 12 column layout that was already saved. #1985\n        if (this.opts.column === 1) {\n            this._ignoreLayoutsNodeChange = true;\n        }\n        this._triggerAddEvent();\n        this._triggerChangeEvent();\n        delete this._ignoreLayoutsNodeChange;\n        return el;\n    }\n    /**\n     * Event handler that extracts our CustomEvent data out automatically for receiving custom\n     * notifications (see doc for supported events)\n     * @param name of the event (see possible values) or list of names space separated\n     * @param callback function called with event and optional second/third param\n     * (see README documentation for each signature).\n     *\n     * @example\n     * grid.on('added', function(e, items) { log('added ', items)} );\n     * or\n     * grid.on('added removed change', function(e, items) { log(e.type, items)} );\n     *\n     * Note: in some cases it is the same as calling native handler and parsing the event.\n     * grid.el.addEventListener('added', function(event) { log('added ', event.detail)} );\n     *\n     */\n    on(name, callback) {\n        // check for array of names being passed instead\n        if (name.indexOf(' ') !== -1) {\n            let names = name.split(' ');\n            names.forEach(name => this.on(name, callback));\n            return this;\n        }\n        // native CustomEvent handlers - cash the generic handlers so we can easily remove\n        if (name === 'change' || name === 'added' || name === 'removed' || name === 'enable' || name === 'disable') {\n            let noData = (name === 'enable' || name === 'disable');\n            if (noData) {\n                this._gsEventHandler[name] = (event) => callback(event);\n            }\n            else {\n                this._gsEventHandler[name] = (event) => callback(event, event.detail);\n            }\n            this.el.addEventListener(name, this._gsEventHandler[name]);\n        }\n        else if (name === 'drag' || name === 'dragstart' || name === 'dragstop' || name === 'resizestart' || name === 'resize'\n            || name === 'resizestop' || name === 'dropped' || name === 'resizecontent') {\n            // drag&drop stop events NEED to be call them AFTER we update node attributes so handle them ourself.\n            // do same for start event to make it easier...\n            this._gsEventHandler[name] = callback;\n        }\n        else {\n            console.log('GridStack.on(' + name + ') event not supported');\n        }\n        return this;\n    }\n    /**\n     * unsubscribe from the 'on' event below\n     * @param name of the event (see possible values)\n     */\n    off(name) {\n        // check for array of names being passed instead\n        if (name.indexOf(' ') !== -1) {\n            let names = name.split(' ');\n            names.forEach(name => this.off(name));\n            return this;\n        }\n        if (name === 'change' || name === 'added' || name === 'removed' || name === 'enable' || name === 'disable') {\n            // remove native CustomEvent handlers\n            if (this._gsEventHandler[name]) {\n                this.el.removeEventListener(name, this._gsEventHandler[name]);\n            }\n        }\n        delete this._gsEventHandler[name];\n        return this;\n    }\n    /** remove all event handlers */\n    offAll() {\n        Object.keys(this._gsEventHandler).forEach(key => this.off(key));\n        return this;\n    }\n    /**\n     * Removes widget from the grid.\n     * @param el  widget or selector to modify\n     * @param removeDOM if `false` DOM element won't be removed from the tree (Default? true).\n     * @param triggerEvent if `false` (quiet mode) element will not be added to removed list and no 'removed' callbacks will be called (Default? true).\n     */\n    removeWidget(els, removeDOM = true, triggerEvent = true) {\n        GridStack.getElements(els).forEach(el => {\n            if (el.parentElement && el.parentElement !== this.el)\n                return; // not our child!\n            let node = el.gridstackNode;\n            // For Meteor support: https://github.com/gridstack/gridstack.js/pull/272\n            if (!node) {\n                node = this.engine.nodes.find(n => el === n.el);\n            }\n            if (!node)\n                return;\n            if (GridStack.addRemoveCB) {\n                GridStack.addRemoveCB(this.el, node, false, false);\n            }\n            // remove our DOM data (circular link) and drag&drop permanently\n            delete el.gridstackNode;\n            this._removeDD(el);\n            this.engine.removeNode(node, removeDOM, triggerEvent);\n            if (removeDOM && el.parentElement) {\n                el.remove(); // in batch mode engine.removeNode doesn't call back to remove DOM\n            }\n        });\n        if (triggerEvent) {\n            this._triggerRemoveEvent();\n            this._triggerChangeEvent();\n        }\n        return this;\n    }\n    /**\n     * Removes all widgets from the grid.\n     * @param removeDOM if `false` DOM elements won't be removed from the tree (Default? `true`).\n     */\n    removeAll(removeDOM = true) {\n        // always remove our DOM data (circular link) before list gets emptied and drag&drop permanently\n        this.engine.nodes.forEach(n => {\n            delete n.el.gridstackNode;\n            this._removeDD(n.el);\n        });\n        this.engine.removeAll(removeDOM);\n        this._triggerRemoveEvent();\n        return this;\n    }\n    /**\n     * Toggle the grid animation state.  Toggles the `grid-stack-animate` class.\n     * @param doAnimate if true the grid will animate.\n     */\n    setAnimation(doAnimate) {\n        if (doAnimate) {\n            this.el.classList.add('grid-stack-animate');\n        }\n        else {\n            this.el.classList.remove('grid-stack-animate');\n        }\n        return this;\n    }\n    /** @internal */\n    hasAnimationCSS() { return this.el.classList.contains('grid-stack-animate'); }\n    /**\n     * Toggle the grid static state, which permanently removes/add Drag&Drop support, unlike disable()/enable() that just turns it off/on.\n     * Also toggle the grid-stack-static class.\n     * @param val if true the grid become static.\n     * @param updateClass true (default) if css class gets updated\n     * @param recurse true (default) if sub-grids also get updated\n     */\n    setStatic(val, updateClass = true, recurse = true) {\n        if (!!this.opts.staticGrid === val)\n            return this;\n        val ? this.opts.staticGrid = true : delete this.opts.staticGrid;\n        this._setupRemoveDrop();\n        this._setupAcceptWidget();\n        this.engine.nodes.forEach(n => {\n            this._prepareDragDropByNode(n); // either delete or init Drag&drop\n            if (n.subGrid && recurse)\n                n.subGrid.setStatic(val, updateClass, recurse);\n        });\n        if (updateClass) {\n            this._setStaticClass();\n        }\n        return this;\n    }\n    /**\n     * Updates widget position/size and other info. Note: if you need to call this on all nodes, use load() instead which will update what changed.\n     * @param els  widget or selector of objects to modify (note: setting the same x,y for multiple items will be indeterministic and likely unwanted)\n     * @param opt new widget options (x,y,w,h, etc..). Only those set will be updated.\n     */\n    update(els, opt) {\n        // support legacy call for now ?\n        if (arguments.length > 2) {\n            console.warn('gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon');\n            // eslint-disable-next-line prefer-rest-params\n            let a = arguments, i = 1;\n            opt = { x: a[i++], y: a[i++], w: a[i++], h: a[i++] };\n            return this.update(els, opt);\n        }\n        GridStack.getElements(els).forEach(el => {\n            let n = el?.gridstackNode;\n            if (!n)\n                return;\n            let w = Utils.cloneDeep(opt); // make a copy we can modify in case they re-use it or multiple items\n            this.engine.nodeBoundFix(w);\n            delete w.autoPosition;\n            delete w.id;\n            // move/resize widget if anything changed\n            let keys = ['x', 'y', 'w', 'h'];\n            let m;\n            if (keys.some(k => w[k] !== undefined && w[k] !== n[k])) {\n                m = {};\n                keys.forEach(k => {\n                    m[k] = (w[k] !== undefined) ? w[k] : n[k];\n                    delete w[k];\n                });\n            }\n            // for a move as well IFF there is any min/max fields set\n            if (!m && (w.minW || w.minH || w.maxW || w.maxH)) {\n                m = {}; // will use node position but validate values\n            }\n            // check for content changing\n            if (w.content !== undefined) {\n                const itemContent = el.querySelector('.grid-stack-item-content');\n                if (itemContent && itemContent.innerHTML !== w.content) {\n                    itemContent.innerHTML = w.content;\n                    // restore any sub-grid back\n                    if (n.subGrid?.el) {\n                        itemContent.appendChild(n.subGrid.el);\n                        if (!n.subGrid.opts.styleInHead)\n                            n.subGrid._updateStyles(true); // force create\n                    }\n                }\n                delete w.content;\n            }\n            // any remaining fields are assigned, but check for dragging changes, resize constrain\n            let changed = false;\n            let ddChanged = false;\n            for (const key in w) {\n                if (key[0] !== '_' && n[key] !== w[key]) {\n                    n[key] = w[key];\n                    changed = true;\n                    ddChanged = ddChanged || (!this.opts.staticGrid && (key === 'noResize' || key === 'noMove' || key === 'locked'));\n                }\n            }\n            Utils.sanitizeMinMax(n);\n            // finally move the widget and update attr\n            if (m) {\n                const widthChanged = (m.w !== undefined && m.w !== n.w);\n                this.moveNode(n, m);\n                this.resizeToContentCheck(widthChanged, n); // wait for animation if we changed width\n            }\n            if (m || changed) {\n                this._writeAttr(el, n);\n            }\n            if (ddChanged) {\n                this._prepareDragDropByNode(n);\n            }\n        });\n        return this;\n    }\n    moveNode(n, m) {\n        this.engine.cleanNodes()\n            .beginUpdate(n)\n            .moveNode(n, m);\n        this._updateContainerHeight();\n        this._triggerChangeEvent();\n        this.engine.endUpdate();\n    }\n    /**\n     * Updates widget height to match the content height to avoid v-scrollbar or dead space.\n     * Note: this assumes only 1 child under resizeToContentParent='.grid-stack-item-content' (sized to gridItem minus padding) that is at the entire content size wanted.\n     * @param el grid item element\n     * @param useNodeH set to true if GridStackNode.h should be used instead of actual container height when we don't need to wait for animation to finish to get actual DOM heights\n     */\n    resizeToContent(el) {\n        if (!el)\n            return;\n        el.classList.remove('size-to-content-max');\n        if (!el.clientHeight)\n            return; // 0 when hidden, skip\n        const n = el.gridstackNode;\n        if (!n)\n            return;\n        const grid = n.grid;\n        if (!grid || el.parentElement !== grid.el)\n            return; // skip if we are not inside a grid\n        const cell = grid.getCellHeight(true);\n        if (!cell)\n            return;\n        let height = n.h ? n.h * cell : el.clientHeight; // getBoundingClientRect().height seem to flicker back and forth\n        let item;\n        if (n.resizeToContentParent)\n            item = el.querySelector(n.resizeToContentParent);\n        if (!item)\n            item = el.querySelector(GridStack.resizeToContentParent);\n        if (!item)\n            return;\n        const padding = el.clientHeight - item.clientHeight; // full - available height to our child (minus border, padding...)\n        const itemH = n.h ? n.h * cell - padding : item.clientHeight; // calculated to what cellHeight is or will become (rather than actual to prevent waiting for animation to finish)\n        let wantedH;\n        if (n.subGrid) {\n            // sub-grid - use their actual row count * their cell height\n            wantedH = n.subGrid.getRow() * n.subGrid.getCellHeight(true);\n        }\n        else {\n            // NOTE: clientHeight & getBoundingClientRect() is undefined for text and other leaf nodes. use <div> container!\n            const child = item.firstElementChild;\n            if (!child) {\n                console.log(`Error: resizeToContent() '${GridStack.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);\n                return;\n            }\n            wantedH = child.getBoundingClientRect().height || itemH;\n        }\n        if (itemH === wantedH)\n            return;\n        height += wantedH - itemH;\n        let h = Math.ceil(height / cell);\n        // check for min/max and special sizing\n        const softMax = Number.isInteger(n.sizeToContent) ? n.sizeToContent : 0;\n        if (softMax && h > softMax) {\n            h = softMax;\n            el.classList.add('size-to-content-max'); // get v-scroll back\n        }\n        if (n.minH && h < n.minH)\n            h = n.minH;\n        else if (n.maxH && h > n.maxH)\n            h = n.maxH;\n        if (h !== n.h) {\n            grid._ignoreLayoutsNodeChange = true;\n            grid.moveNode(n, { h });\n            delete grid._ignoreLayoutsNodeChange;\n        }\n    }\n    /** call the user resize (so they can do extra work) else our build in version */\n    resizeToContentCBCheck(el) {\n        if (GridStack.resizeToContentCB)\n            GridStack.resizeToContentCB(el);\n        else\n            this.resizeToContent(el);\n    }\n    /**\n     * Updates the margins which will set all 4 sides at once - see `GridStackOptions.margin` for format options (CSS string format of 1,2,4 values or single number).\n     * @param value margin value\n     */\n    margin(value) {\n        let isMultiValue = (typeof value === 'string' && value.split(' ').length > 1);\n        // check if we can skip re-creating our CSS file... won't check if multi values (too much hassle)\n        if (!isMultiValue) {\n            let data = Utils.parseHeight(value);\n            if (this.opts.marginUnit === data.unit && this.opts.margin === data.h)\n                return;\n        }\n        // re-use existing margin handling\n        this.opts.margin = value;\n        this.opts.marginTop = this.opts.marginBottom = this.opts.marginLeft = this.opts.marginRight = undefined;\n        this._initMargin();\n        this._updateStyles(true); // true = force re-create\n        return this;\n    }\n    /** returns current margin number value (undefined if 4 sides don't match) */\n    getMargin() { return this.opts.margin; }\n    /**\n     * Returns true if the height of the grid will be less than the vertical\n     * constraint. Always returns true if grid doesn't have height constraint.\n     * @param node contains x,y,w,h,auto-position options\n     *\n     * @example\n     * if (grid.willItFit(newWidget)) {\n     *   grid.addWidget(newWidget);\n     * } else {\n     *   alert('Not enough free space to place the widget');\n     * }\n     */\n    willItFit(node) {\n        // support legacy call for now\n        if (arguments.length > 1) {\n            console.warn('gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon');\n            // eslint-disable-next-line prefer-rest-params\n            let a = arguments, i = 0, w = { x: a[i++], y: a[i++], w: a[i++], h: a[i++], autoPosition: a[i++] };\n            return this.willItFit(w);\n        }\n        return this.engine.willItFit(node);\n    }\n    /** @internal */\n    _triggerChangeEvent() {\n        if (this.engine.batchMode)\n            return this;\n        let elements = this.engine.getDirtyNodes(true); // verify they really changed\n        if (elements && elements.length) {\n            if (!this._ignoreLayoutsNodeChange) {\n                this.engine.layoutsNodesChange(elements);\n            }\n            this._triggerEvent('change', elements);\n        }\n        this.engine.saveInitial(); // we called, now reset initial values & dirty flags\n        return this;\n    }\n    /** @internal */\n    _triggerAddEvent() {\n        if (this.engine.batchMode)\n            return this;\n        if (this.engine.addedNodes?.length) {\n            if (!this._ignoreLayoutsNodeChange) {\n                this.engine.layoutsNodesChange(this.engine.addedNodes);\n            }\n            // prevent added nodes from also triggering 'change' event (which is called next)\n            this.engine.addedNodes.forEach(n => { delete n._dirty; });\n            this._triggerEvent('added', this.engine.addedNodes);\n            this.engine.addedNodes = [];\n        }\n        return this;\n    }\n    /** @internal */\n    _triggerRemoveEvent() {\n        if (this.engine.batchMode)\n            return this;\n        if (this.engine.removedNodes?.length) {\n            this._triggerEvent('removed', this.engine.removedNodes);\n            this.engine.removedNodes = [];\n        }\n        return this;\n    }\n    /** @internal */\n    _triggerEvent(type, data) {\n        let event = data ? new CustomEvent(type, { bubbles: false, detail: data }) : new Event(type);\n        this.el.dispatchEvent(event);\n        return this;\n    }\n    /** @internal called to delete the current dynamic style sheet used for our layout */\n    _removeStylesheet() {\n        if (this._styles) {\n            const styleLocation = this.opts.styleInHead ? undefined : this.el.parentNode;\n            Utils.removeStylesheet(this._styleSheetClass, styleLocation);\n            delete this._styles;\n        }\n        return this;\n    }\n    /** @internal updated/create the CSS styles for row based layout and initial margin setting */\n    _updateStyles(forceUpdate = false, maxH) {\n        // call to delete existing one if we change cellHeight / margin\n        if (forceUpdate) {\n            this._removeStylesheet();\n        }\n        if (maxH === undefined)\n            maxH = this.getRow();\n        this._updateContainerHeight();\n        // if user is telling us they will handle the CSS themselves by setting heights to 0. Do we need this opts really ??\n        if (this.opts.cellHeight === 0) {\n            return this;\n        }\n        let cellHeight = this.opts.cellHeight;\n        let cellHeightUnit = this.opts.cellHeightUnit;\n        let prefix = `.${this._styleSheetClass} > .${this.opts.itemClass}`;\n        // create one as needed\n        if (!this._styles) {\n            // insert style to parent (instead of 'head' by default) to support WebComponent\n            const styleLocation = this.opts.styleInHead ? undefined : this.el.parentNode;\n            this._styles = Utils.createStylesheet(this._styleSheetClass, styleLocation, {\n                nonce: this.opts.nonce,\n            });\n            if (!this._styles)\n                return this;\n            this._styles._max = 0;\n            // these are done once only\n            Utils.addCSSRule(this._styles, prefix, `height: ${cellHeight}${cellHeightUnit}`);\n            // content margins\n            let top = this.opts.marginTop + this.opts.marginUnit;\n            let bottom = this.opts.marginBottom + this.opts.marginUnit;\n            let right = this.opts.marginRight + this.opts.marginUnit;\n            let left = this.opts.marginLeft + this.opts.marginUnit;\n            let content = `${prefix} > .grid-stack-item-content`;\n            let placeholder = `.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;\n            Utils.addCSSRule(this._styles, content, `top: ${top}; right: ${right}; bottom: ${bottom}; left: ${left};`);\n            Utils.addCSSRule(this._styles, placeholder, `top: ${top}; right: ${right}; bottom: ${bottom}; left: ${left};`);\n            // resize handles offset (to match margin)\n            Utils.addCSSRule(this._styles, `${prefix} > .ui-resizable-ne`, `right: ${right}`);\n            Utils.addCSSRule(this._styles, `${prefix} > .ui-resizable-e`, `right: ${right}`);\n            Utils.addCSSRule(this._styles, `${prefix} > .ui-resizable-se`, `right: ${right}; bottom: ${bottom}`);\n            Utils.addCSSRule(this._styles, `${prefix} > .ui-resizable-nw`, `left: ${left}`);\n            Utils.addCSSRule(this._styles, `${prefix} > .ui-resizable-w`, `left: ${left}`);\n            Utils.addCSSRule(this._styles, `${prefix} > .ui-resizable-sw`, `left: ${left}; bottom: ${bottom}`);\n        }\n        // now update the height specific fields\n        maxH = maxH || this._styles._max;\n        if (maxH > this._styles._max) {\n            let getHeight = (rows) => (cellHeight * rows) + cellHeightUnit;\n            for (let i = this._styles._max + 1; i <= maxH; i++) { // start at 1\n                Utils.addCSSRule(this._styles, `${prefix}[gs-y=\"${i}\"]`, `top: ${getHeight(i)}`);\n                Utils.addCSSRule(this._styles, `${prefix}[gs-h=\"${i + 1}\"]`, `height: ${getHeight(i + 1)}`); // start at 2\n            }\n            this._styles._max = maxH;\n        }\n        return this;\n    }\n    /** @internal */\n    _updateContainerHeight() {\n        if (!this.engine || this.engine.batchMode)\n            return this;\n        const parent = this.parentGridItem;\n        let row = this.getRow() + this._extraDragRow; // this checks for minRow already\n        const cellHeight = this.opts.cellHeight;\n        const unit = this.opts.cellHeightUnit;\n        if (!cellHeight)\n            return this;\n        // check for css min height (non nested grid). TODO: support mismatch, say: min % while unit is px.\n        if (!parent) {\n            const cssMinHeight = Utils.parseHeight(getComputedStyle(this.el)['minHeight']);\n            if (cssMinHeight.h > 0 && cssMinHeight.unit === unit) {\n                const minRow = Math.floor(cssMinHeight.h / cellHeight);\n                if (row < minRow) {\n                    row = minRow;\n                }\n            }\n        }\n        this.el.setAttribute('gs-current-row', String(row));\n        this.el.style.removeProperty('min-height');\n        this.el.style.removeProperty('height');\n        if (row) {\n            // nested grids have 'insert:0' to fill the space of parent by default, but we may be taller so use min-height for possible scrollbars\n            this.el.style[parent ? 'minHeight' : 'height'] = row * cellHeight + unit;\n        }\n        // if we're a nested grid inside an sizeToContent item, tell it to resize itself too\n        if (parent && !parent.grid.engine.batchMode && Utils.shouldSizeToContent(parent)) {\n            parent.grid.resizeToContentCBCheck(parent.el);\n        }\n        return this;\n    }\n    /** @internal */\n    _prepareElement(el, triggerAddEvent = false, node) {\n        node = node || this._readAttr(el);\n        el.gridstackNode = node;\n        node.el = el;\n        node.grid = this;\n        node = this.engine.addNode(node, triggerAddEvent);\n        // write the dom sizes and class\n        this._writeAttr(el, node);\n        el.classList.add(gridDefaults.itemClass, this.opts.itemClass);\n        const sizeToContent = Utils.shouldSizeToContent(node);\n        sizeToContent ? el.classList.add('size-to-content') : el.classList.remove('size-to-content');\n        if (sizeToContent)\n            this.resizeToContentCheck(false, node);\n        this._prepareDragDropByNode(node);\n        return this;\n    }\n    /** @internal call to write position x,y,w,h attributes back to element */\n    _writePosAttr(el, n) {\n        if (n.x !== undefined && n.x !== null) {\n            el.setAttribute('gs-x', String(n.x));\n        }\n        if (n.y !== undefined && n.y !== null) {\n            el.setAttribute('gs-y', String(n.y));\n        }\n        n.w > 1 ? el.setAttribute('gs-w', String(n.w)) : el.removeAttribute('gs-w');\n        n.h > 1 ? el.setAttribute('gs-h', String(n.h)) : el.removeAttribute('gs-h');\n        return this;\n    }\n    /** @internal call to write any default attributes back to element */\n    _writeAttr(el, node) {\n        if (!node)\n            return this;\n        this._writePosAttr(el, node);\n        let attrs /*: GridStackWidget but strings */ = {\n            autoPosition: 'gs-auto-position',\n            noResize: 'gs-no-resize',\n            noMove: 'gs-no-move',\n            locked: 'gs-locked',\n            id: 'gs-id',\n        };\n        for (const key in attrs) {\n            if (node[key]) { // 0 is valid for x,y only but done above already and not in list anyway\n                el.setAttribute(attrs[key], String(node[key]));\n            }\n            else {\n                el.removeAttribute(attrs[key]);\n            }\n        }\n        return this;\n    }\n    /** @internal call to read any default attributes from element */\n    _readAttr(el, clearDefaultAttr = true) {\n        let n = {};\n        n.x = Utils.toNumber(el.getAttribute('gs-x'));\n        n.y = Utils.toNumber(el.getAttribute('gs-y'));\n        n.w = Utils.toNumber(el.getAttribute('gs-w'));\n        n.h = Utils.toNumber(el.getAttribute('gs-h'));\n        n.autoPosition = Utils.toBool(el.getAttribute('gs-auto-position'));\n        n.noResize = Utils.toBool(el.getAttribute('gs-no-resize'));\n        n.noMove = Utils.toBool(el.getAttribute('gs-no-move'));\n        n.locked = Utils.toBool(el.getAttribute('gs-locked'));\n        n.id = el.getAttribute('gs-id');\n        // read but never written out\n        n.maxW = Utils.toNumber(el.getAttribute('gs-max-w'));\n        n.minW = Utils.toNumber(el.getAttribute('gs-min-w'));\n        n.maxH = Utils.toNumber(el.getAttribute('gs-max-h'));\n        n.minH = Utils.toNumber(el.getAttribute('gs-min-h'));\n        // v8.x optimization to reduce un-needed attr that don't render or are default CSS\n        if (clearDefaultAttr) {\n            if (n.w === 1)\n                el.removeAttribute('gs-w');\n            if (n.h === 1)\n                el.removeAttribute('gs-h');\n            if (n.maxW)\n                el.removeAttribute('gs-max-w');\n            if (n.minW)\n                el.removeAttribute('gs-min-w');\n            if (n.maxH)\n                el.removeAttribute('gs-max-h');\n            if (n.minH)\n                el.removeAttribute('gs-min-h');\n        }\n        // remove any key not found (null or false which is default)\n        for (const key in n) {\n            if (!n.hasOwnProperty(key))\n                return;\n            if (!n[key] && n[key] !== 0) { // 0 can be valid value (x,y only really)\n                delete n[key];\n            }\n        }\n        return n;\n    }\n    /** @internal */\n    _setStaticClass() {\n        let classes = ['grid-stack-static'];\n        if (this.opts.staticGrid) {\n            this.el.classList.add(...classes);\n            this.el.setAttribute('gs-static', 'true');\n        }\n        else {\n            this.el.classList.remove(...classes);\n            this.el.removeAttribute('gs-static');\n        }\n        return this;\n    }\n    /**\n     * called when we are being resized - check if the one Column Mode needs to be turned on/off\n     * and remember the prev columns we used, or get our count from parent, as well as check for cellHeight==='auto' (square)\n     * or `sizeToContent` gridItem options.\n     */\n    onResize() {\n        if (!this.el?.clientWidth)\n            return; // return if we're gone or no size yet (will get called again)\n        if (this.prevWidth === this.el.clientWidth)\n            return; // no-op\n        this.prevWidth = this.el.clientWidth;\n        // console.log('onResize ', this.el.clientWidth);\n        this.batchUpdate();\n        // see if we're nested and take our column count from our parent....\n        let columnChanged = false;\n        if (this._autoColumn && this.parentGridItem) {\n            if (this.opts.column !== this.parentGridItem.w) {\n                this.column(this.parentGridItem.w, 'none');\n                columnChanged = true;\n            }\n        }\n        else {\n            // else check for dynamic column\n            columnChanged = this.checkDynamicColumn();\n        }\n        // make the cells content square again\n        if (this._isAutoCellHeight)\n            this.cellHeight();\n        // update any nested grids, or items size\n        this.engine.nodes.forEach(n => {\n            if (n.subGrid)\n                n.subGrid.onResize();\n        });\n        if (!this._skipInitialResize)\n            this.resizeToContentCheck(columnChanged); // wait for anim of column changed (DOM reflow before we can size correctly)\n        delete this._skipInitialResize;\n        this.batchUpdate(false);\n        return this;\n    }\n    /** resizes content for given node (or all) if shouldSizeToContent() is true */\n    resizeToContentCheck(delay = false, n = undefined) {\n        if (!this.engine)\n            return; // we've been deleted in between!\n        // update any gridItem height with sizeToContent, but wait for DOM $animation_speed to settle if we changed column count\n        // TODO: is there a way to know what the final (post animation) size of the content will be so we can animate the column width and height together rather than sequentially ?\n        if (delay && this.hasAnimationCSS())\n            return setTimeout(() => this.resizeToContentCheck(false, n), 300 + 10);\n        if (n) {\n            if (Utils.shouldSizeToContent(n))\n                this.resizeToContentCBCheck(n.el);\n        }\n        else if (this.engine.nodes.some(n => Utils.shouldSizeToContent(n))) {\n            const nodes = [...this.engine.nodes]; // in case order changes while resizing one\n            this.batchUpdate();\n            nodes.forEach(n => {\n                if (Utils.shouldSizeToContent(n))\n                    this.resizeToContentCBCheck(n.el);\n            });\n            this.batchUpdate(false);\n        }\n        // call this regardless of shouldSizeToContent because widget might need to stretch to take available space after a resize\n        if (this._gsEventHandler['resizecontent'])\n            this._gsEventHandler['resizecontent'](null, n ? [n] : this.engine.nodes);\n    }\n    /** add or remove the grid element size event handler */\n    _updateResizeEvent(forceRemove = false) {\n        // only add event if we're not nested (parent will call us) and we're auto sizing cells or supporting dynamic column (i.e. doing work)\n        // or supporting new sizeToContent option.\n        const trackSize = !this.parentGridItem && (this._isAutoCellHeight || this.opts.sizeToContent || this.opts.columnOpts\n            || this.engine.nodes.find(n => n.sizeToContent));\n        if (!forceRemove && trackSize && !this.resizeObserver) {\n            this._sizeThrottle = Utils.throttle(() => this.onResize(), this.opts.cellHeightThrottle);\n            this.resizeObserver = new ResizeObserver(() => this._sizeThrottle());\n            this.resizeObserver.observe(this.el);\n            this._skipInitialResize = true; // makeWidget will originally have called on startup\n        }\n        else if ((forceRemove || !trackSize) && this.resizeObserver) {\n            this.resizeObserver.disconnect();\n            delete this.resizeObserver;\n            delete this._sizeThrottle;\n        }\n        return this;\n    }\n    /** @internal convert a potential selector into actual element */\n    static getElement(els = '.grid-stack-item') { return Utils.getElement(els); }\n    /** @internal */\n    static getElements(els = '.grid-stack-item') { return Utils.getElements(els); }\n    /** @internal */\n    static getGridElement(els) { return GridStack.getElement(els); }\n    /** @internal */\n    static getGridElements(els) { return Utils.getElements(els); }\n    /** @internal initialize margin top/bottom/left/right and units */\n    _initMargin() {\n        let data;\n        let margin = 0;\n        // support passing multiple values like CSS (ex: '5px 10px 0 20px')\n        let margins = [];\n        if (typeof this.opts.margin === 'string') {\n            margins = this.opts.margin.split(' ');\n        }\n        if (margins.length === 2) { // top/bot, left/right like CSS\n            this.opts.marginTop = this.opts.marginBottom = margins[0];\n            this.opts.marginLeft = this.opts.marginRight = margins[1];\n        }\n        else if (margins.length === 4) { // Clockwise like CSS\n            this.opts.marginTop = margins[0];\n            this.opts.marginRight = margins[1];\n            this.opts.marginBottom = margins[2];\n            this.opts.marginLeft = margins[3];\n        }\n        else {\n            data = Utils.parseHeight(this.opts.margin);\n            this.opts.marginUnit = data.unit;\n            margin = this.opts.margin = data.h;\n        }\n        // see if top/bottom/left/right need to be set as well\n        if (this.opts.marginTop === undefined) {\n            this.opts.marginTop = margin;\n        }\n        else {\n            data = Utils.parseHeight(this.opts.marginTop);\n            this.opts.marginTop = data.h;\n            delete this.opts.margin;\n        }\n        if (this.opts.marginBottom === undefined) {\n            this.opts.marginBottom = margin;\n        }\n        else {\n            data = Utils.parseHeight(this.opts.marginBottom);\n            this.opts.marginBottom = data.h;\n            delete this.opts.margin;\n        }\n        if (this.opts.marginRight === undefined) {\n            this.opts.marginRight = margin;\n        }\n        else {\n            data = Utils.parseHeight(this.opts.marginRight);\n            this.opts.marginRight = data.h;\n            delete this.opts.margin;\n        }\n        if (this.opts.marginLeft === undefined) {\n            this.opts.marginLeft = margin;\n        }\n        else {\n            data = Utils.parseHeight(this.opts.marginLeft);\n            this.opts.marginLeft = data.h;\n            delete this.opts.margin;\n        }\n        this.opts.marginUnit = data.unit; // in case side were spelled out, use those units instead...\n        if (this.opts.marginTop === this.opts.marginBottom && this.opts.marginLeft === this.opts.marginRight && this.opts.marginTop === this.opts.marginRight) {\n            this.opts.margin = this.opts.marginTop; // makes it easier to check for no-ops in setMargin()\n        }\n        return this;\n    }\n    /* ===========================================================================================\n     * drag&drop methods that used to be stubbed out and implemented in dd-gridstack.ts\n     * but caused loading issues in prod - see https://github.com/gridstack/gridstack.js/issues/2039\n     * ===========================================================================================\n     */\n    /** get the global (but static to this code) DD implementation */\n    static getDD() {\n        return dd;\n    }\n    /**\n     * call to setup dragging in from the outside (say toolbar), by specifying the class selection and options.\n     * Called during GridStack.init() as options, but can also be called directly (last param are used) in case the toolbar\n     * is dynamically create and needs to be set later.\n     * @param dragIn string selector (ex: '.sidebar .grid-stack-item') or list of dom elements\n     * @param dragInOptions options - see DDDragInOpt. (default: {handle: '.grid-stack-item-content', appendTo: 'body'}\n     * @param root optional root which defaults to document (for shadow dom pas the parent HTMLDocument)\n     */\n    static setupDragIn(dragIn, dragInOptions, root = document) {\n        if (dragInOptions?.pause !== undefined) {\n            DDManager.pauseDrag = dragInOptions.pause;\n        }\n        dragInOptions = { ...dragInDefaultOptions, ...(dragInOptions || {}) };\n        let els = (typeof dragIn === 'string') ? Utils.getElements(dragIn, root) : dragIn;\n        if (els.length)\n            els?.forEach(el => {\n                if (!dd.isDraggable(el))\n                    dd.dragIn(el, dragInOptions);\n            });\n    }\n    /**\n     * Enables/Disables dragging by the user of specific grid element. If you want all items, and have it affect future items, use enableMove() instead. No-op for static grids.\n     * IF you are looking to prevent an item from moving (due to being pushed around by another during collision) use locked property instead.\n     * @param els widget or selector to modify.\n     * @param val if true widget will be draggable, assuming the parent grid isn't noMove or static.\n     */\n    movable(els, val) {\n        if (this.opts.staticGrid)\n            return this; // can't move a static grid!\n        GridStack.getElements(els).forEach(el => {\n            const n = el.gridstackNode;\n            if (!n)\n                return;\n            val ? delete n.noMove : n.noMove = true;\n            this._prepareDragDropByNode(n); // init DD if need be, and adjust\n        });\n        return this;\n    }\n    /**\n     * Enables/Disables user resizing of specific grid element. If you want all items, and have it affect future items, use enableResize() instead. No-op for static grids.\n     * @param els  widget or selector to modify\n     * @param val  if true widget will be resizable, assuming the parent grid isn't noResize or static.\n     */\n    resizable(els, val) {\n        if (this.opts.staticGrid)\n            return this; // can't resize a static grid!\n        GridStack.getElements(els).forEach(el => {\n            let n = el.gridstackNode;\n            if (!n)\n                return;\n            val ? delete n.noResize : n.noResize = true;\n            this._prepareDragDropByNode(n); // init DD if need be, and adjust\n        });\n        return this;\n    }\n    /**\n     * Temporarily disables widgets moving/resizing.\n     * If you want a more permanent way (which freezes up resources) use `setStatic(true)` instead.\n     * Note: no-op for static grid\n     * This is a shortcut for:\n     * @example\n     *  grid.enableMove(false);\n     *  grid.enableResize(false);\n     * @param recurse true (default) if sub-grids also get updated\n     */\n    disable(recurse = true) {\n        if (this.opts.staticGrid)\n            return;\n        this.enableMove(false, recurse);\n        this.enableResize(false, recurse);\n        this._triggerEvent('disable');\n        return this;\n    }\n    /**\n     * Re-enables widgets moving/resizing - see disable().\n     * Note: no-op for static grid.\n     * This is a shortcut for:\n     * @example\n     *  grid.enableMove(true);\n     *  grid.enableResize(true);\n     * @param recurse true (default) if sub-grids also get updated\n     */\n    enable(recurse = true) {\n        if (this.opts.staticGrid)\n            return;\n        this.enableMove(true, recurse);\n        this.enableResize(true, recurse);\n        this._triggerEvent('enable');\n        return this;\n    }\n    /**\n     * Enables/disables widget moving. No-op for static grids, and locally defined items still overrule\n     * @param recurse true (default) if sub-grids also get updated\n     */\n    enableMove(doEnable, recurse = true) {\n        if (this.opts.staticGrid)\n            return this; // can't move a static grid!\n        doEnable ? delete this.opts.disableDrag : this.opts.disableDrag = true; // FIRST before we update children as grid overrides #1658\n        this.engine.nodes.forEach(n => {\n            this._prepareDragDropByNode(n);\n            if (n.subGrid && recurse)\n                n.subGrid.enableMove(doEnable, recurse);\n        });\n        return this;\n    }\n    /**\n     * Enables/disables widget resizing. No-op for static grids.\n     * @param recurse true (default) if sub-grids also get updated\n     */\n    enableResize(doEnable, recurse = true) {\n        if (this.opts.staticGrid)\n            return this; // can't size a static grid!\n        doEnable ? delete this.opts.disableResize : this.opts.disableResize = true; // FIRST before we update children as grid overrides #1658\n        this.engine.nodes.forEach(n => {\n            this._prepareDragDropByNode(n);\n            if (n.subGrid && recurse)\n                n.subGrid.enableResize(doEnable, recurse);\n        });\n        return this;\n    }\n    /** @internal removes any drag&drop present (called during destroy) */\n    _removeDD(el) {\n        dd.draggable(el, 'destroy').resizable(el, 'destroy');\n        if (el.gridstackNode) {\n            delete el.gridstackNode._initDD; // reset our DD init flag\n        }\n        delete el.ddElement;\n        return this;\n    }\n    /** @internal called to add drag over to support widgets being added externally */\n    _setupAcceptWidget() {\n        // check if we need to disable things\n        if (this.opts.staticGrid || (!this.opts.acceptWidgets && !this.opts.removable)) {\n            dd.droppable(this.el, 'destroy');\n            return this;\n        }\n        // vars shared across all methods\n        let cellHeight, cellWidth;\n        let onDrag = (event, el, helper) => {\n            let node = el.gridstackNode;\n            if (!node)\n                return;\n            helper = helper || el;\n            let parent = this.el.getBoundingClientRect();\n            let { top, left } = helper.getBoundingClientRect();\n            left -= parent.left;\n            top -= parent.top;\n            let ui = { position: { top, left } };\n            if (node._temporaryRemoved) {\n                node.x = Math.max(0, Math.round(left / cellWidth));\n                node.y = Math.max(0, Math.round(top / cellHeight));\n                delete node.autoPosition;\n                this.engine.nodeBoundFix(node);\n                // don't accept *initial* location if doesn't fit #1419 (locked drop region, or can't grow), but maybe try if it will go somewhere\n                if (!this.engine.willItFit(node)) {\n                    node.autoPosition = true; // ignore x,y and try for any slot...\n                    if (!this.engine.willItFit(node)) {\n                        dd.off(el, 'drag'); // stop calling us\n                        return; // full grid or can't grow\n                    }\n                    if (node._willFitPos) {\n                        // use the auto position instead #1687\n                        Utils.copyPos(node, node._willFitPos);\n                        delete node._willFitPos;\n                    }\n                }\n                // re-use the existing node dragging method\n                this._onStartMoving(helper, event, ui, node, cellWidth, cellHeight);\n            }\n            else {\n                // re-use the existing node dragging that does so much of the collision detection\n                this._dragOrResize(helper, event, ui, node, cellWidth, cellHeight);\n            }\n        };\n        dd.droppable(this.el, {\n            accept: (el) => {\n                let node = el.gridstackNode;\n                // set accept drop to true on ourself (which we ignore) so we don't get \"can't drop\" icon in HTML5 mode while moving\n                if (node?.grid === this)\n                    return true;\n                if (!this.opts.acceptWidgets)\n                    return false;\n                // check for accept method or class matching\n                let canAccept = true;\n                if (typeof this.opts.acceptWidgets === 'function') {\n                    canAccept = this.opts.acceptWidgets(el);\n                }\n                else {\n                    let selector = (this.opts.acceptWidgets === true ? '.grid-stack-item' : this.opts.acceptWidgets);\n                    canAccept = el.matches(selector);\n                }\n                // finally check to make sure we actually have space left #1571\n                if (canAccept && node && this.opts.maxRow) {\n                    let n = { w: node.w, h: node.h, minW: node.minW, minH: node.minH }; // only width/height matters and autoPosition\n                    canAccept = this.engine.willItFit(n);\n                }\n                return canAccept;\n            }\n        })\n            /**\n             * entering our grid area\n             */\n            .on(this.el, 'dropover', (event, el, helper) => {\n            // console.log(`over ${this.el.gridstack.opts.id} ${count++}`); // TEST\n            let node = el.gridstackNode;\n            // ignore drop enter on ourself (unless we temporarily removed) which happens on a simple drag of our item\n            if (node?.grid === this && !node._temporaryRemoved) {\n                // delete node._added; // reset this to track placeholder again in case we were over other grid #1484 (dropout doesn't always clear)\n                return false; // prevent parent from receiving msg (which may be a grid as well)\n            }\n            // fix #1578 when dragging fast, we may not get a leave on the previous grid so force one now\n            if (node?.grid && node.grid !== this && !node._temporaryRemoved) {\n                // console.log('dropover without leave'); // TEST\n                let otherGrid = node.grid;\n                otherGrid._leave(el, helper);\n            }\n            // cache cell dimensions (which don't change), position can animate if we removed an item in otherGrid that affects us...\n            cellWidth = this.cellWidth();\n            cellHeight = this.getCellHeight(true);\n            // load any element attributes if we don't have a node\n            if (!node) {\n                node = this._readAttr(el, false); // don't wipe external (e.g. drag toolbar) attr #2354\n            }\n            if (!node.grid) {\n                node._isExternal = true;\n                el.gridstackNode = node;\n            }\n            // calculate the grid size based on element outer size\n            helper = helper || el;\n            let w = node.w || Math.round(helper.offsetWidth / cellWidth) || 1;\n            let h = node.h || Math.round(helper.offsetHeight / cellHeight) || 1;\n            // if the item came from another grid, make a copy and save the original info in case we go back there\n            if (node.grid && node.grid !== this) {\n                // copy the node original values (min/max/id/etc...) but override width/height/other flags which are this grid specific\n                // console.log('dropover cloning node'); // TEST\n                if (!el._gridstackNodeOrig)\n                    el._gridstackNodeOrig = node; // shouldn't have multiple nested!\n                el.gridstackNode = node = { ...node, w, h, grid: this };\n                delete node.x;\n                delete node.y;\n                this.engine.cleanupNode(node)\n                    .nodeBoundFix(node);\n                // restore some internal fields we need after clearing them all\n                node._initDD =\n                    node._isExternal = // DOM needs to be re-parented on a drop\n                        node._temporaryRemoved = true; // so it can be inserted onDrag below\n            }\n            else {\n                node.w = w;\n                node.h = h;\n                node._temporaryRemoved = true; // so we can insert it\n            }\n            // clear any marked for complete removal (Note: don't check _isAboutToRemove as that is cleared above - just do it)\n            this._itemRemoving(node.el, false);\n            dd.on(el, 'drag', onDrag);\n            // make sure this is called at least once when going fast #1578\n            onDrag(event, el, helper);\n            return false; // prevent parent from receiving msg (which may be a grid as well)\n        })\n            /**\n             * Leaving our grid area...\n             */\n            .on(this.el, 'dropout', (event, el, helper) => {\n            // console.log(`out ${this.el.gridstack.opts.id} ${count++}`); // TEST\n            let node = el.gridstackNode;\n            if (!node)\n                return false;\n            // fix #1578 when dragging fast, we might get leave after other grid gets enter (which calls us to clean)\n            // so skip this one if we're not the active grid really..\n            if (!node.grid || node.grid === this) {\n                this._leave(el, helper);\n                // if we were created as temporary nested grid, go back to before state\n                if (this._isTemp) {\n                    this.removeAsSubGrid(node);\n                }\n            }\n            return false; // prevent parent from receiving msg (which may be grid as well)\n        })\n            /**\n             * end - releasing the mouse\n             */\n            .on(this.el, 'drop', (event, el, helper) => {\n            let node = el.gridstackNode;\n            // ignore drop on ourself from ourself that didn't come from the outside - dragend will handle the simple move instead\n            if (node?.grid === this && !node._isExternal)\n                return false;\n            const wasAdded = !!this.placeholder.parentElement; // skip items not actually added to us because of constrains, but do cleanup #1419\n            this.placeholder.remove();\n            // disable animation when replacing a placeholder (already positioned) with actual content\n            const noAnim = wasAdded && this.opts.animate;\n            if (noAnim)\n                this.setAnimation(false);\n            // notify previous grid of removal\n            // console.log('drop delete _gridstackNodeOrig') // TEST\n            let origNode = el._gridstackNodeOrig;\n            delete el._gridstackNodeOrig;\n            if (wasAdded && origNode?.grid && origNode.grid !== this) {\n                let oGrid = origNode.grid;\n                oGrid.engine.removeNodeFromLayoutCache(origNode);\n                oGrid.engine.removedNodes.push(origNode);\n                oGrid._triggerRemoveEvent()._triggerChangeEvent();\n                // if it's an empty sub-grid that got auto-created, nuke it\n                if (oGrid.parentGridItem && !oGrid.engine.nodes.length && oGrid.opts.subGridDynamic) {\n                    oGrid.removeAsSubGrid();\n                }\n            }\n            if (!node)\n                return false;\n            // use existing placeholder node as it's already in our list with drop location\n            if (wasAdded) {\n                this.engine.cleanupNode(node); // removes all internal _xyz values\n                node.grid = this;\n            }\n            delete node.grid._isTemp;\n            dd.off(el, 'drag');\n            // if we made a copy ('helper' which is temp) of the original node then insert a copy, else we move the original node (#1102)\n            // as the helper will be nuked by jquery-ui otherwise. TODO: update old code path\n            if (helper !== el) {\n                helper.remove();\n                el.gridstackNode = origNode; // original item (left behind) is re-stored to pre dragging as the node now has drop info\n                if (wasAdded) {\n                    el = el.cloneNode(true);\n                }\n            }\n            else {\n                el.remove(); // reduce flicker as we change depth here, and size further down\n                this._removeDD(el);\n            }\n            if (!wasAdded)\n                return false;\n            el.gridstackNode = node;\n            node.el = el;\n            let subGrid = node.subGrid?.el?.gridstack; // set when actual sub-grid present\n            // @ts-ignore\n            Utils.copyPos(node, this._readAttr(this.placeholder)); // placeholder values as moving VERY fast can throw things off #1578\n            Utils.removePositioningStyles(el); // @ts-ignore\n            this.el.appendChild(el); // @ts-ignore // TODO: now would be ideal time to _removeHelperStyle() overriding floating styles (native only)\n            this._prepareElement(el, true, node);\n            if (subGrid) {\n                subGrid.parentGridItem = node;\n                if (!subGrid.opts.styleInHead)\n                    subGrid._updateStyles(true); // re-create sub-grid styles now that we've moved\n            }\n            this._updateContainerHeight();\n            this.engine.addedNodes.push(node); // @ts-ignore\n            this._triggerAddEvent(); // @ts-ignore\n            this._triggerChangeEvent();\n            this.engine.endUpdate();\n            if (this._gsEventHandler['dropped']) {\n                this._gsEventHandler['dropped']({ ...event, type: 'dropped' }, origNode && origNode.grid ? origNode : undefined, node);\n            }\n            // delay adding animation back\n            if (noAnim)\n                setTimeout(() => this.setAnimation(this.opts.animate));\n            return false; // prevent parent from receiving msg (which may be grid as well)\n        });\n        return this;\n    }\n    /** @internal mark item for removal */\n    _itemRemoving(el, remove) {\n        let node = el ? el.gridstackNode : undefined;\n        if (!node || !node.grid || el.classList.contains(this.opts.removableOptions.decline))\n            return;\n        remove ? node._isAboutToRemove = true : delete node._isAboutToRemove;\n        remove ? el.classList.add('grid-stack-item-removing') : el.classList.remove('grid-stack-item-removing');\n    }\n    /** @internal called to setup a trash drop zone if the user specifies it */\n    _setupRemoveDrop() {\n        if (!this.opts.staticGrid && typeof this.opts.removable === 'string') {\n            let trashEl = document.querySelector(this.opts.removable);\n            if (!trashEl)\n                return this;\n            // only register ONE drop-over/dropout callback for the 'trash', and it will\n            // update the passed in item and parent grid because the 'trash' is a shared resource anyway,\n            // and Native DD only has 1 event CB (having a list and technically a per grid removableOptions complicates things greatly)\n            if (!dd.isDroppable(trashEl)) {\n                dd.droppable(trashEl, this.opts.removableOptions)\n                    .on(trashEl, 'dropover', (event, el) => this._itemRemoving(el, true))\n                    .on(trashEl, 'dropout', (event, el) => this._itemRemoving(el, false));\n            }\n        }\n        return this;\n    }\n    /** @internal prepares the element for drag&drop */\n    _prepareDragDropByNode(node) {\n        let el = node.el;\n        const noMove = node.noMove || this.opts.disableDrag;\n        const noResize = node.noResize || this.opts.disableResize;\n        // check for disabled grid first\n        if (this.opts.staticGrid || (noMove && noResize)) {\n            if (node._initDD) {\n                this._removeDD(el); // nukes everything instead of just disable, will add some styles back next\n                delete node._initDD;\n            }\n            el.classList.add('ui-draggable-disabled', 'ui-resizable-disabled'); // add styles one might depend on #1435\n            return this;\n        }\n        if (!node._initDD) {\n            // variables used/cashed between the 3 start/move/end methods, in addition to node passed above\n            let cellWidth;\n            let cellHeight;\n            /** called when item starts moving/resizing */\n            let onStartMoving = (event, ui) => {\n                // trigger any 'dragstart' / 'resizestart' manually\n                if (this._gsEventHandler[event.type]) {\n                    this._gsEventHandler[event.type](event, event.target);\n                }\n                cellWidth = this.cellWidth();\n                cellHeight = this.getCellHeight(true); // force pixels for calculations\n                this._onStartMoving(el, event, ui, node, cellWidth, cellHeight);\n            };\n            /** called when item is being dragged/resized */\n            let dragOrResize = (event, ui) => {\n                this._dragOrResize(el, event, ui, node, cellWidth, cellHeight);\n            };\n            /** called when the item stops moving/resizing */\n            let onEndMoving = (event) => {\n                this.placeholder.remove();\n                delete node._moving;\n                delete node._event;\n                delete node._lastTried;\n                const widthChanged = node.w !== node._orig.w;\n                // if the item has moved to another grid, we're done here\n                let target = event.target;\n                if (!target.gridstackNode || target.gridstackNode.grid !== this)\n                    return;\n                node.el = target;\n                if (node._isAboutToRemove) {\n                    let grid = el.gridstackNode.grid;\n                    if (grid._gsEventHandler[event.type]) {\n                        grid._gsEventHandler[event.type](event, target);\n                    }\n                    grid.engine.nodes.push(node); // temp add it back so we can proper remove it next\n                    grid.removeWidget(el, true, true);\n                }\n                else {\n                    Utils.removePositioningStyles(target);\n                    if (node._temporaryRemoved) {\n                        // got removed - restore item back to before dragging position\n                        Utils.copyPos(node, node._orig); // @ts-ignore\n                        this._writePosAttr(target, node);\n                        this.engine.addNode(node);\n                    }\n                    else {\n                        // move to new placeholder location\n                        this._writePosAttr(target, node);\n                    }\n                    if (this._gsEventHandler[event.type]) {\n                        this._gsEventHandler[event.type](event, target);\n                    }\n                }\n                // @ts-ignore\n                this._extraDragRow = 0; // @ts-ignore\n                this._updateContainerHeight(); // @ts-ignore\n                this._triggerChangeEvent();\n                this.engine.endUpdate();\n                if (event.type === 'resizestop') {\n                    if (Number.isInteger(node.sizeToContent))\n                        node.sizeToContent = node.h; // new soft limit\n                    this.resizeToContentCheck(widthChanged, node); // wait for width animation if changed\n                }\n            };\n            dd.draggable(el, {\n                start: onStartMoving,\n                stop: onEndMoving,\n                drag: dragOrResize\n            }).resizable(el, {\n                start: onStartMoving,\n                stop: onEndMoving,\n                resize: dragOrResize\n            });\n            node._initDD = true; // we've set DD support now\n        }\n        // finally fine tune move vs resize by disabling any part...\n        dd.draggable(el, noMove ? 'disable' : 'enable')\n            .resizable(el, noResize ? 'disable' : 'enable');\n        return this;\n    }\n    /** @internal handles actual drag/resize start */\n    _onStartMoving(el, event, ui, node, cellWidth, cellHeight) {\n        this.engine.cleanNodes()\n            .beginUpdate(node);\n        // @ts-ignore\n        this._writePosAttr(this.placeholder, node);\n        this.el.appendChild(this.placeholder);\n        // console.log('_onStartMoving placeholder') // TEST\n        node.el = this.placeholder;\n        node._lastUiPosition = ui.position;\n        node._prevYPix = ui.position.top;\n        node._moving = (event.type === 'dragstart'); // 'dropover' are not initially moving so they can go exactly where they enter (will push stuff out of the way)\n        delete node._lastTried;\n        if (event.type === 'dropover' && node._temporaryRemoved) {\n            // console.log('engine.addNode x=' + node.x); // TEST\n            this.engine.addNode(node); // will add, fix collisions, update attr and clear _temporaryRemoved\n            node._moving = true; // AFTER, mark as moving object (wanted fix location before)\n        }\n        // set the min/max resize info\n        this.engine.cacheRects(cellWidth, cellHeight, this.opts.marginTop, this.opts.marginRight, this.opts.marginBottom, this.opts.marginLeft);\n        if (event.type === 'resizestart') {\n            dd.resizable(el, 'option', 'minWidth', cellWidth * (node.minW || 1))\n                .resizable(el, 'option', 'minHeight', cellHeight * (node.minH || 1));\n            if (node.maxW) {\n                dd.resizable(el, 'option', 'maxWidth', cellWidth * node.maxW);\n            }\n            if (node.maxH) {\n                dd.resizable(el, 'option', 'maxHeight', cellHeight * node.maxH);\n            }\n        }\n    }\n    /** @internal handles actual drag/resize */\n    _dragOrResize(el, event, ui, node, cellWidth, cellHeight) {\n        let p = { ...node._orig }; // could be undefined (_isExternal) which is ok (drag only set x,y and w,h will default to node value)\n        let resizing;\n        let mLeft = this.opts.marginLeft, mRight = this.opts.marginRight, mTop = this.opts.marginTop, mBottom = this.opts.marginBottom;\n        // if margins (which are used to pass mid point by) are large relative to cell height/width, reduce them down #1855\n        let mHeight = Math.round(cellHeight * 0.1), mWidth = Math.round(cellWidth * 0.1);\n        mLeft = Math.min(mLeft, mWidth);\n        mRight = Math.min(mRight, mWidth);\n        mTop = Math.min(mTop, mHeight);\n        mBottom = Math.min(mBottom, mHeight);\n        if (event.type === 'drag') {\n            if (node._temporaryRemoved)\n                return; // handled by dropover\n            let distance = ui.position.top - node._prevYPix;\n            node._prevYPix = ui.position.top;\n            if (this.opts.draggable.scroll !== false) {\n                Utils.updateScrollPosition(el, ui.position, distance);\n            }\n            // get new position taking into account the margin in the direction we are moving! (need to pass mid point by margin)\n            let left = ui.position.left + (ui.position.left > node._lastUiPosition.left ? -mRight : mLeft);\n            let top = ui.position.top + (ui.position.top > node._lastUiPosition.top ? -mBottom : mTop);\n            p.x = Math.round(left / cellWidth);\n            p.y = Math.round(top / cellHeight);\n            // @ts-ignore// if we're at the bottom hitting something else, grow the grid so cursor doesn't leave when trying to place below others\n            let prev = this._extraDragRow;\n            if (this.engine.collide(node, p)) {\n                let row = this.getRow();\n                let extra = Math.max(0, (p.y + node.h) - row);\n                if (this.opts.maxRow && row + extra > this.opts.maxRow) {\n                    extra = Math.max(0, this.opts.maxRow - row);\n                } // @ts-ignore\n                this._extraDragRow = extra; // @ts-ignore\n            }\n            else\n                this._extraDragRow = 0; // @ts-ignore\n            if (this._extraDragRow !== prev)\n                this._updateContainerHeight();\n            if (node.x === p.x && node.y === p.y)\n                return; // skip same\n            // DON'T skip one we tried as we might have failed because of coverage <50% before\n            // if (node._lastTried && node._lastTried.x === x && node._lastTried.y === y) return;\n        }\n        else if (event.type === 'resize') {\n            if (p.x < 0)\n                return;\n            // Scrolling page if needed\n            Utils.updateScrollResize(event, el, cellHeight);\n            // get new size\n            p.w = Math.round((ui.size.width - mLeft) / cellWidth);\n            p.h = Math.round((ui.size.height - mTop) / cellHeight);\n            if (node.w === p.w && node.h === p.h)\n                return;\n            if (node._lastTried && node._lastTried.w === p.w && node._lastTried.h === p.h)\n                return; // skip one we tried (but failed)\n            // if we size on left/top side this might move us, so get possible new position as well\n            let left = ui.position.left + mLeft;\n            let top = ui.position.top + mTop;\n            p.x = Math.round(left / cellWidth);\n            p.y = Math.round(top / cellHeight);\n            resizing = true;\n        }\n        node._event = event;\n        node._lastTried = p; // set as last tried (will nuke if we go there)\n        let rect = {\n            x: ui.position.left + mLeft,\n            y: ui.position.top + mTop,\n            w: (ui.size ? ui.size.width : node.w * cellWidth) - mLeft - mRight,\n            h: (ui.size ? ui.size.height : node.h * cellHeight) - mTop - mBottom\n        };\n        if (this.engine.moveNodeCheck(node, { ...p, cellWidth, cellHeight, rect, resizing })) {\n            node._lastUiPosition = ui.position;\n            this.engine.cacheRects(cellWidth, cellHeight, mTop, mRight, mBottom, mLeft);\n            delete node._skipDown;\n            if (resizing && node.subGrid)\n                node.subGrid.onResize();\n            this._extraDragRow = 0; // @ts-ignore\n            this._updateContainerHeight();\n            let target = event.target; // @ts-ignore\n            this._writePosAttr(target, node);\n            if (this._gsEventHandler[event.type]) {\n                this._gsEventHandler[event.type](event, target);\n            }\n        }\n    }\n    /** @internal called when item leaving our area by either cursor dropout event\n     * or shape is outside our boundaries. remove it from us, and mark temporary if this was\n     * our item to start with else restore prev node values from prev grid it came from.\n     */\n    _leave(el, helper) {\n        let node = el.gridstackNode;\n        if (!node)\n            return;\n        dd.off(el, 'drag'); // no need to track while being outside\n        // this gets called when cursor leaves and shape is outside, so only do this once\n        if (node._temporaryRemoved)\n            return;\n        node._temporaryRemoved = true;\n        this.engine.removeNode(node); // remove placeholder as well, otherwise it's a sign node is not in our list, which is a bigger issue\n        node.el = node._isExternal && helper ? helper : el; // point back to real item being dragged\n        if (this.opts.removable === true) { // boolean vs a class string\n            // item leaving us and we are supposed to remove on leave (no need to drag onto trash) mark it so\n            this._itemRemoving(el, true);\n        }\n        // finally if item originally came from another grid, but left us, restore things back to prev info\n        if (el._gridstackNodeOrig) {\n            // console.log('leave delete _gridstackNodeOrig') // TEST\n            el.gridstackNode = el._gridstackNodeOrig;\n            delete el._gridstackNodeOrig;\n        }\n        else if (node._isExternal) {\n            // item came from outside (like a toolbar) so nuke any node info\n            delete node.el;\n            delete el.gridstackNode;\n            // and restore all nodes back to original\n            this.engine.restoreInitial();\n        }\n    }\n    // legacy method removed\n    commit() { obsolete(this, this.batchUpdate(false), 'commit', 'batchUpdate', '5.2'); return this; }\n}\n/** parent class for sizing content. defaults to '.grid-stack-item-content' */\nGridStack.resizeToContentParent = '.grid-stack-item-content';\n/** scoping so users can call GridStack.Utils.sort() for example */\nGridStack.Utils = Utils;\n/** scoping so users can call new GridStack.Engine(12) for example */\nGridStack.Engine = GridStackEngine;\nGridStack.GDRev = '10.0.1';\nexport { GridStack };\n//# sourceMappingURL=gridstack.js.map","/**\n * dd-gridstack.ts 10.0.1\n * Copyright (c) 2021 Alain Dumesny - see GridStack root license\n */\nimport { Utils } from './utils';\nimport { DDManager } from './dd-manager';\nimport { DDElement } from './dd-element';\n// let count = 0; // TEST\n/**\n * HTML Native Mouse and Touch Events Drag and Drop functionality.\n */\nexport class DDGridStack {\n    resizable(el, opts, key, value) {\n        this._getDDElements(el).forEach(dEl => {\n            if (opts === 'disable' || opts === 'enable') {\n                dEl.ddResizable && dEl.ddResizable[opts](); // can't create DD as it requires options for setupResizable()\n            }\n            else if (opts === 'destroy') {\n                dEl.ddResizable && dEl.cleanResizable();\n            }\n            else if (opts === 'option') {\n                dEl.setupResizable({ [key]: value });\n            }\n            else {\n                const grid = dEl.el.gridstackNode.grid;\n                let handles = dEl.el.getAttribute('gs-resize-handles') ? dEl.el.getAttribute('gs-resize-handles') : grid.opts.resizable.handles;\n                let autoHide = !grid.opts.alwaysShowResizeHandle;\n                dEl.setupResizable({\n                    ...grid.opts.resizable,\n                    ...{ handles, autoHide },\n                    ...{\n                        start: opts.start,\n                        stop: opts.stop,\n                        resize: opts.resize\n                    }\n                });\n            }\n        });\n        return this;\n    }\n    draggable(el, opts, key, value) {\n        this._getDDElements(el).forEach(dEl => {\n            if (opts === 'disable' || opts === 'enable') {\n                dEl.ddDraggable && dEl.ddDraggable[opts](); // can't create DD as it requires options for setupDraggable()\n            }\n            else if (opts === 'destroy') {\n                dEl.ddDraggable && dEl.cleanDraggable();\n            }\n            else if (opts === 'option') {\n                dEl.setupDraggable({ [key]: value });\n            }\n            else {\n                const grid = dEl.el.gridstackNode.grid;\n                dEl.setupDraggable({\n                    ...grid.opts.draggable,\n                    ...{\n                        // containment: (grid.parentGridItem && !grid.opts.dragOut) ? grid.el.parentElement : (grid.opts.draggable.containment || null),\n                        start: opts.start,\n                        stop: opts.stop,\n                        drag: opts.drag\n                    }\n                });\n            }\n        });\n        return this;\n    }\n    dragIn(el, opts) {\n        this._getDDElements(el).forEach(dEl => dEl.setupDraggable(opts));\n        return this;\n    }\n    droppable(el, opts, key, value) {\n        if (typeof opts.accept === 'function' && !opts._accept) {\n            opts._accept = opts.accept;\n            opts.accept = (el) => opts._accept(el);\n        }\n        this._getDDElements(el).forEach(dEl => {\n            if (opts === 'disable' || opts === 'enable') {\n                dEl.ddDroppable && dEl.ddDroppable[opts]();\n            }\n            else if (opts === 'destroy') {\n                if (dEl.ddDroppable) { // error to call destroy if not there\n                    dEl.cleanDroppable();\n                }\n            }\n            else if (opts === 'option') {\n                dEl.setupDroppable({ [key]: value });\n            }\n            else {\n                dEl.setupDroppable(opts);\n            }\n        });\n        return this;\n    }\n    /** true if element is droppable */\n    isDroppable(el) {\n        return !!(el && el.ddElement && el.ddElement.ddDroppable && !el.ddElement.ddDroppable.disabled);\n    }\n    /** true if element is draggable */\n    isDraggable(el) {\n        return !!(el && el.ddElement && el.ddElement.ddDraggable && !el.ddElement.ddDraggable.disabled);\n    }\n    /** true if element is draggable */\n    isResizable(el) {\n        return !!(el && el.ddElement && el.ddElement.ddResizable && !el.ddElement.ddResizable.disabled);\n    }\n    on(el, name, callback) {\n        this._getDDElements(el).forEach(dEl => dEl.on(name, (event) => {\n            callback(event, DDManager.dragElement ? DDManager.dragElement.el : event.target, DDManager.dragElement ? DDManager.dragElement.helper : null);\n        }));\n        return this;\n    }\n    off(el, name) {\n        this._getDDElements(el).forEach(dEl => dEl.off(name));\n        return this;\n    }\n    /** @internal returns a list of DD elements, creating them on the fly by default */\n    _getDDElements(els, create = true) {\n        let hosts = Utils.getElements(els);\n        if (!hosts.length)\n            return [];\n        let list = hosts.map(e => e.ddElement || (create ? DDElement.init(e) : null));\n        if (!create) {\n            list.filter(d => d);\n        } // remove nulls\n        return list;\n    }\n}\n//# sourceMappingURL=dd-gridstack.js.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _Grid_grid;\nimport { GridStack } from 'gridstack';\nclass Grid {\n    constructor() {\n        this.DEFAULT_GRID_OPTIONS = {\n            column: 12,\n            alwaysShowResizeHandle: 'mobile'\n        };\n        this.DEFAULT_WIDGET = {\n            w: 4,\n            h: 2,\n            content: '<iframe class=\"no-border fill-h fill-w\" allow=\"autoplay; encrypted-media;\" src=\"./new-panel.html\">'\n        };\n        _Grid_grid.set(this, void 0);\n    }\n    get grid() {\n        if (!__classPrivateFieldGet(this, _Grid_grid, \"f\")) {\n            __classPrivateFieldSet(this, _Grid_grid, GridStack.init(this.DEFAULT_GRID_OPTIONS), \"f\");\n        }\n        return __classPrivateFieldGet(this, _Grid_grid, \"f\");\n    }\n    add_panel() {\n        this.grid.addWidget(this.DEFAULT_WIDGET);\n    }\n    setup() {\n        this.grid.on('resizestart', (e, el) => {\n            const iframe = el.childNodes[0].childNodes[0];\n            iframe.classList.add(\"non-interactive\");\n        });\n        this.grid.on('resizestop', (e, el) => {\n            const iframe = el.childNodes[0].childNodes[0];\n            iframe.classList.remove(\"non-interactive\");\n        });\n    }\n}\n_Grid_grid = new WeakMap();\nexport default Grid;\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _Plot_interactive, _Plot_grid;\nimport Interactive from './plot/interactive';\nimport Grid from './plot/grid';\nclass Plot {\n    constructor() {\n        _Plot_interactive.set(this, void 0);\n        _Plot_grid.set(this, void 0);\n    }\n    get interactive() {\n        if (!__classPrivateFieldGet(this, _Plot_interactive, \"f\")) {\n            __classPrivateFieldSet(this, _Plot_interactive, new Interactive(this, \"add-panel\"), \"f\");\n        }\n        return __classPrivateFieldGet(this, _Plot_interactive, \"f\");\n    }\n    get grid() {\n        if (!__classPrivateFieldGet(this, _Plot_grid, \"f\")) {\n            __classPrivateFieldSet(this, _Plot_grid, new Grid(), \"f\");\n        }\n        return __classPrivateFieldGet(this, _Plot_grid, \"f\");\n    }\n    setup() {\n        this.interactive.setup();\n        this.grid.setup();\n    }\n}\n_Plot_interactive = new WeakMap(), _Plot_grid = new WeakMap();\nexport default Plot;\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _Panel_youtube_video_id_regex, _Panel_form, _Panel_iframe;\nclass Panel {\n    constructor() {\n        _Panel_youtube_video_id_regex.set(this, /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/gi);\n        _Panel_form.set(this, void 0);\n        _Panel_iframe.set(this, void 0);\n    }\n    get form() {\n        if (!__classPrivateFieldGet(this, _Panel_form, \"f\")) {\n            __classPrivateFieldSet(this, _Panel_form, document.getElementsByTagName(\"form\")[0], \"f\");\n        }\n        return __classPrivateFieldGet(this, _Panel_form, \"f\");\n    }\n    get iframe() {\n        if (!__classPrivateFieldGet(this, _Panel_iframe, \"f\")) {\n            __classPrivateFieldSet(this, _Panel_iframe, document.getElementsByTagName(\"iframe\")[0], \"f\");\n        }\n        return __classPrivateFieldGet(this, _Panel_iframe, \"f\");\n    }\n    setup() {\n        this.form.addEventListener(\"submit\", (e) => {\n            e.preventDefault();\n            const form = e.target;\n            const data = new FormData(form);\n            const url = data.get('url');\n            if (url.startsWith(\"https://www.youtube.com/watch?v=\")) {\n                const video_id = url.match(__classPrivateFieldGet(this, _Panel_youtube_video_id_regex, \"f\"));\n                const video_url = `https://www.youtube.com/embed/${video_id}?si=gqA_FiEwiqmI5F--`; // https://www.youtube.com/embed/w9uJg68CV4g?si=gqA_FiEwiqmI5F--\n                console.log(\"hi\", video_url);\n                document.location.href = video_url;\n            }\n            else {\n                document.location.href = url;\n            }\n        });\n    }\n}\n_Panel_youtube_video_id_regex = new WeakMap(), _Panel_form = new WeakMap(), _Panel_iframe = new WeakMap();\nexport default Panel;\n","import Plot from './plot';\nimport Panel from './panel';\n(function () {\n    const page = document.getElementsByTagName(\"body\")[0].dataset.type;\n    if (page == \"main\") {\n        const plot = new Plot();\n        plot.setup();\n    }\n    else if (page == \"panel\") {\n        const panel = new Panel();\n        panel.setup();\n    }\n})();\n"],"names":["factory","__webpack_modules__","__unused_webpack_module","exports","Object","defineProperty","value","Autocomplete","utils_1","dropdown_1","component_1","_defaults","data","onAutocomplete","dropdownOptions","autoFocus","closeOnClick","coverTrigger","minLength","isMultiSelect","onSearch","text","autocomplete","normSearch","toLocaleLowerCase","setMenuItems","options","filter","option","_a","id","toString","includes","maxDropDownHeight","allowUnsafeHTML","Component","constructor","el","super","this","_handleInputBlur","_mousedown","close","_resetAutocomplete","_handleInputKeyupAndFocus","e","type","_keydown","count","actualValue","Utils","keys","ENTER","key","ARROW_UP","ARROW_DOWN","oldVal","tabPressed","open","_setStatusLoading","length","selectedValues","_triggerChanged","_handleInputKeydown","_b","numItems","container","querySelectorAll","activeIndex","liElement","selectOption","getAttribute","preventDefault","$active","classList","remove","add","children","scrollIntoView","behavior","block","inline","_handleInputClick","_handleContainerMousedownAndTouchstart","_handleContainerMouseupAndTouchend","inputText","isOpen","_renderDropdown","dropdown","recalculateDimensions","setTimeout","M_Autocomplete","assign","defaults","menuItems","_setupDropdown","_setupEventHandlers","init","els","getInstance","destroy","_removeEventHandlers","_removeDropdown","undefined","addEventListener","window","ontouchstart","removeEventListener","document","createElement","style","maxHeight","guid","setAttribute","parentElement","appendChild","userOnItemClick","onItemClick","li","entryID","call","Dropdown","label","querySelector","after","_handleClick","div","_updateSelectedInfo","parentNode","removeChild","_resetCurrentElementPosition","replaceChildren","_highlightPartialText","input","start","indexOf","end","slice","_createDropdownItem","entry","item","innerHTML","some","sel","image","img","src","parts","createTextNode","highlight","textContent","itemText","description","isNaN","innerText","gridTemplateColumns","getGridConfig","i","append","statusElement","_refreshInputText","dispatchEvent","Event","setValues","entries","find","checkbox","checked","push","selectedEntry","focus","FloatingActionButton","direction","hoverEnabled","toolbarEnabled","_handleFABClick","_handleDocumentClick","target","_menu","_animateInToolbar","_animateInFAB","body","_animateOutFAB","M_FloatingActionButton","_anchor","_floatingBtns","Array","from","_floatingBtnsReverse","reverse","offsetY","offsetX","forEach","index","delay","transition","opacity","transform","scaleFactor","windowWidth","innerWidth","windowHeight","innerHeight","btnRect","getBoundingClientRect","backdrop","fabColor","getComputedStyle","backgroundColor","left","width","bottom","clientWidth","btnBottom","btnLeft","btnWidth","textAlign","overflow","a","Cards","Init","trigger","card","closest","cardReveal","elem","contains","initialOverflow","closeArea","duration","display","activator","Carousel","dist","shift","padding","numVisible","fullWidth","indicators","noWrap","onCycleTo","center","_handleThrottledResize","throttle","_handleResize","bind","_handleCarouselTap","tagName","pressed","dragged","verticalDragged","reference","_xpos","referenceY","_ypos","velocity","amplitude","frame","offset","timestamp","Date","now","clearInterval","ticker","setInterval","_track","_handleCarouselDrag","x","y","delta","deltaY","Math","abs","_scroll","stopPropagation","_handleCarouselRelease","round","dim","requestAnimationFrame","_autoScroll","_handleCarouselClick","clickedElem","clickedIndex","_wrap","clientX","next","prev","_cycleTo","_handleIndicatorClick","indicator","itemWidth","imageHeight","clientHeight","_setCarouselHeight","elapsed","v","exp","M_Carousel","hasMultipleSlides","showIndicators","images","itemHeight","_indicators","min","xform","every","prefix","imageOnly","firstSlide","firstImage","complete","height","naturalWidth","naturalHeight","adjustedHeight","offsetHeight","slideHeight","startsWith","targetTouches","clientY","half","dir","tween","alignment","zTranslation","tweenedOpacity","centerTweenedOpacity","scrollingTimeout","clearTimeout","lastCenter","numVisibleOffset","floor","diff","activeIndicator","pos","transformString","_updateItemStyle","_currItem","oneTimeCallback","zIndex","visibility","n","callback","set","CharacterCounter","freeze","updateCounter","maxLength","parseInt","actualLength","isValidLength","counterString","_validateInput","counterEl","M_CharacterCounter","isInvalid","_setupCounter","_removeCounter","float","fontSize","Chips","autocomplete_1","placeholder","secondaryPlaceholder","closeIconClass","autocompleteOptions","autocompleteOnly","limit","Infinity","onChipAdd","onChipSelect","onChipDelete","gGetIndex","_handleChipClick","_chip","clickedClose","deleteChip","_input","selectChip","_handleInputFocus","hasAutocomplete","addChip","BACKSPACE","ARROW_LEFT","chipsData","M_Chips","_chips","_setupInput","_renderChips","_setupAutocomplete","_setPlaceholder","_setupLabel","getData","c","_handleChipsKeydown","_handleChipsKeyup","_handleChipsBlur","chips","chipsKeydown","tag","currChips","DELETE","selectIndex","_selectedChip","max","ARROW_RIGHT","hidden","_renderChip","chip","renderedChip","closeIcon","insertBefore","firstChild","chipElem","items","_label","_isValidAndNotExist","isValid","doesNotExist","before","chipIndex","splice","Collapsible","accordion","onOpenStart","onOpenEnd","onCloseStart","onCloseEnd","inDuration","outDuration","_handleCollapsibleClick","header","isActive","_handleCollapsibleKeydown","listItems","activeLis","activeLi","_animateIn","_animateOut","M_Collapsible","_headers","tabIndex","activeBodies","_setExpanded","scrollHeight","classDef","HTMLElement","console","error","Error","ins","instances","Element","Datepicker","modal_1","select_1","autoClose","format","parse","defaultDate","setDefaultDate","disableWeekends","disableDayFn","firstDay","minDate","maxDate","yearRange","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearRangeReverse","showMonthAfterYear","showDaysInNextAndPreviousMonths","showClearBtn","i18n","cancel","clear","done","previousMonth","nextMonth","months","monthsShort","weekdays","weekdaysShort","weekdaysAbbrev","events","onSelect","onOpen","onClose","onDraw","_handleCalendarClick","prevMonth","setDate","_finishSelection","_handleClearClick","date","setInputValue","_handleMonthChange","gotoMonth","_handleYearChange","gotoYear","_handleInputChange","firedBy","_isDate","draw","modal","M_Datepicker","hasOwnProperty","setHours","_setupVariables","_insertHTMLIntoDOM","_setupModal","defDate","gotoDate","obj","test","prototype","getTime","_isWeekend","day","getDay","_setToStartOfDay","_getDaysInMonth","year","month","_isLeapYear","_compareDates","b","modalEl","destroySelects","oldYearSelect","calendarEl","FormSelect","oldMonthSelect","clearBtn","doneBtn","cancelBtn","optEl","Modal","split","map","formats","join","preventOnSelect","_renderDateDisplay","CustomEvent","bubbles","cancelable","composed","detail","displayDate","getMonth","getDate","yearTextEl","getFullYear","dateTextEl","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","adjustCalendars","adjustCalendar","calendar","ceil","render","randId","opts","days","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","isWeekSelected","r","isSelected","isToday","hasEvent","toDateString","isEmpty","dayNumber","monthNumber","yearNumber","isStartRange","isEndRange","isInRange","dayConfig","isDisabled","renderDay","renderRow","renderTable","arr","ariaSelected","isRowSelected","renderHead","renderBody","renderDayName","rows","renderTitle","instance","refYear","j","monthHtml","yearHtml","isMinYear","isMaxYear","html","isArray","force","_y","_m","random","replace","substr","yearSelect","monthSelect","classes","constrainWidth","template","_template","trim","content","d","dd","ddd","dddd","m","mm","mmm","mmmm","yy","yyyy","abbr","hover","_handleMouseEnter","_handleMouseLeave","toEl","relatedTarget","leaveToDropdownContent","leaveToActiveDropdownTrigger","closestTrigger","M_Dropdown","isTouchMoving","_handleTriggerKeydown","_handleDocumentTouchmove","_handleDropdownClick","itemEl","_handleDropdownKeydown","arrowUpOrDown","TAB","newFocusedIndex","focusedIndex","hasFoundNewIndex","dropdownEl","_focusFocusedItem","focusedElement","activatableElement","click","ESC","keyText","toLowerCase","isLetter","specialKeys","filterQuery","string","newOptionEl","filterTimeout","_resetFilterQuery","_resetDropdownStyles","_placeDropdown","_setupTemporaryEventHandlers","_removeTemporaryEventHandlers","top","transformOrigin","_dropdowns","getIdFromTrigger","getElementById","isScrollable","_moveDropdown","_makeDropdownFocusable","containerEl","preventScroll","_getDropdownPosition","closestOverflowParent","offsetParent","triggerBRect","dropdownBRect","idealHeight","idealWidth","idealXPos","idealYPos","dropdownBounds","alignments","checkPossibleAlignments","verticalAlignment","horizontalAlignment","spaceOnTop","spaceOnBottom","oppositeAlignment","spaceOnLeft","spaceOnRight","_getClosestAncestor","condition","ancestor","position","positionInfo","Forms","textareaAutoResize","textarea","hiddenDiv","fontFamily","lineHeight","paddingTop","paddingRight","paddingBottom","paddingLeft","hasAttribute","overflowWrap","whiteSpace","offsetWidth","originalHeight","prevLength","HTMLInputElement","once","textArea","fileInput","InitFileInputPath","InitTextarea","pathInput","files","filenames","name","Materialbox","_handleMaterialboxClick","doneAnimating","overlayActive","_handleWindowScroll","_handleWindowResize","_handleWindowEscape","_updateVars","originalWidth","_makeAncestorsOverflowVisible","willChange","attrWidth","attrHeight","removeAttribute","_addOverlay","caption","_addCaption","widthPercent","heightPercent","newWidth","newHeight","ratio","_animateImageIn","_removeOverlay","_animateImageOut","_removeCaption","M_Materialbox","originInlineStyles","_changedAncestorList","curr","_offset","box","docElem","documentElement","pageYOffset","clientTop","pageXOffset","clientLeft","maxWidth","getDocumentScrollLeft","getDocumentScrollTop","anchestor","_photoCaption","_overlay","overlayOffset","preventScrolling","dismissible","startingTop","endingTop","_handleTriggerClick","modalId","modalInstance","M_Modal","_handleOverlayClick","_handleModalCloseClick","_handleKeydown","_handleFocus","_nthModalOpened","_modalsOpen","_openingTrigger","insertAdjacentElement","_count","isBottomSheet","Parallax","responsiveThreshold","_handleImageLoad","_updateParallax","M_Parallax","_enabled","_img","_setupStyles","_parallaxes","_handleScroll","parallaxInstance","_handleScrollThrottled","_handleWindowResizeThrottled","containerHeight","parallaxDist","scrollTop","parallax","Pushpin","onPositionChange","M_Pushpin","originalOffset","offsetTop","_pushpins","_updatePosition","_removePinClasses","_updateElements","elIndex","scrolled","Range","_handleRangeChange","thumb","_showRangeBubble","offsetLeft","_calcRangeOffset","_handleRangeMousedownTouchstart","_handleRangeInputMousemoveTouchmove","_handleRangeMouseupTouchend","_handleRangeBlurMouseoutTouchleave","marginLeftText","marginLeft","M_Range","_setupThumb","_removeThumb","parseFloat","ScrollSpy","scrollOffset","activeClass","getActiveElement","_elements","scrollspy","_ticks","right","intersections","_findElements","tickId","_enter","_elementsInView","lastTick","_exit","M_ScrollSpy","_increment","_visibleElements","hits","currTop","elTop","elLeft","elRight","elBottom","actElem","unshift","selector","_handleSelectChange","_setValueToInput","_handleOptionClick","virtualOption","_selectOptionElement","_setSelectedStates","M_FormSelect","isMultiple","multiple","_values","_arraysEqual","optionEl","previousSelectedValues","getSelectedValues","_toggleEntryFromArray","_deselectAll","_selectValue","actualSelectedValues","labelEl","wrapper","hideSelect","disabled","selectOptions","ariaMultiSelectable","realOption","_createAndAppendOptionWithIcon","_addOptionToValues","groupId","groupParent","groupChildren","childId","readOnly","ariaReadOnly","ariaRequired","attrs","attributes","attr","ariaExpanded","prepend","dropdownIcon","createElementNS","ariaHidden","userOnOpenEnd","userOnCloseEnd","selectedOption","keyDown","ariaDisabled","span","iconUrl","selected","_deselectValue","_isValueSelected","realValue","_getSelectedOptions","selectedOptions","realOptions","texts","firstDisabledOption","optionIsSelected","cb","_activateOption","ul","Sidenav","edge","draggable","dragTargetWidth","_handleDragTargetDrag","_isCurrentlyFixed","_verticallyScrolling","isDragged","_startDrag","_dragMoveUpdate","totalDeltaX","_xPos","_startingXpos","dragDirection","_width","transformX","transformPrefix","percentOpen","_handleDragTargetRelease","_handleCloseDrag","_handleCloseRelease","_handleCloseTriggerClick","lastWindowWidth","lastWindowHeight","_enableBodyScrolling","_preventBodyScrolling","M_Sidenav","isFixed","_createOverlay","_createDragTarget","_setupClasses","_setupFixed","_sidenavs","dragTarget","passiveIfSupported","sidenavId","sidenavInstance","_time","_initialScrollTop","currentScrollTop","deltaX","velocityX","_removeClasses","_animateSidenavIn","_animateOverlayIn","_animateSidenavOut","_animateOverlayOut","slideOutPercent","endPercent","Slider","interval","pauseOnFocus","pauseOnHover","indicatorLabelFunc","currIndex","_focusCurrent","_handleAutoPauseHover","_hovered","_pause","_handleAutoPauseFocus","_focused","_handleAutoStartHover","eventPause","_handleAutoStartFocus","_handleInterval","activeElem","_slider","newActiveIndex","_slides","pause","newIndex","M_Slider","findIndex","_activeSlide","_setSliderHeight","_sliderId","placeholderBase64","slide","backgroundImage","_setupIndicators","_animateSlide","_removeIndicators","isDirectionIn","dx","dy","arrLi","_caption","nextIndicator","ariaLabel","fromEvent","Tabs","carousel_1","onShow","swipeable","_setTabsAndTabWidth","_tabWidth","_tabsWidth","_indicator","_calcLeftPos","_activeTabLink","_calcRightPos","_handleTabClick","tabLink","tab","_oldContent","_content","hash","_tabLinks","prevIndex","_index","_tabsCarousel","_animateIndicator","M_Tabs","_setupActiveTabLink","_setupSwipeableTabs","_setupNormalTabs","_createIndicator","_teardownSwipeableTabs","_teardownNormalTabs","location","tabsContent","currContent","tabsWrapper","tabContent","activeTabIndex","scrollWidth","updateTabIndicator","leftDelay","rightDelay","select","tabId","TapTarget","_handleTargetClick","_handleOriginClick","_calculatePositioning","_origin","M_TapTarget","dataset","_setup","originEl","waveEl","contentEl","cloneNode","currentElem","parents","originWidth","originHeight","originTop","originLeft","scrollBarWidth","centerX","centerY","isLeft","isRight","isTop","isBottom","isCenterX","tapTargetWidth","tapTargetHeight","tapTargetTop","tapTargetLeft","tapTargetPosition","tapTargetTextWidth","tapTargetTextHeight","tapTargetTextTop","tapTargetTextLeft","tapTargetTextPadding","tapTargetTextAlign","tapTargetWaveWidth","tapTargetWaveHeight","tapTargetWaveTop","tapTargetWaveLeft","tapTargetTextRight","tapTargetTextBottom","verticalAlign","Timepicker","dialRadius","outerRadius","innerRadius","tickRadius","defaultTime","fromNow","twelveHour","vibrate","_handleTimeInputEnterKey","_inputFromTextField","_handleClockClickStart","clockPlateBR","plate","x0","y0","moved","clickPos","_Pos","setHand","_handleDocumentClickMove","_handleDocumentClickEnd","currentView","showView","minutesView","hours","minutes","_handleAmPmClick","btnClicked","amOrPm","_updateAmPmView","view","hoursView","isHours","nextView","hideView","inputHours","inputMinutes","resetClock","toggleViewTimer","drawClockFromTimeInput","hour","getHours","_addLeadingZero","getMinutes","_updateTimeFromInput","clearValue","last","time","M_Timepicker","_clockSetup","_pickerSetup","num","_createSVGEl","digitalClock","navigator","webkitVibrate","_canvas","spanAmPm","footer","_createButton","button","clearButton","confirmationBtnsContainer","cancelButton","doneButton","_amBtn","_pmBtn","_buildHoursView","_buildMinutesView","_buildSVGClock","diameter","svg","g","bearing","hand","bg","$tick","tick","radian","PI","radius","sin","cos","_tick","toUpperCase","self","canvas","cx1","cy1","cx2","cy2","roundBy5","atan2","unit","z","sqrt","inner","vibrateTimer","Toast","displayLength","completeCallback","activationPercent","message","panning","timeRemaining","_toasts","_createContainer","toastElement","_createToast","M_Toast","_setTimer","_onDragStart","_onDragMove","_onDragEnd","_container","_removeContainer","toast","_draggedToast","startingXPos","xPos","activationDistance","wasSwiped","dismiss","dismissAll","toastIndex","toastId","counterInterval","marginTop","Tooltip","exitDelay","enterDelay","margin","transitionMovement","isManual","_getAttributeOptions","_updateTooltipContent","_setEnterDelayTimeout","isHovered","isFocused","_setExitDelayTimeout","_handleBlur","M_Tooltip","_appendTooltipEl","tooltipEl","tooltipContentEl","tooltipId","_setTooltipContent","_exitDelayTimeout","_enterDelayTimeout","_positionTooltip","tooltip","origin","tooltipHeight","tooltipWidth","xMovement","yMovement","targetTop","targetLeft","newCoordinates","_repositionWithinScreen","scrollLeft","newX","newY","bounding","edges","checkWithinContainer","attributeOptions","tooltipTextOption","positionOption","docHandleKeydown","docHandleKeyup","docHandleFocus","docHandleBlur","s4","substring","containerRect","containerBottom","scrolledX","scrolledY","canAlign","containerAllowsOverflow","containerWidth","elOffsetRect","scrolledYTopEdge","scrolledYBottomEdge","scrollY","scrollX","func","wait","context","args","result","timeout","previous","later","leading","apply","remaining","arguments","trailing","Waves","renderWaveEffect","targetElement","color","isCentered","animationFrame","animationStart","animationStep","easing","circle","waveColor","stop","cancelAnimationFrame","isCircular","pageX","pageY","__webpack_module_cache__","moduleId","cachedModule","module","M","buttons_1","cards_1","characterCounter_1","chips_1","collapsible_1","datepicker_1","forms_1","materialbox_1","parallax_1","pushpin_1","scrollspy_1","sidenav_1","slider_1","tabs_1","tapTarget_1","timepicker_1","toasts_1","tooltip_1","waves_1","range_1","AutoInit","registry","version","opt","__webpack_require__","_Interactive_parent","_Interactive_add_panel_id","_Interactive_add_panel_el","__classPrivateFieldSet","receiver","state","kind","f","TypeError","has","__classPrivateFieldGet","get","WeakMap","parent","add_panel_id","add_panel_button","setup","grid","add_panel","getElements","root","doc","list","getElement","shouldSizeToContent","sizeToContent","isIntercepted","h","w","isTouching","areaIntercept","x1","y1","area","sort","nodes","column","reduce","col","createStylesheet","nonce","styleSheet","cssText","getElementsByTagName","sheet","removeStylesheet","addCSSRule","rules","addRule","insertRule","toBool","Boolean","toNumber","Number","parseHeight","val","match","sources","source","same","copyPos","doMinMax","minW","minH","maxW","maxH","samePos","sanitizeMinMax","node","removeInternalAndSame","removeInternalForSave","removeEl","autoPosition","noResize","noMove","locked","isWaiting","removePositioningStyles","removeProperty","getScrollElement","scrollingElement","overflowY","updateScrollPosition","distance","rect","innerHeightOrClientHeight","offsetDiffDown","offsetDiffUp","scrollEl","prevScroll","updateScrollResize","event","pointerPosY","scrollBy","clone","cloneDeep","skipFields","ret","k","appendTo","addElStyles","styles","s","initEvent","info","evt","which","buttons","dataTransfer","p","simulateMouseEvent","simulatedType","simulatedEvent","createEvent","initMouseEvent","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","GridStackEngine","addedNodes","removedNodes","maxRow","_float","onChange","batchUpdate","flag","doPack","batchMode","_prevFloat","cleanNodes","saveInitial","_packNodes","_notify","_useEntireRowArea","nn","_hasLocked","_moving","_skipDown","_fixCollisions","collide","sortNodes","nested","swap","skip","didMove","newOpt","pack","moveNode","skip2","skipId","_id","skip2Id","collideAll","directionCollideCoverage","o","collides","_rect","r0","overMax","r2","yOver","MAX_VALUE","xOver","over","cacheRects","_doSwap","_dirty","touching","t","isAreaEmpty","compact","layout","doSort","wasBatch","wasColumnResize","_inColumnResize","copyNodes","addNode","_updating","_orig","prepareNode","resizing","_idSeq","nodeBoundFix","findCacheLayout","copy","cacheOneLayout","getDirtyNodes","verify","dirtyNodes","concat","_lastTried","restoreInitial","findEmptyPosition","nodeList","found","triggerAddEvent","skipCollision","_temporaryRemoved","_removeDOM","removeNode","removeDOM","triggerEvent","_isAboutToRemove","removeAll","_layouts","moveNodeCheck","changedPosConstrain","clonedNode","canMove","getRow","gridstackNode","willItFit","_willFitPos","cleanupNode","wasUndefinedPack","forceCollide","prevPos","needToMove","activeDrag","subGridDynamic","_isTemp","a1","a2","makeSubGrid","beginUpdate","endUpdate","save","saveElement","saveCB","len","wl","l","layoutsNodesChange","columnChanged","prevColumn","doCompact","cacheLayout","newNodes","domOrder","cacheNodes","lastIndex","cacheNode","move","scale","existing","n2","removeNodeFromLayoutCache","prop","gridDefaults","alwaysShowResizeHandle","animate","auto","cellHeight","cellHeightThrottle","cellHeightUnit","handle","scroll","itemClass","marginUnit","minRow","placeholderClass","placeholderText","removableOptions","accept","decline","resizable","handles","rtl","dragInDefaultOptions","DDManager","isTouch","DocumentTouch","maxTouchPoints","msMaxTouchPoints","DDTouch","touches","touch","changedTouches","simulatePointerMouseEvent","touchstart","touchHandled","touchmove","touchend","pointerLeaveTimeout","wasDragging","dragElement","pointerdown","pointerType","releasePointerCapture","pointerId","pointerenter","pointerleave","DDResizableHandle","host","moving","_mouseDown","_mouseMove","_mouseUp","_init","userSelect","mouseDownEvent","_triggerEvent","DDBaseImplement","_eventRegister","_disabled","on","off","enable","disable","eventName","DDResizable","rectScale","_ui","containmentRect","newRect","originalRect","temporalRect","size","_mouseOver","_mouseOut","_setupAutoHide","autoHide","_setupHandlers","_removeHandlers","updateOption","updateHandles","updateAutoHide","overResizeElement","handlerDirection","handlers","_resizeStart","_resizeStop","_resizing","startEvent","_setupHelper","_applyChange","ev","_getChange","resize","_cleanHelper","elOriginStyleVal","_originStyleProp","parentOriginStylePosition","testEl","testElPosition","oEvent","constrain","_constrainSize","oWidth","oHeight","MAX_SAFE_INTEGER","minWidth","minHeight","containmentEl","scaleReciprocal","DDDraggable","dragScale","handleName","dragEl","forDestroy","dragTimeout","helper","mouseHandled","dragging","dropElement","activeElement","blur","_callDrag","drag","ui","_dragFollow","pauseDrag","isInteger","ddElement","ddDroppable","_createHelper","_setupHelperContainmentStyle","dragOffset","_getDragOffset","helperContainment","_setupHelperStyle","_removeHelperStyle","drop","dragElementOriginStyle","originStyleProp","pointerEvents","xformOffsetX","xformOffsetY","targetOffset","DDDroppable","_mouseEnter","_mouseLeave","_setupAccept","_canDrop","out","parentDrop","matches","DDElement","ddDraggable","ddResizable","setupDraggable","cleanDraggable","setupResizable","cleanResizable","setupDroppable","cleanDroppable","_getDDElements","dEl","dragIn","droppable","_accept","isDroppable","isDraggable","isResizable","create","hosts","GridStack","elOrString","getGridElement","gridstack","initAll","grids","getGridElements","addGrid","load","addRemoveCB","implementation","createHTMLDocument","class","registerEngine","engineClass","_placeholder","placeholderChild","className","_gsEventHandler","_extraDragRow","rowAttr","_alwaysShowResizeHandle","bk","columnOpts","breakpoints","oldOpts","oneColumnModeDomSort","log","oneColumnSize","disableOneColumnMode","oneSize","oneColumn","resp","columnWidth","columnMax","staticGrid","handleClass","_initMargin","checkDynamicColumn","grandParent","parentGridItem","subGrid","_isAutoCellHeight","_styleSheetClass","_setStaticClass","engine","getColumn","cbNodes","_writePosAttr","_updateStyles","getGridItems","_prepareElement","setAnimation","_setupRemoveDrop","_setupAcceptWidget","_updateResizeEvent","addWidget","domAttr","_readAttr","_writeAttr","_insertNotAppend","makeWidget","ops","nodeToAdd","saveContent","subGridTemplate","autoColumn","subGridOpts","newItem","newItemOpt","_removeDD","_prepareDragDropByNode","update","_autoColumn","_event","removeAsSubGrid","nodeThatRemoved","pGrid","removeWidget","saveGridOpt","sub","listOrOpt","marginBottom","marginRight","origShow","addRemove","haveCoord","_ignoreLayoutsNodeChange","prevCB","removed","noAnim","updateNodes","_updateContainerHeight","_triggerRemoveEvent","_triggerAddEvent","_triggerChangeEvent","getCellHeight","forcePixel","marginDiff","cellWidth","resizeToContentCheck","_widthOrContainer","forBreakpoint","breakpointForWindow","newColumn","oldColumn","offAll","setStatic","_removeStylesheet","getFloat","getCellFromPixel","useDocRelative","containerPos","relativeLeft","relativeTop","rowHeight","noData","doAnimate","hasAnimationCSS","updateClass","recurse","warn","itemContent","styleInHead","changed","ddChanged","widthChanged","resizeToContent","cell","resizeToContentParent","itemH","wantedH","child","firstElementChild","softMax","resizeToContentCBCheck","resizeToContentCB","getMargin","elements","_styles","styleLocation","forceUpdate","_max","getHeight","cssMinHeight","String","clearDefaultAttr","onResize","prevWidth","_skipInitialResize","forceRemove","trackSize","resizeObserver","disconnect","_sizeThrottle","ResizeObserver","observe","margins","getDD","setupDragIn","dragInOptions","movable","enableMove","enableResize","doEnable","disableDrag","disableResize","_initDD","acceptWidgets","removable","onDrag","_onStartMoving","_dragOrResize","canAccept","_leave","_isExternal","_gridstackNodeOrig","_itemRemoving","wasAdded","origNode","oGrid","trashEl","onStartMoving","dragOrResize","onEndMoving","_lastUiPosition","_prevYPix","mLeft","mRight","mTop","mBottom","mHeight","mWidth","extra","commit","Engine","GDRev","_Grid_grid","DEFAULT_GRID_OPTIONS","DEFAULT_WIDGET","childNodes","_Plot_interactive","_Plot_grid","interactive","_Panel_youtube_video_id_regex","_Panel_form","_Panel_iframe","form","iframe","url","FormData","video_url","href","page"],"sourceRoot":""}